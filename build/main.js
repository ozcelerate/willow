webpackJsonp([0],{

/***/ 1010:
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": 445,
	"./af.js": 445,
	"./ar": 446,
	"./ar-dz": 447,
	"./ar-dz.js": 447,
	"./ar-kw": 448,
	"./ar-kw.js": 448,
	"./ar-ly": 449,
	"./ar-ly.js": 449,
	"./ar-ma": 450,
	"./ar-ma.js": 450,
	"./ar-sa": 451,
	"./ar-sa.js": 451,
	"./ar-tn": 452,
	"./ar-tn.js": 452,
	"./ar.js": 446,
	"./az": 453,
	"./az.js": 453,
	"./be": 454,
	"./be.js": 454,
	"./bg": 455,
	"./bg.js": 455,
	"./bm": 456,
	"./bm.js": 456,
	"./bn": 457,
	"./bn.js": 457,
	"./bo": 458,
	"./bo.js": 458,
	"./br": 459,
	"./br.js": 459,
	"./bs": 460,
	"./bs.js": 460,
	"./ca": 461,
	"./ca.js": 461,
	"./cs": 462,
	"./cs.js": 462,
	"./cv": 463,
	"./cv.js": 463,
	"./cy": 464,
	"./cy.js": 464,
	"./da": 465,
	"./da.js": 465,
	"./de": 466,
	"./de-at": 467,
	"./de-at.js": 467,
	"./de-ch": 468,
	"./de-ch.js": 468,
	"./de.js": 466,
	"./dv": 469,
	"./dv.js": 469,
	"./el": 470,
	"./el.js": 470,
	"./en-au": 471,
	"./en-au.js": 471,
	"./en-ca": 472,
	"./en-ca.js": 472,
	"./en-gb": 473,
	"./en-gb.js": 473,
	"./en-ie": 474,
	"./en-ie.js": 474,
	"./en-nz": 475,
	"./en-nz.js": 475,
	"./eo": 476,
	"./eo.js": 476,
	"./es": 477,
	"./es-do": 478,
	"./es-do.js": 478,
	"./es-us": 479,
	"./es-us.js": 479,
	"./es.js": 477,
	"./et": 480,
	"./et.js": 480,
	"./eu": 481,
	"./eu.js": 481,
	"./fa": 482,
	"./fa.js": 482,
	"./fi": 483,
	"./fi.js": 483,
	"./fo": 484,
	"./fo.js": 484,
	"./fr": 485,
	"./fr-ca": 486,
	"./fr-ca.js": 486,
	"./fr-ch": 487,
	"./fr-ch.js": 487,
	"./fr.js": 485,
	"./fy": 488,
	"./fy.js": 488,
	"./gd": 489,
	"./gd.js": 489,
	"./gl": 490,
	"./gl.js": 490,
	"./gom-latn": 491,
	"./gom-latn.js": 491,
	"./gu": 492,
	"./gu.js": 492,
	"./he": 493,
	"./he.js": 493,
	"./hi": 494,
	"./hi.js": 494,
	"./hr": 495,
	"./hr.js": 495,
	"./hu": 496,
	"./hu.js": 496,
	"./hy-am": 497,
	"./hy-am.js": 497,
	"./id": 498,
	"./id.js": 498,
	"./is": 499,
	"./is.js": 499,
	"./it": 500,
	"./it.js": 500,
	"./ja": 501,
	"./ja.js": 501,
	"./jv": 502,
	"./jv.js": 502,
	"./ka": 503,
	"./ka.js": 503,
	"./kk": 504,
	"./kk.js": 504,
	"./km": 505,
	"./km.js": 505,
	"./kn": 506,
	"./kn.js": 506,
	"./ko": 507,
	"./ko.js": 507,
	"./ky": 508,
	"./ky.js": 508,
	"./lb": 509,
	"./lb.js": 509,
	"./lo": 510,
	"./lo.js": 510,
	"./lt": 511,
	"./lt.js": 511,
	"./lv": 512,
	"./lv.js": 512,
	"./me": 513,
	"./me.js": 513,
	"./mi": 514,
	"./mi.js": 514,
	"./mk": 515,
	"./mk.js": 515,
	"./ml": 516,
	"./ml.js": 516,
	"./mr": 517,
	"./mr.js": 517,
	"./ms": 518,
	"./ms-my": 519,
	"./ms-my.js": 519,
	"./ms.js": 518,
	"./my": 520,
	"./my.js": 520,
	"./nb": 521,
	"./nb.js": 521,
	"./ne": 522,
	"./ne.js": 522,
	"./nl": 523,
	"./nl-be": 524,
	"./nl-be.js": 524,
	"./nl.js": 523,
	"./nn": 525,
	"./nn.js": 525,
	"./pa-in": 526,
	"./pa-in.js": 526,
	"./pl": 527,
	"./pl.js": 527,
	"./pt": 528,
	"./pt-br": 529,
	"./pt-br.js": 529,
	"./pt.js": 528,
	"./ro": 530,
	"./ro.js": 530,
	"./ru": 531,
	"./ru.js": 531,
	"./sd": 532,
	"./sd.js": 532,
	"./se": 533,
	"./se.js": 533,
	"./si": 534,
	"./si.js": 534,
	"./sk": 535,
	"./sk.js": 535,
	"./sl": 536,
	"./sl.js": 536,
	"./sq": 537,
	"./sq.js": 537,
	"./sr": 538,
	"./sr-cyrl": 539,
	"./sr-cyrl.js": 539,
	"./sr.js": 538,
	"./ss": 540,
	"./ss.js": 540,
	"./sv": 541,
	"./sv.js": 541,
	"./sw": 542,
	"./sw.js": 542,
	"./ta": 543,
	"./ta.js": 543,
	"./te": 544,
	"./te.js": 544,
	"./tet": 545,
	"./tet.js": 545,
	"./th": 546,
	"./th.js": 546,
	"./tl-ph": 547,
	"./tl-ph.js": 547,
	"./tlh": 548,
	"./tlh.js": 548,
	"./tr": 549,
	"./tr.js": 549,
	"./tzl": 550,
	"./tzl.js": 550,
	"./tzm": 551,
	"./tzm-latn": 552,
	"./tzm-latn.js": 552,
	"./tzm.js": 551,
	"./uk": 553,
	"./uk.js": 553,
	"./ur": 554,
	"./ur.js": 554,
	"./uz": 555,
	"./uz-latn": 556,
	"./uz-latn.js": 556,
	"./uz.js": 555,
	"./vi": 557,
	"./vi.js": 557,
	"./x-pseudo": 558,
	"./x-pseudo.js": 558,
	"./yo": 559,
	"./yo.js": 559,
	"./zh-cn": 560,
	"./zh-cn.js": 560,
	"./zh-hk": 561,
	"./zh-hk.js": 561,
	"./zh-tw": 562,
	"./zh-tw.js": 562
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 1010;

/***/ }),

/***/ 1011:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ErrorNotAuthenticated; });
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var ErrorNotAuthenticated = (function (_super) {
    __extends(ErrorNotAuthenticated, _super);
    function ErrorNotAuthenticated(message) {
        var _this = 
        // Subclassing Error, Array and other builtin-classes require this code:
        _super.call(this, message) || this;
        Object.setPrototypeOf(_this, ErrorNotAuthenticated.prototype);
        return _this;
        // Read more stackoverflow.com/questions/31626231/custom-error-class-in-typescript
    }
    return ErrorNotAuthenticated;
}(Error));

//# sourceMappingURL=not-authenticated.error.js.map

/***/ }),

/***/ 1012:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ColorRadio; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ColorRadio = (function () {
    function ColorRadio(el, renderer) {
        this.el = el;
        this.renderer = renderer;
    }
    ColorRadio.prototype.setColor = function (color) {
        this.renderer.setElementStyle(this.el.nativeElement, 'backgroundColor', color);
        this.renderer.setElementStyle(this.el.nativeElement, 'borderColor', color);
    };
    ColorRadio.prototype.ngOnInit = function () {
        console.log(this.color);
        this.setColor(this.color);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])('color-radio'),
        __metadata("design:type", String)
    ], ColorRadio.prototype, "color", void 0);
    ColorRadio = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* Directive */])({
            selector: '[color-radio]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* ElementRef */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["W" /* Renderer */]])
    ], ColorRadio);
    return ColorRadio;
}());

//# sourceMappingURL=color-radio.js.map

/***/ }),

/***/ 1013:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export UserModel */
/* unused harmony export ProfilePostModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileModel; });
var UserModel = (function () {
    function UserModel() {
    }
    return UserModel;
}());

var ProfilePostModel = (function () {
    function ProfilePostModel() {
        this.likes = 0;
        this.comments = 0;
        this.liked = false;
    }
    return ProfilePostModel;
}());

var ProfileModel = (function () {
    function ProfileModel() {
        this.user = new UserModel();
        this.following = [];
        this.followers = [];
        this.posts = [];
    }
    return ProfileModel;
}());

//# sourceMappingURL=worker-clockon.model.js.map

/***/ }),

/***/ 1014:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export FeedPostModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FeedModel; });
var FeedPostModel = (function () {
    function FeedPostModel() {
        this.likes = 0;
        this.comments = 0;
        this.liked = false;
    }
    return FeedPostModel;
}());

var FeedModel = (function () {
    function FeedModel() {
    }
    return FeedModel;
}());

//# sourceMappingURL=feed.model.js.map

/***/ }),

/***/ 1015:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FiltersPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_counter_input_counter_input__ = __webpack_require__(212);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FiltersPage = (function () {
    function FiltersPage(nav) {
        this.nav = nav;
        this.rangeForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            single: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](25),
            dual: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */]({ lower: 33, upper: 60 })
        });
        this.checkboxForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            person_1: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](true),
            person_2: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false),
            person_3: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false),
            person_4: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](true),
            person_5: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false)
        });
        this.radioForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            selected_option: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */]('apple')
        });
        this.checkboxTagsForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            tag_1: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false),
            tag_2: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false),
            tag_3: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](true),
            tag_4: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](true),
            tag_5: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false),
            tag_6: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false),
            tag_7: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](true),
            tag_8: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false)
        });
        this.radioTagsForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            selected_option: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */]('any')
        });
        this.switchersForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            notifications: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](true),
            email_notifications: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](false)
        });
        this.counterForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            counter: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](5, Object(__WEBPACK_IMPORTED_MODULE_3__components_counter_input_counter_input__["b" /* counterRangeValidator */])(7, 1)),
            counter2: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](2, Object(__WEBPACK_IMPORTED_MODULE_3__components_counter_input_counter_input__["b" /* counterRangeValidator */])(5, 1))
        });
        this.ratingForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            rate: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](2.5),
            rate2: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */](1.5)
        });
        this.radioColorForm = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["c" /* FormGroup */]({
            selected_color: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormControl */]('#fc9961')
        });
    }
    FiltersPage.prototype.rangeChange = function (range) {
        console.log("range, change, ratio: " + range.ratio + ", value: " + range.value);
    };
    FiltersPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'filters-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/filters/filters.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Filters</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="filters-content">\n  <ion-item-group class="filters-group">\n    <ion-item-divider>Range</ion-item-divider>\n    <form [formGroup]="rangeForm">\n      <ion-list class="range-list">\n        <ion-item class="range-item">\n          <ion-label>\n            <h3 class="range-value">{{rangeForm.controls.dual.value.lower}}</h3>\n            <h2 class="range-label">Quantity</h2>\n            <h3 class="range-value">{{rangeForm.controls.dual.value.upper}}</h3>\n          </ion-label>\n          <ion-range dualKnobs="true" formControlName="dual" (ionChange)="rangeChange($event)" min="21" max="72" step="3" snaps="true" pin="false"></ion-range>\n        </ion-item>\n        <ion-item class="range-item single-range">\n          <ion-label>\n            <h2 class="range-label">Amount</h2>\n            <h3 class="range-value">{{rangeForm.controls.single.value}}</h3>\n          </ion-label>\n          <ion-range formControlName="single" (ionChange)="rangeChange($event)" min="0" max="50" step="1" snaps="true" pin="false"></ion-range>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Multiple items</ion-item-divider>\n    <form [formGroup]="checkboxForm">\n      <ion-list class="checkbox-list">\n        <ion-item class="checkbox-item">\n          <ion-label>Sophia Martin</ion-label>\n          <ion-checkbox formControlName="person_1"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-item">\n          <ion-label>Mattie Abbott</ion-label>\n          <ion-checkbox formControlName="person_2"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-item">\n          <ion-label>Marguerite Alvarez</ion-label>\n          <ion-checkbox formControlName="person_3"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-item">\n          <ion-label>Lewis Padilla</ion-label>\n          <ion-checkbox formControlName="person_4"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-item">\n          <ion-label>Nannie Willis</ion-label>\n          <ion-checkbox formControlName="person_5"></ion-checkbox>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Pick one</ion-item-divider>\n    <form [formGroup]="radioForm">\n      <ion-list class="radio-group" radio-group formControlName="selected_option">\n        <ion-item class="radio-item">\n          <ion-label>Apple</ion-label>\n          <ion-radio item-left value="apple"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-item">\n          <ion-label>Banana</ion-label>\n          <ion-radio item-left value="banana"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-item">\n          <ion-label>Orange</ion-label>\n          <ion-radio item-left value="orange" disabled="true"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-item">\n          <ion-label>Kiwi</ion-label>\n          <ion-radio item-left value="kiwi"></ion-radio>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Tags (multiple)</ion-item-divider>\n    <form [formGroup]="checkboxTagsForm">\n      <ion-list class="checkbox-tags">\n        <ion-item class="checkbox-tag">\n          <ion-label>Indonesia</ion-label>\n          <ion-checkbox formControlName="tag_1"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Pitcairn Islands</ion-label>\n          <ion-checkbox formControlName="tag_2"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Malta</ion-label>\n          <ion-checkbox formControlName="tag_3"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Sierra Leone</ion-label>\n          <ion-checkbox formControlName="tag_4"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Dominican Republic</ion-label>\n          <ion-checkbox formControlName="tag_5"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Antigua and Barbuda</ion-label>\n          <ion-checkbox formControlName="tag_6"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Macedonia</ion-label>\n          <ion-checkbox formControlName="tag_7"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Vietnam</ion-label>\n          <ion-checkbox formControlName="tag_8"></ion-checkbox>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>More Tags (multiple)</ion-item-divider>\n    <form [formGroup]="checkboxTagsForm">\n      <ion-list class="checkbox-tags rounded-tags">\n        <ion-item class="checkbox-tag">\n          <ion-label>Indonesia</ion-label>\n          <ion-checkbox formControlName="tag_1"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Pitcairn Islands</ion-label>\n          <ion-checkbox formControlName="tag_2"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Malta</ion-label>\n          <ion-checkbox formControlName="tag_3"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Sierra Leone</ion-label>\n          <ion-checkbox formControlName="tag_4"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Dominican Republic</ion-label>\n          <ion-checkbox formControlName="tag_5"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Antigua and Barbuda</ion-label>\n          <ion-checkbox formControlName="tag_6"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Macedonia</ion-label>\n          <ion-checkbox formControlName="tag_7"></ion-checkbox>\n        </ion-item>\n        <ion-item class="checkbox-tag">\n          <ion-label>Vietnam</ion-label>\n          <ion-checkbox formControlName="tag_8"></ion-checkbox>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Budget (Radio Tags)</ion-item-divider>\n    <form [formGroup]="radioTagsForm">\n      <ion-list class="radio-tags" radio-group formControlName="selected_option">\n        <ion-item class="radio-tag">\n          <ion-label>Any</ion-label>\n          <ion-radio value="any"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag">\n          <ion-label>\n            <span>&#36;</span>\n          </ion-label>\n          <ion-radio value="1"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag">\n          <ion-label>\n            <span>&#36;&#36;</span>\n          </ion-label>\n          <ion-radio value="2" disabled="true"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag">\n          <ion-label>\n            <span>&#36;&#36;&#36;</span>\n          </ion-label>\n          <ion-radio value="3"></ion-radio>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Switchers</ion-item-divider>\n    <form [formGroup]="switchersForm">\n      <ion-list class="switchers-list">\n        <ion-item class="switcher-item">\n          <ion-label>Notifications</ion-label>\n          <ion-toggle formControlName="notifications"></ion-toggle>\n        </ion-item>\n        <ion-item class="switcher-item">\n          <ion-label>Email notifications</ion-label>\n          <ion-toggle formControlName="email_notifications"></ion-toggle>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Add & Subtract</ion-item-divider>\n    <form [formGroup]="counterForm">\n      <ion-list class="counter-list">\n        <ion-item class="counter-item">\n          <span class="counter-label">Amount</span>\n          <counter-input formControlName="counter"></counter-input>\n        </ion-item>\n        <ion-item class="counter-item">\n          <span class="counter-label">Bedrooms</span>\n          <span class="counter-value">{{counterForm.controls.counter2.value}}</span>\n          <counter-input formControlName="counter2" basic></counter-input>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Rating</ion-item-divider>\n    <form [formGroup]="ratingForm">\n      <ion-list class="ratings-list">\n        <ion-item class="rating-item">\n          <span class="rating-label">Minimum</span>\n          <rating formControlName="rate" max="5"></rating>\n        </ion-item>\n        <ion-item class="rating-item">\n          <span class="rating-label">Read Only</span>\n          <rating formControlName="rate2" max="3" read-only="true"></rating>\n        </ion-item>\n      </ion-list>\n    </form>\n\n    <ion-item-divider>Color</ion-item-divider>\n    <form [formGroup]="radioColorForm">\n      <ion-list class="radio-tags color-tags" radio-group formControlName="selected_color">\n        <ion-item class="radio-tag" color-radio="#fc6161">\n          <ion-label>Red</ion-label>\n          <ion-radio value="#fc6161"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#fc9961">\n          <ion-radio value="#fc9961"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#fcea61">\n          <ion-label>Yellow</ion-label>\n          <ion-radio value="#fcea61" disabled="true"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#affc61">\n          <ion-label>Green</ion-label>\n          <ion-radio value="#affc61"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#61fcc5">\n          <ion-radio value="#61fcc5"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#fc61ad">\n          <ion-radio value="#fc61ad"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#b561fc">\n          <ion-radio value="#b561fc"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#6182fc">\n          <ion-radio value="#6182fc"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag" color-radio="#61d1fc">\n          <ion-radio value="#61d1fc"></ion-radio>\n        </ion-item>\n      </ion-list>\n    </form>\n  </ion-item-group>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/filters/filters.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */]])
    ], FiltersPage);
    return FiltersPage;
}());

//# sourceMappingURL=filters.js.map

/***/ }),

/***/ 1016:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormLayoutPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_counter_input_counter_input__ = __webpack_require__(212);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FormLayoutPage = (function () {
    function FormLayoutPage(nav, alertCtrl) {
        this.nav = nav;
        this.alertCtrl = alertCtrl;
        this.section = "event";
        this.post_form = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormGroup */]({
            title: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            description: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            servings: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](2, Object(__WEBPACK_IMPORTED_MODULE_3__components_counter_input_counter_input__["b" /* counterRangeValidator */])(10, 1)),
            time: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('01:30', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            temperature: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](180)
        });
        this.event_form = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormGroup */]({
            title: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            location: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            from_date: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('2016-09-18', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            from_time: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('13:00', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            to_date: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            to_time: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required)
        });
        this.card_form = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormGroup */]({
            card_number: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            card_holder: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            cvc: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            exp_date: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            save_card: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](true, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required)
        });
    }
    FormLayoutPage.prototype.onSegmentChanged = function (segmentButton) {
        // console.log('Segment changed to', segmentButton.value);
    };
    FormLayoutPage.prototype.onSegmentSelected = function (segmentButton) {
        // console.log('Segment selected', segmentButton.value);
    };
    FormLayoutPage.prototype.createPost = function () {
        console.log(this.post_form.value);
    };
    FormLayoutPage.prototype.createEvent = function () {
        console.log(this.event_form.value);
    };
    FormLayoutPage.prototype.createCard = function () {
        console.log(this.card_form.value);
    };
    FormLayoutPage.prototype.chooseCategory = function () {
        var _this = this;
        var alert = this.alertCtrl.create({
            cssClass: 'category-prompt'
        });
        alert.setTitle('Category');
        alert.addInput({
            type: 'checkbox',
            label: 'Alderaan',
            value: 'Logan',
            checked: true
        });
        alert.addInput({
            type: 'checkbox',
            label: 'Bespin',
            value: 'Barbados'
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Confirm',
            handler: function (data) {
                console.log('Checkbox data:', data);
                _this.categories_checkbox_open = false;
                _this.categories_checkbox_result = data;
            }
        });
        alert.present().then(function () {
            _this.categories_checkbox_open = true;
        });
    };
    FormLayoutPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["n" /* Component */])({
            selector: 'form-layout-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/form-layout/form-layout.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Forms Examples</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="forms-examples-content">\n  <ion-segment class="forms-examples-segment" [(ngModel)]="section" (ionChange)="onSegmentChanged($event)">\n    <ion-segment-button value="post" (ionSelect)="onSegmentSelected($event)">\n      Tasks\n    </ion-segment-button>\n    <ion-segment-button value="event" (ionSelect)="onSegmentSelected($event)">\n      SWMs\n    </ion-segment-button>\n    <ion-segment-button value="card" (ionSelect)="onSegmentSelected($event)">\n      Safety Focus\n    </ion-segment-button>\n  </ion-segment>\n  <div [ngSwitch]="section" class="forms-wrapper">\n    <div *ngSwitchCase="\'post\'" class="post-example-view">\n      <form class="sample-form post-form" [formGroup]="post_form" (ngSubmit)="createPost()">\n        <section class="form-section">\n          <ion-item>\n            <ion-input type="text" placeholder="Title: e.g. Krabby Patty" formControlName="title"></ion-input>\n          </ion-item>\n          <button ion-button block large class="upload-image-button">\n            <ion-icon name="camera"></ion-icon>\n            <h3 class="button-title">upload an image</h3>\n          </button>\n        </section>\n        <ion-item>\n          <ion-textarea rows="7" placeholder="Write a description or something..." formControlName="description"></ion-textarea>\n        </ion-item>\n        <section class="form-section">\n          <button ion-button block icon-right class="choose-category-button" (click)="chooseCategory()">\n            Choose category\n            <ion-icon name="add"></ion-icon>\n          </button>\n          <p *ngIf="siteSelected">{{categories_checkbox_result[0]}}</p>\n\n        </section>\n        <h2 class="section-title">Serves, times and temps</h2>\n        <ion-item class="counter-item">\n          <span class="counter-label">Servings</span>\n          <counter-input formControlName="servings"></counter-input>\n        </ion-item>\n        <ion-item class="time-item">\n          <ion-label>Time</ion-label>\n          <ion-datetime formControlName="time" displayFormat="h:mm" pickerFormat="h mm"></ion-datetime>\n        </ion-item>\n        <ion-item class="range-item">\n          <ion-label>\n            <h2 class="range-label">Temperature</h2>\n            <h3 class="range-value">{{post_form.controls.temperature.value}} &deg;C</h3>\n          </ion-label>\n          <ion-range formControlName="temperature" min="0" max="220" step="5" snaps="true" pin="false"></ion-range>\n        </ion-item>\n        <section class="form-section">\n          <button ion-button block class="form-action-button create-post-button" type="submit" [disabled]="!post_form.valid">Post!</button>\n        </section>\n      </form>\n    </div>\n    <div *ngSwitchCase="\'event\'" class="event-example-view">\n      <form class="sample-form event-form" [formGroup]="event_form" (ngSubmit)="createEvent()">\n        <section class="form-section">\n          <h2 class="section-title">Add an event</h2>\n          <ion-item>\n            <ion-input type="text" placeholder="Event title" formControlName="title"></ion-input>\n          </ion-item>\n          <ion-item icon-right>\n            <ion-input type="text" placeholder="Location" formControlName="location"></ion-input>\n            <ion-icon name="navigate" item-right></ion-icon>\n          </ion-item>\n          <ion-row no-padding class="multi-input-row">\n            <ion-col no-padding width-60>\n              <ion-item class="multi-input time-item">\n                <ion-label floating>From</ion-label>\n                <ion-datetime formControlName="from_date" displayFormat="DD/MM/YY" pickerFormat="DD-MM-YYYY"></ion-datetime>\n              </ion-item>\n            </ion-col>\n            <ion-col no-padding width-40>\n              <ion-item class="multi-input time-item">\n                <ion-datetime formControlName="from_time" displayFormat="h mm a" pickerFormat="h mm A"></ion-datetime>\n              </ion-item>\n            </ion-col>\n          </ion-row>\n          <ion-row no-padding class="multi-input-row">\n            <ion-col no-padding width-60>\n              <ion-item class="multi-input time-item">\n                <ion-label floating>To</ion-label>\n                <ion-datetime formControlName="to_date" displayFormat="DD/MM/YY" pickerFormat="DD-MM-YYYY"></ion-datetime>\n              </ion-item>\n            </ion-col>\n            <ion-col no-padding width-40>\n              <ion-item class="multi-input time-item">\n                <ion-datetime formControlName="to_time" displayFormat="h mm a" pickerFormat="h mm A"></ion-datetime>\n              </ion-item>\n            </ion-col>\n          </ion-row>\n        </section>\n        <section class="form-section">\n          <button ion-button block class="form-action-button create-event-button" type="submit" [disabled]="!event_form.valid">Done!</button>\n        </section>\n      </form>\n    </div>\n    <div *ngSwitchCase="\'card\'" class="card-example-view">\n      <form class="sample-form card-form" [formGroup]="card_form" (ngSubmit)="createCard()">\n        <section class="form-section">\n          <h2 class="section-title">Credit Card Information</h2>\n          <ion-item>\n            <ion-label floating>Card Number</ion-label>\n            <ion-input type="text" formControlName="card_number"></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label floating>Card Holder</ion-label>\n            <ion-input type="text" formControlName="card_holder"></ion-input>\n          </ion-item>\n          <ion-row no-padding class="multi-input-row">\n            <ion-col no-padding width-50>\n              <ion-item class="multi-input">\n                <ion-label floating>CVC</ion-label>\n                <ion-input type="text" formControlName="cvc"></ion-input>\n              </ion-item>\n            </ion-col>\n            <ion-col no-padding width-50>\n              <ion-item class="multi-input time-item">\n                <ion-label floating>Exp. Date</ion-label>\n                <ion-datetime formControlName="exp_date" displayFormat="MM/YYYY" pickerFormat="MM-YYYY"></ion-datetime>\n              </ion-item>\n            </ion-col>\n          </ion-row>\n        </section>\n        <ion-list class="card-preferences">\n          <ion-item class="switcher-item">\n            <ion-label>Save this card</ion-label>\n            <ion-toggle formControlName="save_card"></ion-toggle>\n          </ion-item>\n        </ion-list>\n        <section class="form-section">\n          <button ion-button block class="form-action-button create-card-button" type="submit" [disabled]="!card_form.valid">Confirm</button>\n        </section>\n      </form>\n    </div>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/form-layout/form-layout.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["a" /* AlertController */]])
    ], FormLayoutPage);
    return FormLayoutPage;
}());

//# sourceMappingURL=form-layout.js.map

/***/ }),

/***/ 1017:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GridPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GridPage = (function () {
    function GridPage(nav) {
        this.nav = nav;
    }
    GridPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'grid-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/grid/grid.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Grid</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-item-group>\n    <ion-item-divider>Grid Example #1</ion-item-divider>\n    <ion-row class="grid-1 grid-example">\n      <ion-col width-100 class="grid-item">\n        <div class="grid-item-wrapper">\n          <div class="grid-item-inner multi-line">\n            <h2 class="item-title">1</h2>\n            <h2 class="item-title">1</h2>\n            <h2 class="item-title">1</h2>\n            <h2 class="item-title">1</h2>\n          </div>\n        </div>\n      </ion-col>\n      <ion-col width-50 class="grid-item" *ngFor="let item of [2, 3, 4, 5, 6]">\n        <div class="grid-item-wrapper">\n          <div class="grid-item-inner">\n            <h2 class="item-title">{{ item }}</h2>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n    <ion-item-divider>Grid Example #2</ion-item-divider>\n    <ion-row class="grid-2 grid-example">\n      <ion-col width-67 class="grid-item">\n        <div class="grid-item-wrapper">\n          <div class="grid-item-inner multi-line">\n            <h2 class="item-title">1</h2>\n            <h2 class="item-title">1</h2>\n            <h2 class="item-title">1</h2>\n          </div>\n        </div>\n      </ion-col>\n      <ion-col width-33 class="grid-item double-item">\n        <ion-col width-100 class="grid-item" *ngFor="let item of [2, 3]">\n          <div class="grid-item-wrapper">\n            <div class="grid-item-inner">\n              <h2 class="item-title">{{ item }}</h2>\n            </div>\n          </div>\n        </ion-col>\n      </ion-col>\n      <ion-col width-33 class="grid-item" *ngFor="let item of [4, 5, 6, 7]">\n        <div class="grid-item-wrapper">\n          <div class="grid-item-inner">\n            <h2 class="item-title">{{ item }}</h2>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n    <ion-item-divider>Grid Example #3</ion-item-divider>\n    <ion-row class="grid-3 grid-example">\n      <ion-col width-50 class="grid-item" *ngFor="let item of [1, 2, 3, 4, 5, 6, 7]">\n        <div class="grid-item-wrapper">\n          <div class="grid-item-inner">\n            <h2 class="item-title">{{ item }}</h2>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n    <ion-item-divider>Grid Example #4</ion-item-divider>\n    <ion-row class="grid-3 grid-example">\n      <ion-col width-33 class="grid-item" *ngFor="let item of [1, 2, 3, 4, 5, 6, 7]">\n        <div class="grid-item-wrapper">\n          <div class="grid-item-inner">\n            <h2 class="item-title">{{ item }}</h2>\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n  </ion-item-group>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/grid/grid.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */]])
    ], GridPage);
    return GridPage;
}());

//# sourceMappingURL=grid.js.map

/***/ }),

/***/ 1018:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListingPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__feed_feed__ = __webpack_require__(571);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__listing_model__ = __webpack_require__(1019);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__listing_service__ = __webpack_require__(582);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ListingPage = (function () {
    function ListingPage(nav, listingService, loadingCtrl) {
        this.nav = nav;
        this.listingService = listingService;
        this.loadingCtrl = loadingCtrl;
        this.listing = new __WEBPACK_IMPORTED_MODULE_4__listing_model__["a" /* ListingModel */]();
        this.loading = this.loadingCtrl.create();
    }
    ListingPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        this.loading.present();
        this.listingService
            .getData()
            .then(function (data) {
            _this.listing.banner_image = data.banner_image;
            _this.listing.banner_title = data.banner_title;
            _this.listing.populars = data.populars;
            _this.listing.categories = data.categories;
            _this.loading.dismiss();
        });
    };
    ListingPage.prototype.goToFeed = function (category) {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_2__feed_feed__["a" /* FeedPage */], {
            category: category
        });
    };
    ListingPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'listing-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/listing/listing.html"*/`<ion-header class="listing-header">\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      <div class="header-logo">\n        <preload-image [ratio]="{w:583, h:100}" src="./assets/images/header_logo_white.png"></preload-image>\n      </div>\n    </ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="listing-content">\n  <background-image class="image-heading" [src]="listing.banner_image">\n    <ion-row class="heading-row">\n      <ion-col no-padding width-100>\n        <h2 class="main-title">{{listing.banner_title}}</h2>\n      </ion-col>\n    </ion-row>\n  </background-image>\n  <h4 class="categories-title">Popular</h4>\n  <ion-scroll scrollX="true" class="horizontal-categories">\n    <ion-row class="categories-row">\n      <ion-col width-30 class="horizontal-item"  *ngFor="let popular of listing.populars">\n        <preload-image [ratio]="{w:1, h:1}" [src]="popular.image" title="popular.title"></preload-image>\n      </ion-col>\n    </ion-row>\n  </ion-scroll>\n  <h4 class="categories-title">Browse categories</h4>\n  <ion-row class="grid-categories">\n    <ion-col width-50 class="category-item" *ngFor="let category of listing.categories">\n      <background-image tappable class="category-heading" [src]="category.image" (click)="goToFeed(category)">\n        <ion-row class="heading-row">\n          <ion-col no-padding width-100>\n            <h2 class="category-title">{{category.title}}</h2>\n          </ion-col>\n        </ion-row>\n      </background-image>\n    </ion-col>\n  </ion-row>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/listing/listing.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_5__listing_service__["a" /* ListingService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */]])
    ], ListingPage);
    return ListingPage;
}());

//# sourceMappingURL=listing.js.map

/***/ }),

/***/ 1019:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListingModel; });
/* unused harmony export ListingItemModel */
var ListingModel = (function () {
    function ListingModel() {
    }
    return ListingModel;
}());

var ListingItemModel = (function () {
    function ListingItemModel() {
    }
    return ListingItemModel;
}());

//# sourceMappingURL=listing.model.js.map

/***/ }),

/***/ 1020:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_equipment_equipment__ = __webpack_require__(569);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_login_login__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_settings_settings__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_splash_screen__ = __webpack_require__(583);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_status_bar__ = __webpack_require__(584);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_tabs_navigation_tabs_navigation__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_timesheet_history_timesheet_history__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pages_timesheets_timesheets__ = __webpack_require__(585);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_workers_workers__ = __webpack_require__(588);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var MyApp = (function () {
    function MyApp(platform, menu, app, splashScreen, statusBar, sharedService, auth) {
        var _this = this;
        this.platform = platform;
        this.menu = menu;
        this.app = app;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.sharedService = sharedService;
        this.auth = auth;
        // make WalkthroughPage the root (or first) page
        //rootPage: any = WalkthroughPage;
        //rootPage: any = TabsNavigationPage;
        this.rootPage = __WEBPACK_IMPORTED_MODULE_4__pages_login_login__["a" /* LoginPage */];
        platform.ready().then(function () {
            // Okay, so the platform is ready and our plugins are available.
            // Here you can do any higher level native things you might need.
            _this.splashScreen.hide();
            _this.statusBar.styleDefault();
        });
        this.pages = [
            { title: 'Home', icon: 'home', component: __WEBPACK_IMPORTED_MODULE_9__pages_tabs_navigation_tabs_navigation__["a" /* TabsNavigationPage */] },
        ];
        this.pushPages = [
            { title: 'Timesheets', icon: 'grid', component: __WEBPACK_IMPORTED_MODULE_10__pages_timesheet_history_timesheet_history__["a" /* TimesheetHistoryPage */], supervisor: false },
            { title: 'Timesheets', icon: 'grid', component: __WEBPACK_IMPORTED_MODULE_11__pages_timesheets_timesheets__["a" /* TimesheetsPage */], supervisor: true },
            { title: 'Workers', icon: 'people', component: __WEBPACK_IMPORTED_MODULE_12__pages_workers_workers__["a" /* WorkersPage */], supervisor: true },
            { title: 'Equipment', icon: 'pricetag', component: __WEBPACK_IMPORTED_MODULE_3__pages_equipment_equipment__["a" /* EquipmentPage */] },
            { title: 'Settings', icon: 'settings', component: __WEBPACK_IMPORTED_MODULE_5__pages_settings_settings__["a" /* SettingsPage */] }
        ];
        this.appGlobals = sharedService.getLenny();
    }
    MyApp.prototype.openPage = function (page) {
        this.sharedService.onPageLeave.next();
        // close the menu when clicking a link from the menu
        this.menu.close();
        // navigate to the new page if it is not the current page
        this.nav.setRoot(page.component);
    };
    MyApp.prototype.pushPage = function (page) {
        // close the menu when clicking a link from the menu
        this.menu.close();
        // rootNav is now deprecated (since beta 11) (https://forum.ionicframework.com/t/cant-access-rootnav-after-upgrade-to-beta-11/59889)
        this.app.getActiveNav().push(page.component);
    };
    MyApp.prototype.showPage = function (p) {
        if (p.hasOwnProperty('supervisor')) {
            // the page supervisor property may be set to false
            return this.appGlobals.supervisor === p.supervisor;
        }
        // if page has no supervisor property or the page has supervisor prop false
        // then anyone can see it.
        return true;
    };
    MyApp.prototype.logout = function () {
        this.sharedService.onPageLeave.next();
        this.auth.reset();
        this.menu.close();
        this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_4__pages_login_login__["a" /* LoginPage */]);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["_9" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["h" /* Nav */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["h" /* Nav */])
    ], MyApp.prototype, "nav", void 0);
    MyApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'app-root',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/app/app.html"*/`<ion-menu [content]="content"\n  [swipeEnabled]="false">\n  <ion-content class="menu-content">\n    <ion-list class="menu-list">\n      <ng-container *ngFor="let page of pages">\n        <button ion-item\n          detail-none\n          *ngIf="showPage(page)"\n          (click)="openPage(page)">\n          <ion-icon *ngIf="page.icon"\n            name="{{page.icon}}"\n            item-left></ion-icon>\n          {{page.title}}\n        </button>\n      </ng-container>\n      <!-- <button ion-item detail-none *ngFor="let page of pushPages" (click)="pushPage(page)">\n        <ion-icon *ngIf="page.icon" name="{{page.icon}}" item-left></ion-icon>\n        {{page.title}}\n      </button> -->\n\n      <ng-container *ngFor="let page of pushPages">\n        <button ion-item\n          detail-none\n          *ngIf="showPage(page)"\n          (click)="pushPage(page)">\n          <ion-icon *ngIf="page.icon"\n            name="{{page.icon}}"\n            item-left></ion-icon>\n          {{page.title}}\n        </button>\n      </ng-container>\n      <button ion-item\n        detail-none\n        (click)="logout()">\n        <ion-icon name="log-out"\n          item-left></ion-icon>\n        Log out\n      </button>\n    </ion-list>\n  </ion-content>\n</ion-menu>\n\n<ion-nav [root]="rootPage"\n  #content\n  swipe-back-enabled="false"></ion-nav>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/app/app.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["k" /* Platform */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["f" /* MenuController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["b" /* App */],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_splash_screen__["a" /* SplashScreen */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_status_bar__["a" /* StatusBar */],
            __WEBPACK_IMPORTED_MODULE_6__providers_shared__["a" /* SharedService */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth__["a" /* AuthService */]])
    ], MyApp);
    return MyApp;
}());

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ 1021:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__notifications_model__ = __webpack_require__(1022);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__notifications_service__ = __webpack_require__(589);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var NotificationsPage = (function () {
    function NotificationsPage(nav, notificationsService, loadingCtrl) {
        this.nav = nav;
        this.notificationsService = notificationsService;
        this.loadingCtrl = loadingCtrl;
        this.notifications = new __WEBPACK_IMPORTED_MODULE_3__notifications_model__["a" /* NotificationsModel */]();
        this.loading = this.loadingCtrl.create();
    }
    NotificationsPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        this.loading.present();
        this.notificationsService
            .getData()
            .then(function (data) {
            _this.notifications.today = data.today;
            _this.notifications.yesterday = data.yesterday;
            _this.loading.dismiss();
        });
    };
    NotificationsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'notifications-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/notifications/notifications.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Notifications</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="notifications-content">\n  <ion-item-group>\n    <ion-item-divider class="notifications-divider">Today</ion-item-divider>\n    <ion-item class="notification-item" *ngFor="let notification of notifications.today">\n      <ion-avatar item-left>\n        <preload-image class="user-image" [ratio]="{w:1, h:1}" [src]="notification.image"></preload-image>\n      </ion-avatar>\n      <h2 class="item-title">{{notification.name}}</h2>\n      <p class="item-description">{{notification.message}}</p>\n      <ion-note class="item-time" item-right>{{notification.date}}</ion-note>\n    </ion-item>\n    <ion-item-divider class="notifications-divider">Yesterday</ion-item-divider>\n    <ion-item class="notification-item" *ngFor="let notification of notifications.yesterday">\n      <ion-avatar item-left>\n        <preload-image class="user-image" [ratio]="{w:1, h:1}" [src]="notification.image"></preload-image>\n      </ion-avatar>\n      <h2 class="item-title">{{notification.name}}</h2>\n      <p class="item-description">{{notification.message}}</p>\n      <ion-note class="item-time" item-right>{{notification.date}}</ion-note>\n    </ion-item>\n  </ion-item-group>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/notifications/notifications.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_4__notifications_service__["a" /* NotificationsService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */]])
    ], NotificationsPage);
    return NotificationsPage;
}());

//# sourceMappingURL=notifications.js.map

/***/ }),

/***/ 1022:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export NotificationModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationsModel; });
var NotificationModel = (function () {
    function NotificationModel() {
    }
    return NotificationModel;
}());

var NotificationsModel = (function () {
    function NotificationsModel() {
        this.today = [];
        this.yesterday = [];
    }
    return NotificationsModel;
}());

//# sourceMappingURL=notifications.model.js.map

/***/ }),

/***/ 1023:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PreloadImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var PreloadImage = (function () {
    function PreloadImage(_elementRef, _renderer) {
        var _this = this;
        this._elementRef = _elementRef;
        this._renderer = _renderer;
        this._src = '';
        this._loaded = false;
        // I'm not sure in default logic to keep ratio
        this.keepRatio = true;
        this._img = new Image();
        this._loadHandler = function () {
            _this._elementRef.nativeElement.appendChild(_this._img);
            _this.setLoaded(true);
        };
    }
    Object.defineProperty(PreloadImage.prototype, "loaded", {
        get: function () {
            return this._loaded;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PreloadImage.prototype, "src", {
        set: function (val) {
            this._src = Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__["l" /* isPresent */])(val) ? val : '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PreloadImage.prototype, "ratio", {
        set: function (ratio) {
            this._ratio = ratio || null;
        },
        enumerable: true,
        configurable: true
    });
    PreloadImage.prototype.ngOnChanges = function (changes) {
        if (this.keepRatio) {
            var ratio_height = (this._ratio.h / this._ratio.w * 100) + "%";
            // Conserve aspect ratio (see: http://stackoverflow.com/a/10441480/1116959)
            this._renderer.setElementStyle(this._elementRef.nativeElement, 'padding-bottom', ratio_height);
        }
        if (changes.src) {
            this.update();
        }
    };
    PreloadImage.prototype.update = function () {
        if (Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__["l" /* isPresent */])(this.alt)) {
            this._img.alt = this.alt;
        }
        if (Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__["l" /* isPresent */])(this.title)) {
            this._img.title = this.title;
        }
        // Do not duplicate load handler
        this._img.removeEventListener('load', this._loadHandler);
        this._img.addEventListener('load', this._loadHandler);
        this._img.removeEventListener('error', this._loadHandler);
        this._img.addEventListener('error', this._loadHandler);
        this._img.src = this._src;
        this.setLoaded(false);
    };
    PreloadImage.prototype.setLoaded = function (isLoaded) {
        this._elementRef.nativeElement.classList[isLoaded ? 'add' : 'remove']('img-loaded');
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String)
    ], PreloadImage.prototype, "alt", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String)
    ], PreloadImage.prototype, "title", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], PreloadImage.prototype, "src", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], PreloadImage.prototype, "ratio", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Object)
    ], PreloadImage.prototype, "keepRatio", void 0);
    PreloadImage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'preload-image',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/preload-image/preload-image.html"*/`<ion-spinner name="bubbles"></ion-spinner>\n<ng-content></ng-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/preload-image/preload-image.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* ElementRef */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["W" /* Renderer */]])
    ], PreloadImage);
    return PreloadImage;
}());

//# sourceMappingURL=preload-image.js.map

/***/ }),

/***/ 1024:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export RATING_CONTROL_VALUE_ACCESSOR */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Rating; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(21);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var noop = function () { };
var RATING_CONTROL_VALUE_ACCESSOR = {
    provide: __WEBPACK_IMPORTED_MODULE_1__angular_forms__["f" /* NG_VALUE_ACCESSOR */],
    useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_15" /* forwardRef */])(function () { return Rating; }),
    multi: true
};
var Rating = (function () {
    function Rating() {
        this.max = 5;
        this.readOnly = false;
        this.propagateChange = noop;
    }
    Rating.prototype.ngOnInit = function () {
        var states = [];
        for (var i = 0; i < this.max; i++) {
            if (this.innerValue > i && this.innerValue < i + 1) {
                states[i] = 2;
            }
            else if (this.innerValue > i) {
                states[i] = 1;
            }
            else {
                states[i] = 0;
            }
        }
        this.range = states;
    };
    Object.defineProperty(Rating.prototype, "value", {
        get: function () {
            return this.innerValue;
        },
        set: function (val) {
            if (val !== this.innerValue) {
                this.innerValue = val;
                this.propagateChange(val);
            }
        },
        enumerable: true,
        configurable: true
    });
    Rating.prototype.writeValue = function (value) {
        if (value !== this.innerValue) {
            this.innerValue = value;
        }
    };
    Rating.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    Rating.prototype.registerOnTouched = function () { };
    Rating.prototype.rate = function (amount) {
        if (!this.readOnly && amount >= 0 && amount <= this.range.length) {
            this.value = amount;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Object)
    ], Rating.prototype, "max", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])('read-only'),
        __metadata("design:type", Object)
    ], Rating.prototype, "readOnly", void 0);
    Rating = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'rating',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/rating/rating.html"*/`<button class="rating-icon" ion-button icon-only round *ngFor="let r of range; let i = index" (click)="rate(i + 1)">\n	<ion-icon [name]="value === undefined ? (r === 1 ? \'star\' : (r === 2 ? \'star-half\' : \'star-outline\')) : (value > i ? (value < i+1 ? \'star-half\' : \'star\') : \'star-outline\')"></ion-icon>\n</button>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/rating/rating.html"*/,
            providers: [RATING_CONTROL_VALUE_ACCESSOR]
        })
    ], Rating);
    return Rating;
}());

//# sourceMappingURL=rating.js.map

/***/ }),

/***/ 1025:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SchedulePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__schedule_model__ = __webpack_require__(1026);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__schedule_service__ = __webpack_require__(590);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SchedulePage = (function () {
    function SchedulePage(nav, scheduleService, loadingCtrl) {
        this.nav = nav;
        this.scheduleService = scheduleService;
        this.loadingCtrl = loadingCtrl;
        this.schedule = new __WEBPACK_IMPORTED_MODULE_3__schedule_model__["a" /* ScheduleModel */]();
        this.segment = "today";
        this.loading = this.loadingCtrl.create();
    }
    SchedulePage.prototype.ionViewDidLoad = function () {
        var _this = this;
        this.loading.present();
        this.scheduleService
            .getData()
            .then(function (data) {
            _this.schedule.today = data.today;
            _this.schedule.upcoming = data.upcoming;
            _this.loading.dismiss();
        });
    };
    SchedulePage.prototype.onSegmentChanged = function (segmentButton) {
        // console.log('Segment changed to', segmentButton.value);
    };
    SchedulePage.prototype.onSegmentSelected = function (segmentButton) {
        // console.log('Segment selected', segmentButton.value);
    };
    SchedulePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'schedule-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/schedule/schedule.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Schedule</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="schedule-content">\n  <ion-segment class="schedule-segment" [(ngModel)]="segment" (ionChange)="onSegmentChanged($event)">\n    <ion-segment-button value="today" (ionSelect)="onSegmentSelected($event)">\n      Today\n    </ion-segment-button>\n    <ion-segment-button value="upcoming" (ionSelect)="onSegmentSelected($event)">\n      Upcoming\n    </ion-segment-button>\n  </ion-segment>\n\n  <div [ngSwitch]="segment">\n    <div *ngSwitchCase="\'today\'">\n      <ion-list class="schedule-list">\n        <ion-item class="schedule-item" *ngFor="let item of schedule.today">\n          <ion-row>\n            <ion-col width-20 class="schedule-date">\n              <h2 class="schedule-day">{{item.date.day}}</h2>\n              <h3 class="schedule-month">{{item.date.month_name}}</h3>\n              <h4 class="schedule-time">{{item.date.time}}</h4>\n            </ion-col>\n            <ion-col width-80 class="schedule-data">\n              <div class="data-item">\n                <div class="item-content">\n                  <h2 class="item-title one-line">{{item.subject}}</h2>\n                  <div class="item-description">\n                    <ion-icon class="description-icon" name="clock"></ion-icon>\n                    <p class="description-text">{{item.date.full}}</p>\n                  </div>\n                  <div class="item-description">\n                    <ion-icon class="description-icon" name="navigate"></ion-icon>\n                    <p class="description-text one-line">{{item.location}}</p>\n                  </div>\n                </div>\n                <ion-icon class="item-icon" name="arrow-forward"></ion-icon>\n              </div>\n            </ion-col>\n          </ion-row>\n        </ion-item>\n      </ion-list>\n    </div>\n    <div *ngSwitchCase="\'upcoming\'">\n      <ion-list class="schedule-list">\n        <ion-item class="schedule-item" *ngFor="let item of schedule.upcoming">\n          <ion-row>\n            <ion-col width-20 class="schedule-date">\n              <h2 class="schedule-day">{{item.date.day}}</h2>\n              <h3 class="schedule-month">{{item.date.month_name}}</h3>\n              <h4 class="schedule-time">{{item.date.time}}</h4>\n            </ion-col>\n            <ion-col width-80 class="schedule-data">\n              <div class="data-item">\n                <div class="item-content">\n                  <h2 class="item-title one-line">{{item.subject}}</h2>\n                  <div class="item-description">\n                    <ion-icon class="description-icon" name="clock"></ion-icon>\n                    <p class="description-text">{{item.date.full}}</p>\n                  </div>\n                  <div class="item-description">\n                    <ion-icon class="description-icon" name="navigate"></ion-icon>\n                    <p class="description-text one-line">{{item.location}}</p>\n                  </div>\n                </div>\n                <ion-icon class="item-icon" name="arrow-forward"></ion-icon>\n              </div>\n            </ion-col>\n          </ion-row>\n        </ion-item>\n      </ion-list>\n    </div>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/schedule/schedule.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_4__schedule_service__["a" /* ScheduleService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */]])
    ], SchedulePage);
    return SchedulePage;
}());

//# sourceMappingURL=schedule.js.map

/***/ }),

/***/ 1026:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export EventModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScheduleModel; });
/* unused harmony export EventDate */
var EventModel = (function () {
    function EventModel() {
    }
    return EventModel;
}());

var ScheduleModel = (function () {
    function ScheduleModel() {
        this.today = [];
        this.upcoming = [];
    }
    return ScheduleModel;
}());

var EventDate = (function () {
    function EventDate() {
    }
    return EventDate;
}());

//# sourceMappingURL=schedule.model.js.map

/***/ }),

/***/ 1027:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ShowHideContainer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__show_hide_input__ = __webpack_require__(591);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ShowHideContainer = (function () {
    function ShowHideContainer() {
        this.show = false;
    }
    ShowHideContainer.prototype.toggleShow = function () {
        this.show = !this.show;
        if (this.show) {
            this.input.changeType("text");
        }
        else {
            this.input.changeType("password");
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["r" /* ContentChild */])(__WEBPACK_IMPORTED_MODULE_1__show_hide_input__["a" /* ShowHideInput */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__show_hide_input__["a" /* ShowHideInput */])
    ], ShowHideContainer.prototype, "input", void 0);
    ShowHideContainer = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'show-hide-container',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/show-hide-password/show-hide-password.html"*/`<ng-content></ng-content>\n<a class="type-toggle" (click)="toggleShow()">\n	<ion-icon class="show-option" [hidden]="show" name="eye"></ion-icon>\n	<ion-icon class="hide-option" [hidden]="!show" name="eye-off"></ion-icon>\n</a>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/show-hide-password/show-hide-password.html"*/,
            host: {
                'class': 'show-hide-password'
            }
        }),
        __metadata("design:paramtypes", [])
    ], ShowHideContainer);
    return ShowHideContainer;
}());

//# sourceMappingURL=show-hide-container.js.map

/***/ }),

/***/ 1028:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SiteSelectComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes_site_model__ = __webpack_require__(576);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_sites__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SiteSelectComponent = (function () {
    function SiteSelectComponent(sites) {
        this.sites = sites;
        this.loaded = true;
        this.allowed = [];
        this.onSelected = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["w" /* EventEmitter */]();
        this.sitesList = [];
    }
    SiteSelectComponent.prototype.ngOnInit = function () {
        if (!this.sites.sites.length) {
            this.updateSitesList();
        }
    };
    SiteSelectComponent.prototype.ngOnChanges = function (changes) {
        if (changes['allowed']) {
            this.updateSitesList();
            this.slides && this.slides.update();
        }
        if (changes['selected'] && changes['selected'].currentValue) {
            this.selectSlide(this.selected);
        }
    };
    SiteSelectComponent.prototype.ngAfterViewInit = function () {
        if (this.selected) {
            this.selectSlide(this.selected);
        }
    };
    SiteSelectComponent.prototype.slideChanged = function () {
        var currentIndex = this.slides.realIndex;
        console.log('Selected index', currentIndex, JSON.stringify(this.allowed));
        var siteId = this.allowed[currentIndex];
        this.selected = siteId;
        var site = this.sites.sites.find(function (s) { return s.id === siteId; });
        console.log('Selected site', siteId, site);
        this.onSelected.emit(site);
    };
    SiteSelectComponent.prototype.siteIdentity = function (site) {
        return site.id;
    };
    SiteSelectComponent.prototype.updateSitesList = function () {
        var _this = this;
        this.sitesList = this.allowed.map(function (id) {
            var site = _this.sites.sites.find(function (s) { return s.id === id; });
            if (site) {
                return site;
            }
            else {
                console.error('Site not returned by sites service ' + id);
                return new __WEBPACK_IMPORTED_MODULE_1__classes_site_model__["a" /* Site */](id, 'Unknown', false, null, '', '');
            }
        });
        if (!this.selected && this.sitesList.length) {
            this.selected = this.allowed[0];
            this.onSelected.emit(this.sitesList[0]);
        }
        console.log('Sites', this.sitesList);
    };
    SiteSelectComponent.prototype.selectSlide = function (siteId) {
        var index = this.allowed.indexOf(siteId);
        if (index < 0) {
            console.error("Request site " + siteId + " is not in the list", this.allowed);
            return;
        }
        this.slides && this.slides.slideTo(index);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Boolean)
    ], SiteSelectComponent.prototype, "loaded", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Number)
    ], SiteSelectComponent.prototype, "selected", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Array)
    ], SiteSelectComponent.prototype, "allowed", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["P" /* Output */])(),
        __metadata("design:type", Object)
    ], SiteSelectComponent.prototype, "onSelected", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_9" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["l" /* Slides */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["l" /* Slides */])
    ], SiteSelectComponent.prototype, "slides", void 0);
    SiteSelectComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'site-select',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/site-select/site-select.component.html"*/`<ion-slides class="site-select-slides"\n  [loop]="false"\n  [spaceBetween]="60"\n  (ionSlideDidChange)="slideChanged()"\n  *ngIf="!!sitesList.length">\n  <ion-slide *ngFor="let site of sitesList; index as idx; trackBy: siteIdentity">\n    <div class="site-select-slide"\n      [class.site-select-slide--selected]="site.id === selected">\n      <ion-icon *ngIf="idx > 0"\n        name="ios-arrow-back"\n        padding-right></ion-icon>\n      {{ site.label }}\n      <ion-icon *ngIf="idx < sitesList.length-1"\n        name="ios-arrow-forward"\n        padding-left></ion-icon>\n    </div>\n  </ion-slide>\n</ion-slides>\n<div class="no-sites"\n  *ngIf="!sitesList.length && loaded"\n  padding\n  text-center>\n  No sites avaialable\n</div>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/site-select/site-select.component.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__providers_sites__["a" /* SiteService */]])
    ], SiteSelectComponent);
    return SiteSelectComponent;
}());

//# sourceMappingURL=site-select.component.js.map

/***/ }),

/***/ 1029:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_timesheet_details_timesheet_details_component__ = __webpack_require__(592);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TimesheetComponent = (function () {
    function TimesheetComponent(nav) {
        this.nav = nav;
        this.items = [];
        this.workers = [];
        this.loaded = false;
        this.editable = false;
    }
    TimesheetComponent.prototype.clicked = function (timesheet, $event) {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_2__pages_timesheet_details_timesheet_details_component__["a" /* TimesheetDetailsComponent */], { timesheet: timesheet });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Array)
    ], TimesheetComponent.prototype, "items", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Array)
    ], TimesheetComponent.prototype, "workers", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Object)
    ], TimesheetComponent.prototype, "loaded", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["y" /* HostBinding */])('class.editable'), Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Boolean)
    ], TimesheetComponent.prototype, "editable", void 0);
    TimesheetComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'timesheet',
            template: "\n    <ion-list>\n    <ion-item *ngFor=\"let day of items\"\n      class=\"day\">\n      <div class=\"day__title\">\n        {{ day.dateLabel }}\n      </div>\n      <timesheet-item [timesheet]=\"timesheet\"\n        [workers]=\"workers\"\n        [loaded]=\"loaded\"\n        [editable]=\"editable\"\n        (onClick)=\"clicked(timesheet, $event)\"\n        *ngFor=\"let timesheet of day.timesheets\"\n      ></timesheet-item>\n    </ion-item>\n    <ion-item class=\"empty-timesheet\" *ngIf=\"!items.length && loaded\">\n      No results, try another day/worker/site filter\n    </ion-item>\n  </ion-list>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */]])
    ], TimesheetComponent);
    return TimesheetComponent;
}());

//# sourceMappingURL=timesheet.component.js.map

/***/ }),

/***/ 1030:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetItemComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_timesheet_service__ = __webpack_require__(69);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TimesheetItemComponent = (function () {
    function TimesheetItemComponent(auth, alertCtrl, service) {
        this.auth = auth;
        this.alertCtrl = alertCtrl;
        this.service = service;
        this.workers = [];
        this.loaded = false;
        this.editable = false;
        this.onClick = new __WEBPACK_IMPORTED_MODULE_1__angular_core__["w" /* EventEmitter */]();
        this.timesheetClass = true;
    }
    TimesheetItemComponent.prototype.isDeleted = function () {
        return !this.timesheet || !!this.timesheet.deleted_at;
    };
    TimesheetItemComponent.prototype.getUserName = function (timesheet) {
        if (this.auth.isSupervisor) {
            var worker = this.workers.find(function (w) { return w.id === timesheet.user; });
            return worker.name;
        }
        else {
            return this.auth.name;
        }
    };
    TimesheetItemComponent.prototype.getFormattedTime = function (date) {
        if (date) {
            var formatedDate = __WEBPACK_IMPORTED_MODULE_0_moment__(date).local().format('YYYY-MM-DDTHH:mm:ss');
            return formatedDate;
        }
        else {
            return '';
        }
    };
    TimesheetItemComponent.prototype.updateClockOnTime = function (timesheet, value) {
        var oldDate = timesheet.roundedClockOn ? timesheet.roundedClockOn : new Date();
        var matches;
        if (matches = /(\d+):(\d+)/.exec(value)) {
            timesheet.roundedClockOn = new Date(__WEBPACK_IMPORTED_MODULE_0_moment__(oldDate).local().hours(+matches[1]).minutes(+matches[2]).toISOString());
        }
        else {
            console.error('Invalid date value for clockOn ' + value);
        }
    };
    TimesheetItemComponent.prototype.updateClockOffTime = function (timesheet, value) {
        var oldDate = timesheet.roundedClockOff ? timesheet.roundedClockOff :
            (timesheet.roundedClockOn ? timesheet.roundedClockOn : new Date());
        var matches;
        if (matches = /(\d+):(\d+)/.exec(value)) {
            timesheet.roundedClockOff = new Date(__WEBPACK_IMPORTED_MODULE_0_moment__(oldDate).local().hours(+matches[1]).minutes(+matches[2]).toISOString());
        }
        else {
            console.error('Invalid date value for clockOn ' + value);
        }
    };
    TimesheetItemComponent.prototype.getStartDate = function (timesheet) {
        return timesheet.roundedClockOn ? __WEBPACK_IMPORTED_MODULE_0_moment__(timesheet.roundedClockOn).local().format('h:mm a') : '';
    };
    TimesheetItemComponent.prototype.getEndDate = function (timesheet) {
        return timesheet.roundedClockOff ? __WEBPACK_IMPORTED_MODULE_0_moment__(timesheet.roundedClockOff).local().format('h:mm a') : '';
    };
    TimesheetItemComponent.prototype.getDuration = function (timesheet) {
        if (timesheet.roundedClockOn && timesheet.roundedClockOff) {
            var diff = __WEBPACK_IMPORTED_MODULE_0_moment__(timesheet.roundedClockOff).diff(__WEBPACK_IMPORTED_MODULE_0_moment__(timesheet.roundedClockOn));
            var d = __WEBPACK_IMPORTED_MODULE_0_moment__["duration"](diff);
            return d.hours() + " hrs " + d.minutes() + " m";
        }
        else {
            return '';
        }
    };
    TimesheetItemComponent.prototype.isApprovable = function (timesheet) {
        if (typeof timesheet.isApprovable === 'undefined') {
            timesheet.isApprovable = !timesheet.approved && this.editable;
        }
        return timesheet.isApprovable && this.editable;
    };
    TimesheetItemComponent.prototype.toggleApprove = function (timesheet) {
        if (!this.editable) {
            return;
        }
        timesheet.approved = timesheet.approved ? 0 : 1;
    };
    TimesheetItemComponent.prototype.toggleExtendedHours = function (timesheet) {
        if (!this.editable) {
            return;
        }
        timesheet.extendedHours = !timesheet.extendedHours;
        this.service.roundTimesheet(timesheet);
    };
    // Switch normal/lunch/etc
    TimesheetItemComponent.prototype.chooseState = function () {
        var _this = this;
        if (!this.editable) {
            return;
        }
        var alert = this.alertCtrl.create({
            cssClass: 'category-prompt'
        });
        alert.setTitle('Choose day type');
        Object.keys(__WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["d" /* TimesheetStates */]).forEach(function (state) {
            alert.addInput({
                type: 'radio',
                label: __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["d" /* TimesheetStates */][state],
                value: '' + state,
                checked: '' + state === '' + _this.timesheet.state
            });
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Confirm',
            handler: function (data) {
                console.log('Checkbox data:', data);
                _this.timesheet.state = +data;
            }
        });
        alert.present();
    };
    TimesheetItemComponent.prototype.getStateIcon = function () {
        return Object(__WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["e" /* getIconForState */])(this.timesheet.state);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["E" /* Input */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["c" /* TimesheetModel */])
    ], TimesheetItemComponent.prototype, "timesheet", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["E" /* Input */])(),
        __metadata("design:type", Array)
    ], TimesheetItemComponent.prototype, "workers", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["E" /* Input */])(),
        __metadata("design:type", Object)
    ], TimesheetItemComponent.prototype, "loaded", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["E" /* Input */])(),
        __metadata("design:type", Boolean)
    ], TimesheetItemComponent.prototype, "editable", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["P" /* Output */])(),
        __metadata("design:type", Object)
    ], TimesheetItemComponent.prototype, "onClick", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["y" /* HostBinding */])('class.timesheet'),
        __metadata("design:type", Object)
    ], TimesheetItemComponent.prototype, "timesheetClass", void 0);
    TimesheetItemComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'timesheet-item',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/timesheet-item/timesheet-item.component.html"*/`<div class="timesheet__checkmark"\n  [class.timesheet__checkmark--approvable]="isApprovable(timesheet)"\n  (click)="toggleApprove(timesheet)">\n  <ion-icon name="checkmark"\n    *ngIf="timesheet.approved"></ion-icon>\n</div>\n<div class="timesheet__details"\n  [class.timesheet__details--deleted]="isDeleted()"\n  (click)="onClick.emit($event)">\n  <div class="timesheet__top-line">\n    <div class="timesheet__user">\n      {{ getUserName(timesheet) }}\n    </div>\n    <div class="timesheet__timing">\n      {{ getDuration(timesheet) }}\n    </div>\n  </div>\n  <div class="timesheet__bottom-line">\n    <div class="timesheet__start-date">\n      <span *ngIf="!isApprovable(timesheet) || !editable || isDeleted()">{{ getStartDate(timesheet) }}</span>\n      <ion-item *ngIf="isApprovable(timesheet) && editable && !isDeleted()">\n        <ion-datetime displayFormat="h:mm a"\n          minuteValues="0,5,10,15,20,25,30,35,40,45,50,55"\n          [ngModel]="getFormattedTime(timesheet.roundedClockOn)"\n          (ngModelChange)="updateClockOnTime(timesheet, $event)">\n        </ion-datetime>\n      </ion-item>\n    </div>\n    <div class="timesheet__lunch"\n      [class.timesheet__lunch--approvable]="isApprovable(timesheet)"\n      (click)="chooseState()">\n      <ion-icon [name]="getStateIcon()"\n        title="lunch"\n        *ngIf="timesheet.state>0"></ion-icon>\n    </div>\n    <div class="timesheet__end-date">\n      <span *ngIf="!isApprovable(timesheet) || !editable || isDeleted()">{{ getEndDate(timesheet) }}</span>\n      <ion-item *ngIf="isApprovable(timesheet) && editable && !isDeleted()">\n        <ion-datetime displayFormat="h:mm a"\n          minuteValues="0,5,10,15,20,25,30,35,40,45,50,55"\n          [ngModel]="getFormattedTime(timesheet.roundedClockOff)"\n          (ngModelChange)="updateClockOffTime(timesheet, $event)">\n        </ion-datetime>\n      </ion-item>\n    </div>\n  </div>\n</div>\n<div class="timesheet__extended-hours"\n  *ngIf="isApprovable(timesheet)"\n  (click)="toggleExtendedHours(timesheet)">\n  <div class="timesheet__extended-hours-hint"\n    title="Extended hours"\n    *ngIf="!timesheet.extendedHours">Ext</div>\n  <ion-icon name="checkmark"\n    *ngIf="timesheet.extendedHours"></ion-icon>\n</div>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/timesheet-item/timesheet-item.component.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__providers_auth__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_5__providers_timesheet_service__["a" /* TimesheetService */]])
    ], TimesheetItemComponent);
    return TimesheetItemComponent;
}());

//# sourceMappingURL=timesheet-item.component.js.map

/***/ }),

/***/ 115:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckInOutService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CheckInOutService = (function () {
    function CheckInOutService(api) {
        this.api = api;
    }
    CheckInOutService.prototype.checkIn = function (jobId, latitude, longitude, userId) {
        if (!this.api.checkAuth()) {
            return __WEBPACK_IMPORTED_MODULE_2_rxjs__["Observable"].of();
        }
        var data = {
            jobId: jobId, latitude: latitude, longitude: longitude
        };
        if (userId) {
            data['userId'] = userId;
        }
        return this.api.post('/v/1/0/checkin', data)
            .map(function (res) {
            var _a = res.json(), success = _a.success, message = _a.message;
            return {
                success: success,
                message: message,
                in_location: message === 'success:inl'
            };
        });
    };
    CheckInOutService.prototype.checkOut = function (jobId, took_lunch, latitude, longitude, userId) {
        if (!this.api.checkAuth()) {
            return __WEBPACK_IMPORTED_MODULE_2_rxjs__["Observable"].of();
        }
        var data = { jobId: jobId, latitude: latitude, longitude: longitude, took_lunch: took_lunch };
        if (userId) {
            data['userId'] = userId;
        }
        return this.api.post('/v/1/0/checkout', data)
            .map(function (res) {
            var _a = res.json(), success = _a.success, message = _a.message;
            return {
                success: success,
                message: message
            };
        });
    };
    CheckInOutService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__api__["a" /* ApiService */]])
    ], CheckInOutService);
    return CheckInOutService;
}());

//# sourceMappingURL=check-in.js.map

/***/ }),

/***/ 125:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_login__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__privacy_policy_privacy_policy__ = __webpack_require__(216);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__profile_profile_model__ = __webpack_require__(573);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__terms_of_service_terms_of_service__ = __webpack_require__(217);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var SettingsPage = (function () {
    function SettingsPage(nav, modal, loadingCtrl, auth, sharedService) {
        this.nav = nav;
        this.modal = modal;
        this.loadingCtrl = loadingCtrl;
        this.auth = auth;
        this.sharedService = sharedService;
        this.rootPage = __WEBPACK_IMPORTED_MODULE_5__login_login__["a" /* LoginPage */];
        this.profile = new __WEBPACK_IMPORTED_MODULE_7__profile_profile_model__["a" /* ProfileModel */]();
        this.loading = this.loadingCtrl.create();
        this.settingsForm = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormGroup */]({
            name: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](),
            location: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](),
            description: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](),
            currency: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](),
            weather: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */](),
            notifications: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]()
        });
    }
    SettingsPage.prototype.ionViewDidLoad = function () {
        this.profile.user = this.auth.user;
        this.profile.following = [];
        this.profile.followers = [];
        this.profile.posts = [];
        console.log('user helper mode is ' + this.sharedService.userHelperMode);
        this.userHelperMode = this.sharedService.userHelperMode;
        this.settingsForm.setValue({
            name: this.profile.user.name,
            location: this.profile.user.location,
            description: this.profile.user.about,
            currency: 'dollar',
            weather: 'fahrenheit',
            notifications: true
        });
    };
    SettingsPage.prototype.ionViewWillLeave = function () {
        this.sharedService.userHelperMode = this.userHelperMode;
    };
    SettingsPage.prototype.logout = function () {
        // navigate to the new page if it is not the current page
        this.sharedService.onPageLeave.next();
        this.auth.reset();
        this.nav.setRoot(this.rootPage);
    };
    SettingsPage.prototype.showTermsModal = function () {
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_9__terms_of_service_terms_of_service__["a" /* TermsOfServicePage */]);
        modal.present();
    };
    SettingsPage.prototype.showPrivacyModal = function () {
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__privacy_policy_privacy_policy__["a" /* PrivacyPolicyPage */]);
        modal.present();
    };
    SettingsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["n" /* Component */])({
            selector: 'settings-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/settings/settings.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Settings</ion-title>\n    <ion-buttons end [hidden]="!settingsForm.dirty">\n      <button ion-button>\n        Save\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="settings-content">\n  <div class="user-image-content">\n    <ion-row no-padding class="user-image-row">\n      <ion-col no-padding width-40>\n        <preload-image class="user-image" [ratio]="{w:1, h:1}" [src]="profile.user.image" alt="aca va la img" title="IMAGE!"></preload-image>\n      </ion-col>\n    </ion-row>\n    <h3 class="image-action">Change profile picture</h3>\n  </div>\n\n  <form [formGroup]="settingsForm" class="settings-form">\n    <ion-list class="user-data-content">\n      <ion-item>\n        <ion-label stacked>Name</ion-label>\n        <ion-input type="text" formControlName="name"></ion-input>\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>Location</ion-label>\n        <ion-input type="text" formControlName="location"></ion-input>\n      </ion-item>\n      <ion-item>\n        <ion-label stacked>Description</ion-label>\n        <ion-textarea formControlName="description" rows="5" placeholder="Your description here..."></ion-textarea>\n      </ion-item>\n    </ion-list>\n\n    <ion-row class="user-preferences-row">\n      <span class="radio-tags-label">Currency</span>\n      <ion-list class="radio-tags" radio-group formControlName="currency">\n        <ion-item class="radio-tag">\n          <ion-label>&#36;</ion-label>\n          <ion-radio value="dollar"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag">\n          <ion-label>\n            <span>&euro;</span>\n          </ion-label>\n          <ion-radio value="euro"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag">\n          <ion-label>\n            <span>&pound;</span>\n          </ion-label>\n          <ion-radio value="pound"></ion-radio>\n        </ion-item>\n      </ion-list>\n    </ion-row>\n\n    <ion-row class="user-preferences-row">\n      <span class="radio-tags-label">Weather</span>\n      <ion-list class="radio-tags" radio-group formControlName="weather">\n        <ion-item class="radio-tag">\n          <ion-label>&deg;C</ion-label>\n          <ion-radio value="celsius"></ion-radio>\n        </ion-item>\n        <ion-item class="radio-tag">\n          <ion-label>\n            <span>&deg;F</span>\n          </ion-label>\n          <ion-radio value="fahrenheit"></ion-radio>\n        </ion-item>\n      </ion-list>\n    </ion-row>\n\n    <ion-list class="switchers-list">\n      <ion-item class="switcher-item">\n        <ion-label>Notifications</ion-label>\n        <ion-toggle formControlName="notifications"></ion-toggle>\n      </ion-item>\n    </ion-list>\n\n  </form>\n  <ion-list class="switchers-list">\n    <ion-item class="switcher-item">\n      <ion-label>User Information Mode</ion-label>\n      <ion-toggle [(ngModel)]="userHelperMode"></ion-toggle>\n    </ion-item>\n  </ion-list>\n  user helper mode = {{ userHelperMode}}\n  <button class="alt-button" ion-button full (click)="showPrivacyModal()">Privacy policy</button>\n\n  <button class="alt-button" ion-button full (click)="showTermsModal()">Terms of use</button>\n\n  <button class="alt-button logout-button" ion-button full icon-left (click)="logout()">\n    <ion-icon name="log-out"></ion-icon>\n    Log out\n  </button>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/settings/settings.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["g" /* ModalController */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_3__providers_auth__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_8__providers_shared__["a" /* SharedService */]])
    ], SettingsPage);
    return SettingsPage;
}());

//# sourceMappingURL=settings.js.map

/***/ }),

/***/ 206:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SwmPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__safety_reminder_safety_reminder__ = __webpack_require__(566);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__swm_detail_swm_detail__ = __webpack_require__(211);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_swm__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__classes_swm_model__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_worker__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_shared__ = __webpack_require__(30);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SwmPage = (function () {
    function SwmPage(navCtrl, navParams, swmService, loadingCtrl, workerService, alertCtrl, toast, sharedService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.swmService = swmService;
        this.loadingCtrl = loadingCtrl;
        this.workerService = workerService;
        this.alertCtrl = alertCtrl;
        this.toast = toast;
        this.sharedService = sharedService;
        this.activeSWMs = new __WEBPACK_IMPORTED_MODULE_5__classes_swm_model__["a" /* SwmsModel */](); // these are determined from the tasks
        this.loading = this.loadingCtrl.create();
    }
    SwmPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SwmPage');
        this.worker = this.navParams.get('worker');
        this.prestartConfiguration = this.navParams.get('prestart');
        this.siteId = +this.navParams.get('siteId');
        console.log('Worker', this.worker);
        this.updateActiveSwms();
        console.log("got active swm list");
        console.log(this.activeSWMs.items);
        this.userHelperMode = this.sharedService.userHelperMode;
    };
    SwmPage.prototype.smwOverride = function (swm) {
        this.presentConfirm(swm);
    };
    SwmPage.prototype.presentConfirm = function (swm) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'SWM Status',
            message: 'Have you completed this swm?',
            buttons: [
                {
                    text: 'No',
                    role: 'cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Yes',
                    handler: function () {
                        console.log('SWM clicked');
                        _this.workerService
                            .approveSwm(swm.id, _this.siteId, _this.worker.id)
                            .then(function () {
                            _this.worker.claimedSwms.push({ swm: swm.id, site: _this.siteId });
                            _this.updateActiveSwms();
                        }, function () {
                            _this.notify('Server error. Please try again later');
                            // TODO: Remove mock below after backend completion
                            _this.worker.claimedSwms.push({ swm: swm.id, site: _this.siteId });
                            _this.updateActiveSwms();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    SwmPage.prototype.swmdetails = function (swmId, swm) {
        console.log("goto swm details for " + swmId);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__swm_detail_swm_detail__["a" /* SwmDetailPage */], { id: swmId, swm: swm });
    };
    SwmPage.prototype.gotoReminders = function () {
        console.log("gotoReminders");
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__safety_reminder_safety_reminder__["a" /* SafetyReminderPage */], {
            'worker': this.worker,
            'siteId': this.siteId,
            'prestart': this.prestartConfiguration
        });
    };
    SwmPage.prototype.notify = function (text, duration) {
        if (duration === void 0) { duration = 3000; }
        var toast = this.toast.create({
            message: text,
            duration: duration,
            position: 'top'
        });
        toast.present();
    };
    SwmPage.prototype.updateActiveSwms = function () {
        var _this = this;
        this.activeSWMs.items = this.swmService
            .getSwmList().items.filter(function (swm) {
            // firstly, set the traffic light based on if worker has done swm courses
            if (!_this.worker.hasValidSwm(_this.siteId, swm.id)) {
                if (_this.worker.hasClaimedSwm(_this.siteId, swm.id)) {
                    // Claimed for offline certification
                    swm.red = false;
                    swm.yellow = true;
                    swm.green = false;
                }
                else {
                    // SWM not performed
                    swm.red = true;
                    swm.yellow = false;
                    swm.green = false;
                }
            }
            else {
                // Certification passed
                swm.red = false;
                swm.yellow = false;
                swm.green = true;
            }
            // add if in use
            return _this.prestartConfiguration.swms.indexOf(swm.id) >= 0;
        });
        this.worker.swmCompliant =
            this.prestartConfiguration.swms.every(function (swmId) {
                return _this.worker.hasValidSwm(_this.siteId, swmId) ||
                    _this.worker.hasClaimedSwm(_this.siteId, swmId);
            });
    };
    SwmPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'page-swm',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/swm/swm.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>SWMs</ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content class="schedule-content">\n  <ion-list class="schedule-list">\n    <ion-item class="schedule-item"\n      *ngFor="let item of activeSWMs.items">\n      <ion-row>\n        <ion-col col-2\n          class="schedule-date"\n          (click)="smwOverride(item)">\n          <!--<h2 class="schedule-day">{{item.id}}</h2>\n            <h3 class="schedule-month">{{item.inuse}}</h3>\n            <h4 class="schedule-time">{{item.name}}</h4>-->\n          <!-- inspiredby http://fiddle.jshell.net/chrisupjohn/u9yD4/ -->\n          <div id="light">\n            <span [class.active]="item.red"\n              id="red"></span>\n            <span [class.active]="item.yellow"\n              id="orange"></span>\n            <span [class.active]="item.green"\n              id="green"></span>\n          </div>\n        </ion-col>\n        <ion-col col-10\n          class="schedule-data">\n          <div class="data-item"\n            (click)="swmdetails(item.id, item)">\n            <div class="item-content">\n              <h2 class="item-title one-line">{{item.name}}</h2>\n              <!--\n              <div class="item-description">\n                <ion-icon class="description-icon"\n                  name="clock"></ion-icon>\n                <p class="description-text">{{item.inuse ? \'In use\' : \'Not in use\'}}</p>\n              </div>\n              -->\n              <div class="item-description">\n                <ion-icon class="description-icon"\n                  name="navigate"></ion-icon>\n                <p class="description-text one-line">{{item.abstract}}</p>\n              </div>\n            </div>\n            <ion-icon class="item-icon"\n              name="arrow-forward"></ion-icon>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-item>\n  </ion-list>\n  <ion-card *ngIf="worker?.swmCompliant === false && userHelperMode">\n    <ion-card-content>\n      <ion-card-title class="item-title">\n        SWMs Incomplete\n      </ion-card-title>\n      <p>All SWMs must be\n        <span style=\'color: aquamarine; font-weight: bold\'>complete</span> or\n        <span style=\'color: orange; font-weight: bold\'>user overridden</span> to continue</p>\n      <p class="item-text">\n        System records show that you haven\'t completed all the neccessary SWMs.\n      </p>\n      <p class="item-text">\n        If you have completed the SWM then click on the traffic light and a yellow indication will allow you to proceed and notify\n        the supervisor to verify the SWM.\n      </p>\n      <p>Please contact the supervisor if you haven\'t completed the SWM</p>\n    </ion-card-content>\n  </ion-card>\n  <section class="form-section">\n    <button ion-button\n      block\n      class="form-action-button create-post-button"\n      [disabled]="!worker?.swmCompliant"\n      (click)="gotoReminders()">Next -> Safety Reminders</button>\n  </section>\n\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/swm/swm.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_4__providers_swm__["a" /* SwmService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_6__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["n" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_7__providers_shared__["a" /* SharedService */]])
    ], SwmPage);
    return SwmPage;
}());

//# sourceMappingURL=swm.js.map

/***/ }),

/***/ 207:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IssueService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var IssueService = (function () {
    function IssueService(api) {
        this.api = api;
        console.log('Hello Safety Focus Provider');
    }
    // this gets the data from the server - just the swm definitions .. .therefore
    // are no live status in this data.
    IssueService.prototype.getData = function () {
        if (!this.api.checkAuth()) {
            return Promise.reject(new Error('Not authenticated'));
        }
        console.log("getData safety focus data");
        // Original mock './assets/example_data/safety-issue.json'
        return this.api.get('/v/1/0/issues')
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var issues = _a.issues;
            return ({
                items: issues.map(function (_a) {
                    var id = _a.id, name = _a.name, message = _a.message, image = _a.image, updated_at = _a.updated_at;
                    return ({
                        id: id,
                        name: name,
                        description: message,
                        image: image || './assets/images/safety-focus/safetymeeting.jpg',
                        date: updated_at ? __WEBPACK_IMPORTED_MODULE_1_moment__(new Date(updated_at)).format('MMM Do') : '',
                    });
                })
            });
        })
            .catch(this.handleError);
    };
    IssueService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    IssueService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__api__["a" /* ApiService */]])
    ], IssueService);
    return IssueService;
}());

//# sourceMappingURL=issue.js.map

/***/ }),

/***/ 208:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SafetyReminderDetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__classes_safety_reminder_model__ = __webpack_require__(209);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SafetyReminderDetailPage = (function () {
    function SafetyReminderDetailPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.safetyReminder = new __WEBPACK_IMPORTED_MODULE_2__classes_safety_reminder_model__["a" /* SafetyReminderModel */]();
        this.actionsExist = false;
        this.sfAccepted = false;
        this.worker = this.navParams.get("worker");
        this.safetyReminder = this.navParams.get("safetyReminder");
        if (typeof this.safetyReminder.actions !== 'undefined' && this.safetyReminder.actions !== "") {
            this.actionsExist = true;
        }
    }
    SafetyReminderDetailPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SafetyReminderDetailPage');
    };
    SafetyReminderDetailPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'page-safety-reminder-detail',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/safety-reminder-detail/safety-reminder-detail.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Safety Issue Details</ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content class="settings-content terms-content legal-content">\n  <div class="user-image-content">\n    <ion-row no-padding\n      class="user-image-row">\n      <ion-col no-padding\n        width-40>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="safetyReminder.image"\n          alt="Safety issue"\n          title="IMAGE!"></preload-image>\n      </ion-col>\n    </ion-row>\n  </div>\n  <p>Last modified: {{safetyReminder.date}}</p>\n  <h4 class="legal-title">{{ safetyReminder.name }}</h4>\n  <p>{{ safetyReminder.description }}.</p>\n  <ng-container *ngIf="safetyReminder.details">\n    <h4 class="legal-title">Details</h4>\n    <p>{{ safetyReminder.details }}</p>\n  </ng-container>\n  <h4 class="legal-title"\n    *ngIf="actionsExist">Actions</h4>\n  <!--must list out the action steps here-->\n\n  <ion-list *ngIf="!!worker">\n    <ion-item>\n      <ion-label>I have read and understood</ion-label>\n      <ion-toggle [(ngModel)]="sfAccepted"></ion-toggle>\n    </ion-item>\n  </ion-list>\n\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/safety-reminder-detail/safety-reminder-detail.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */]])
    ], SafetyReminderDetailPage);
    return SafetyReminderDetailPage;
}());

//# sourceMappingURL=safety-reminder-detail.js.map

/***/ }),

/***/ 209:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SafetyReminderModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SafetyRemindersModel; });
var SafetyReminderModel = (function () {
    function SafetyReminderModel() {
    }
    return SafetyReminderModel;
}());

var SafetyRemindersModel = (function () {
    function SafetyRemindersModel() {
        this.items = [];
    }
    return SafetyRemindersModel;
}());

//# sourceMappingURL=safety-reminder.model.js.map

/***/ }),

/***/ 210:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SafetyReminderService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SafetyReminderService = (function () {
    function SafetyReminderService(api) {
        this.api = api;
        console.log('Hello Safety Focus Provider');
    }
    // this gets the data from the server - just the swm definitions .. .therefore
    // are no live status in this data.
    SafetyReminderService.prototype.getData = function (userId) {
        console.log("getData safety focus data");
        // original mock './assets/example_data/safety-focus.json'
        return this.api.get('/v/1/0/safety-reminders', userId ? { userId: userId } : null)
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var safetyReminders = _a.safetyReminders;
            return ({
                items: safetyReminders.map(function (_a) {
                    var id = _a.id, title = _a.title, text = _a.text, description = _a.description, image = _a.image, updated_at = _a.updated_at;
                    return ({
                        id: id,
                        name: title,
                        description: description,
                        details: text,
                        image: image || './assets/images/safety-focus/bigstock-Accident-At-Work-53124226.jpg',
                        date: updated_at ? __WEBPACK_IMPORTED_MODULE_1_moment__(new Date(updated_at)).format('MMM Do') : '',
                        // Fields that not provided by backend, using stubs for now
                        actions: []
                    });
                })
            });
        })
            .catch(this.handleError);
    };
    SafetyReminderService.prototype.reset = function (reminder) {
        return this.api.post("/v/1/0/safety-reminders/" + reminder.id + "/reset", {})
            .toPromise()
            .then(function (response) { return response.json(); });
    };
    SafetyReminderService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    SafetyReminderService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__api__["a" /* ApiService */]])
    ], SafetyReminderService);
    return SafetyReminderService;
}());

//# sourceMappingURL=safety-reminder.js.map

/***/ }),

/***/ 211:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SwmDetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/*
  Generated class for the SwmDetail page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var SwmDetailPage = (function () {
    function SwmDetailPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        console.log("swmDetail constructor");
        this.swmid = this.navParams.get('id');
        console.log("show swm details for id " + this.swmid);
        this.swm = this.navParams.get('swm');
        console.log(this.swm);
    }
    SwmDetailPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SwmDetailPage');
    };
    SwmDetailPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'page-swm-detail',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/swm-detail/swm-detail.html"*/`<!--\n  Generated template for the SwmDetail page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>SWM Detail</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<!--<ion-content padding>\n<h1>swm Deails are here</h1>\n<pre>{{ swm | json}}</pre>\n\n</ion-content>-->\n\n\n\n<ion-content class="settings-content">\n  <div class="user-image-content">\n    <ion-row no-padding\n      class="user-image-row">\n      <ion-col no-padding\n        width-40>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="swm.image"\n          alt="SWM"></preload-image>\n      </ion-col>\n    </ion-row>\n  </div>\n  <ion-list>\n    <ion-item>\n      <p>Name</p>\n      <h2>{{swm.name}}</h2>\n    </ion-item>\n    <ion-item>\n      <p>Abstract</p>\n      <h2>{{swm.abstract}}</h2>\n    </ion-item>\n    <ion-item>\n      <p>Description</p>\n      <h2>{{swm.description}}</h2>\n    </ion-item>\n  </ion-list>\n\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/swm-detail/swm-detail.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */]])
    ], SwmDetailPage);
    return SwmDetailPage;
}());

//# sourceMappingURL=swm-detail.js.map

/***/ }),

/***/ 212:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["b"] = counterRangeValidator;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CounterInput; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(21);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var noop = function () { };
function counterRangeValidator(maxValue, minValue) {
    return function (c) {
        var err = {
            rangeError: {
                given: c.value,
                max: maxValue || 10,
                min: minValue || 0
            }
        };
        return (c.value > +maxValue || c.value < +minValue) ? err : null;
    };
}
var CounterInput = (function () {
    function CounterInput() {
        this.propagateChange = noop;
        this.validateFn = noop;
        this._counterValue = 0;
    }
    CounterInput_1 = CounterInput;
    Object.defineProperty(CounterInput.prototype, "counterValue", {
        get: function () {
            return this._counterValue;
        },
        set: function (val) {
            this._counterValue = val;
            this.propagateChange(val);
        },
        enumerable: true,
        configurable: true
    });
    CounterInput.prototype.ngOnChanges = function (inputs) {
        if (inputs.counterRangeMax || inputs.counterRangeMin) {
            this.validateFn = counterRangeValidator(this.counterRangeMax, this.counterRangeMin);
        }
    };
    CounterInput.prototype.writeValue = function (value) {
        if (value) {
            this.counterValue = value;
        }
    };
    CounterInput.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    CounterInput.prototype.registerOnTouched = function () { };
    CounterInput.prototype.increase = function () {
        this.counterValue++;
    };
    CounterInput.prototype.decrease = function () {
        this.counterValue--;
    };
    CounterInput.prototype.validate = function (c) {
        return this.validateFn(c);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])('counterValue'),
        __metadata("design:type", Object)
    ], CounterInput.prototype, "_counterValue", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])('max'),
        __metadata("design:type", Object)
    ], CounterInput.prototype, "counterRangeMax", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])('min'),
        __metadata("design:type", Object)
    ], CounterInput.prototype, "counterRangeMin", void 0);
    CounterInput = CounterInput_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'counter-input',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/counter-input/counter-input.html"*/`<button type="button" ion-button icon-only class="counter-icon" (click)="decrease()">\n  <ion-icon name="remove"></ion-icon>\n</button>\n<span class="counter-inner">{{counterValue}}</span>\n<button type="button" ion-button icon-only class="counter-icon" (click)="increase()">\n  <ion-icon name="add"></ion-icon>\n</button>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/counter-input/counter-input.html"*/,
            host: {
                'class': 'counter-input'
            },
            providers: [
                { provide: __WEBPACK_IMPORTED_MODULE_1__angular_forms__["f" /* NG_VALUE_ACCESSOR */], useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_15" /* forwardRef */])(function () { return CounterInput_1; }), multi: true },
                { provide: __WEBPACK_IMPORTED_MODULE_1__angular_forms__["e" /* NG_VALIDATORS */], useExisting: Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_15" /* forwardRef */])(function () { return CounterInput_1; }), multi: true }
            ]
        })
    ], CounterInput);
    return CounterInput;
    var CounterInput_1;
}());

//# sourceMappingURL=counter-input.js.map

/***/ }),

/***/ 213:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowersPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FollowersPage = (function () {
    function FollowersPage(menu, navParams) {
        this.menu = menu;
        this.navParams = navParams;
        this.list = [];
        this.list = navParams.get('list');
    }
    FollowersPage.prototype.ionViewDidEnter = function () {
        // the root left menu should be disabled on this page
        this.menu.enable(false);
    };
    FollowersPage.prototype.ionViewWillLeave = function () {
        // enable the root left menu when leaving the tutorial page
        this.menu.enable(true);
    };
    FollowersPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'followers-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/followers/followers.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Followers</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="followers-content">\n  <!-- <ion-searchbar (ionInput)="getItems($event)"></ion-searchbar> -->\n  <ion-searchbar placeholder="Search"></ion-searchbar>\n  <ion-list class="followers-list">\n    <ion-item class="list-item" *ngFor="let item of list">\n      <ion-thumbnail item-left>\n        <preload-image [ratio]="{w:1, h:1}" [src]="item.image" alt="item.name" title="item.name"></preload-image>\n      </ion-thumbnail>\n      <h2 class="item-title">{{item.name}}</h2>\n      <p class="item-description" rows="2">{{item.about}}</p>\n      <button class="relation-button" [ngClass]="{following: !item.inverse_relation}" ion-button clear icon-only item-right>\n        <ion-icon *ngIf="item.inverse_relation" name="person-add"></ion-icon>\n        <ion-icon *ngIf="!item.inverse_relation" name="checkmark"></ion-icon>\n      </button>\n    </ion-item>\n  </ion-list>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/followers/followers.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* MenuController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */]])
    ], FollowersPage);
    return FollowersPage;
}());

//# sourceMappingURL=followers.js.map

/***/ }),

/***/ 214:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_worker_model__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__forgot_password_forgot_password__ = __webpack_require__(574);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__signup_signup__ = __webpack_require__(579);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__tabs_navigation_tabs_navigation__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__worker_clockon_worker_clockon__ = __webpack_require__(580);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__providers_worker__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var LoginPage = (function () {
    function LoginPage(nav, sharedService, workerService, auth, api, toastCtrl) {
        var _this = this;
        this.nav = nav;
        this.sharedService = sharedService;
        this.workerService = workerService;
        this.auth = auth;
        this.api = api;
        this.toastCtrl = toastCtrl;
        this.inprogress = false;
        this.workerlist = new __WEBPACK_IMPORTED_MODULE_3__classes_worker_model__["c" /* WorkersModel */]();
        this.main_page = { component: __WEBPACK_IMPORTED_MODULE_9__tabs_navigation_tabs_navigation__["a" /* TabsNavigationPage */] };
        this.worker_login = { component: __WEBPACK_IMPORTED_MODULE_10__worker_clockon_worker_clockon__["a" /* WorkerClockonPage */] };
        this.login = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["c" /* FormGroup */]({
            email: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('site_staff.1@willow.com.au', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required),
            password: new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["b" /* FormControl */]('secret', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required)
        });
        this.api.loginRedirectHandler = function () {
            _this.sharedService.onPageLeave.next();
            _this.nav.setRoot(LoginPage_1);
        };
    }
    LoginPage_1 = LoginPage;
    LoginPage.prototype.doLogin = function () {
        var _this = this;
        this.inprogress = true;
        this.auth.login(this.login.value.email, this.login.value.password)
            .subscribe(function (loggedIn) {
            _this.inprogress = false;
            _this.notifyOnLogin(loggedIn);
            if (loggedIn) {
                _this.sharedService.siteId = 0;
                _this.sharedService.loggedInUsername = _this.auth.name;
                var isSupervisor = _this.auth.role === __WEBPACK_IMPORTED_MODULE_0__providers_auth__["b" /* UserRole */].Supervisor;
                _this.sharedService.setLenny(isSupervisor, _this.auth.role, _this.login.value.email);
                if (isSupervisor) {
                    console.log('Login: Supervisor');
                    _this.workerService
                        .getData()
                        .then(function (data) { return _this.workerlist.items = data; });
                    // allow single time pass without a password to restricted area
                    _this.sharedService.onPageLeave.next();
                    _this.sharedService.triggerSinglePass();
                    _this.nav.setRoot(_this.main_page.component);
                }
                else {
                    _this.inprogress = false;
                    console.log('Login: Worker');
                    // TODO: Replace with a real data, when backend service will be ready
                    var worker = _this.auth.worker;
                    console.log('Worker is', Object.assign({}, worker));
                    _this.sharedService.onPageLeave.next();
                    _this.nav.setRoot(_this.worker_login.component, { 'worker': worker });
                }
            }
        });
    };
    LoginPage.prototype.doFacebookLogin = function () {
        this.sharedService.onPageLeave.next();
        this.nav.setRoot(this.main_page.component);
    };
    LoginPage.prototype.doGoogleLogin = function () {
        this.sharedService.onPageLeave.next();
        this.nav.setRoot(this.main_page.component);
    };
    LoginPage.prototype.goToSignup = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_8__signup_signup__["a" /* SignupPage */]);
    };
    LoginPage.prototype.goToForgotPassword = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_6__forgot_password_forgot_password__["a" /* ForgotPasswordPage */]);
    };
    LoginPage.prototype.notifyOnLogin = function (loggedIn) {
        var toast = this.toastCtrl.create({
            message: loggedIn ? 'User successfully logged in' : 'Invalid login or password',
            duration: 3000,
            position: 'top'
        });
        toast.present();
    };
    LoginPage = LoginPage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_5__angular_core__["n" /* Component */])({
            selector: 'login-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/login/login.html"*/`<ion-header class="login-header auth-header">\n  <ion-navbar>\n    <ion-title>Sign in</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="login-content auth-content">\n  <form class="login-form auth-form"\n    [formGroup]="login"\n    (ngSubmit)="doLogin()">\n    <ion-item>\n      <ion-input type="email"\n        placeholder="Email"\n        formControlName="email"></ion-input>\n    </ion-item>\n    <show-hide-container>\n      <ion-item>\n        <ion-input type="password"\n          placeholder="Password"\n          formControlName="password"\n          show-hide-input></ion-input>\n      </ion-item>\n    </show-hide-container>\n    <button ion-button\n      block\n      class="auth-action-button login-button"\n      type="submit"\n      [disabled]="!login.valid || inprogress">Log in</button>\n  </form>\n  <ion-row class="alt-options">\n    <ion-col no-padding\n      width-50>\n      <button ion-button\n        block\n        clear\n        class="forgot-button"\n        (click)="goToForgotPassword()">Forgot Password?</button>\n    </ion-col>\n    <ion-col no-padding\n      width-50>\n      <button ion-button\n        block\n        clear\n        class="signup-button"\n        (click)="goToSignup()">Sign up!</button>\n    </ion-col>\n  </ion-row>\n  <p class="auth-divider">\n    Or\n  </p>\n  <button ion-button\n    block\n    class="facebook-auth-button"\n    (click)="doFacebookLogin()">Log in with Facebook</button>\n  <button ion-button\n    block\n    class="google-auth-button"\n    (click)="doGoogleLogin()">Log in with Google</button>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/login/login.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_7__providers_shared__["a" /* SharedService */],
            __WEBPACK_IMPORTED_MODULE_11__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_0__providers_auth__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_4__providers_api__["a" /* ApiService */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["n" /* ToastController */]])
    ], LoginPage);
    return LoginPage;
    var LoginPage_1;
}());

//# sourceMappingURL=login.js.map

/***/ }),

/***/ 215:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TaskService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TaskService = (function () {
    function TaskService(api) {
        this.api = api;
        console.log('Hello Task Provider');
    }
    TaskService.prototype.getData = function () {
        console.log("getData tasks");
        // original mock in './assets/example_data/task.json'
        return this.api.get('/v/1/0/tasks')
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var tasks = _a.tasks;
            return ({
                items: tasks.map(function (_a) {
                    var id = _a.id, name = _a.name, image = _a.image, description = _a.description, sites = _a.sites, created_at = _a.created_at, updated_at = _a.updated_at, swms = _a.swms;
                    return ({
                        id: id,
                        name: name,
                        description: description,
                        sites: sites,
                        swms: swms || [],
                        image: image || './assets/images/safety-focus/bigstock-Portrait-of-an-industrial-work-41642668.jpg',
                    });
                })
            });
        })
            .catch(this.handleError);
    };
    TaskService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    TaskService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__api__["a" /* ApiService */]])
    ], TaskService);
    return TaskService;
}());

//# sourceMappingURL=task.js.map

/***/ }),

/***/ 216:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PrivacyPolicyPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var PrivacyPolicyPage = (function () {
    function PrivacyPolicyPage(view) {
        this.view = view;
    }
    PrivacyPolicyPage.prototype.dismiss = function () {
        this.view.dismiss();
    };
    PrivacyPolicyPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'privacy-policy-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/privacy-policy/privacy-policy.html"*/`<ion-header class="privacy-header legal-header">\n  <ion-toolbar>\n    <ion-buttons start>\n      <button ion-button (click)="dismiss()">\n        <span showWhen="ios">Cancel</span>\n        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Privacy Policy\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class="privacy-content legal-content">\n  <p>Last modified: Nov 14, 2016</p>\n  <h4 class="legal-title">Welcome to ion2FullApp!</h4>\n  <p>Thanks for using our products and services (Services). Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>\n  <h4 class="legal-title">Using our Services</h4>\n  <p>You must follow any policies made available to you within the Services.</p>\n  <p>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \'Content here, content here\', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for \'lorem ipsum\' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).</p>\n  <h4 class="legal-title">About these Terms</h4>\n  <p>We may modify these terms or any additional terms that apply to a Service to, for example, reflect changes to the law or changes to our Services. You should look at the terms regularly. Well post notice of modifications to these terms on this page. Well post notice of modified additional terms in the applicable Service. Changes will not apply retroactively and will become effective no sooner than fourteen days after they are posted. However, changes addressing new functions for a Service or changes made for legal reasons will be effective immediately. If you do not agree to the modified terms for a Service, you should discontinue your use of that Service.</p>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/privacy-policy/privacy-policy.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* ViewController */]])
    ], PrivacyPolicyPage);
    return PrivacyPolicyPage;
}());

//# sourceMappingURL=privacy-policy.js.map

/***/ }),

/***/ 217:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TermsOfServicePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TermsOfServicePage = (function () {
    function TermsOfServicePage(view) {
        this.view = view;
    }
    TermsOfServicePage.prototype.dismiss = function () {
        this.view.dismiss();
    };
    TermsOfServicePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'terms-of-service-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/terms-of-service/terms-of-service.html"*/`<ion-header class="terms-header legal-header">\n  <ion-toolbar>\n    <ion-buttons start>\n      <button ion-button (click)="dismiss()">\n        <span showWhen="ios">Cancel</span>\n        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Terms of Service\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class="terms-content legal-content">\n  <p>Last modified: Nov 14, 2016</p>\n  <h4 class="legal-title">Welcome to ion2FullApp!</h4>\n  <p>Thanks for using our products and services (Services). Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>\n  <h4 class="legal-title">Using our Services</h4>\n  <p>You must follow any policies made available to you within the Services.</p>\n  <p>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \'Content here, content here\', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for \'lorem ipsum\' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).</p>\n  <h4 class="legal-title">About these Terms</h4>\n  <p>We may modify these terms or any additional terms that apply to a Service to, for example, reflect changes to the law or changes to our Services. You should look at the terms regularly. Well post notice of modifications to these terms on this page. Well post notice of modified additional terms in the applicable Service. Changes will not apply retroactively and will become effective no sooner than fourteen days after they are posted. However, changes addressing new functions for a Service or changes made for legal reasons will be effective immediately. If you do not agree to the modified terms for a Service, you should discontinue your use of that Service.</p>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/terms-of-service/terms-of-service.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* ViewController */]])
    ], TermsOfServicePage);
    return TermsOfServicePage;
}());

//# sourceMappingURL=terms-of-service.js.map

/***/ }),

/***/ 218:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetHistoryPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_timesheet_service__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_worker__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TimesheetHistoryPage = (function () {
    function TimesheetHistoryPage(workers, navCtrl, navParams, timesheetService, toast, loadingCtrl, auth) {
        this.workers = workers;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.timesheetService = timesheetService;
        this.toast = toast;
        this.loadingCtrl = loadingCtrl;
        this.auth = auth;
        this.dailyTimesheets = [];
        this.dailyTimesheetsForSite = [];
        this.noTimesYet = true;
        this.lastDate = new Date();
        this.startDate = (new Date()).toISOString();
        this.loaded = false;
        this.allowedSites = [];
    }
    TimesheetHistoryPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad TimesheetHistory');
        this.lastDate = new Date();
        this.timesheetService.reset();
        if (this.auth.isSupervisor) {
            if (!this.workers.workers.length) {
                this.workers.getData();
            }
        }
        this.fetchNextPage();
    };
    TimesheetHistoryPage.prototype.doInfinite = function (infiniteScroll) {
        this
            .fetchNextPage()
            .then(function () {
            infiniteScroll.complete();
        });
    };
    TimesheetHistoryPage.prototype.onSiteSelected = function (site) {
        if (site) {
            this.siteSelected = site.id;
            this.updateDailyTimesheetsForSite();
        }
    };
    TimesheetHistoryPage.prototype.changeStartDate = function (newDate) {
        this.startDate = newDate;
        var date = new Date(newDate);
        var year = date.getFullYear();
        var month = date.getMonth();
        var day = date.getDate();
        // end of a day
        this.siteSelected = null;
        this.lastDate = new Date(year, month, day, 23, 59, 59);
        this.timesheetService.reset();
        this.fetchNextPage();
    };
    TimesheetHistoryPage.prototype.fetchNextPage = function () {
        var _this = this;
        var loading = this.loadingCtrl.create();
        var nextDate = __WEBPACK_IMPORTED_MODULE_0_moment__(this.lastDate).subtract(7, 'days').toDate();
        loading.present();
        return this.timesheetService
            .fetch({
            'date__gte': nextDate.toISOString(),
            'date__lte': this.lastDate.toISOString()
        })
            .then(function (data) {
            loading.dismiss();
            _this.loaded = true;
            _this.lastDate = nextDate;
            console.log("got timesheet data in verify times");
            _this.dailyTimesheets = data;
            _this.updateAllowedSites();
            _this.updateDailyTimesheetsForSite();
        }, function (error) {
            loading.dismiss();
            console.error(error);
            _this.notify('Server error, try again');
        });
    };
    TimesheetHistoryPage.prototype.notify = function (text) {
        var toast = this.toast.create({
            message: text,
            duration: 3000,
            position: 'top'
        });
        toast.present();
    };
    TimesheetHistoryPage.prototype.updateAllowedSites = function () {
        var result = [];
        this.timesheetService.timesheets.forEach(function (t) {
            if (result.indexOf(t.site) < 0) {
                result.push(t.site);
            }
        });
        if (this.siteSelected === undefined) {
            this.siteSelected = result[0];
        }
        this.allowedSites = result;
    };
    TimesheetHistoryPage.prototype.updateDailyTimesheetsForSite = function () {
        if (this.siteSelected) {
            this.dailyTimesheetsForSite = this.timesheetService.getDailyTimesheetsForSite(this.siteSelected);
        }
        else {
            this.dailyTimesheetsForSite = [];
        }
        console.log('Daily', this.dailyTimesheetsForSite);
    };
    TimesheetHistoryPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["n" /* Component */])({
            selector: 'page-timesheet-history',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/timesheet-history/timesheet-history.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Timesheet History</ion-title>\n  </ion-navbar>\n  <div class="timesheet-history-filter">\n    <site-select class="timesheet-site-select"\n      [allowed]="allowedSites"\n      [selected]="siteSelected"\n      [loaded]="loaded"\n      (onSelected)="onSiteSelected($event)"></site-select>\n    <div class="timesheet-history-filter__date">\n      <div class="timesheet-history-filter__date-hint">starting</div>\n      <ion-datetime displayFormat="MM/DD/YYYY"\n        [ngModel]="startDate"\n        (ngModelChange)="changeStartDate($event)"></ion-datetime>\n    </div>\n  </div>\n</ion-header>\n\n<ion-content padding>\n  <timesheet class="timesheet-history-content"\n    [items]="dailyTimesheetsForSite"\n    [workers]="workers.workers"\n    [loaded]="loaded"></timesheet>\n  <div text-center\n    *ngIf="loaded">\n    <button (click)="fetchNextPage()"\n      ion-button\n      round\n      outline>Week more ...</button>\n  </div>\n  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/timesheet-history/timesheet-history.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_4__providers_timesheet_service__["a" /* TimesheetService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth__["a" /* AuthService */]])
    ], TimesheetHistoryPage);
    return TimesheetHistoryPage;
}());

//# sourceMappingURL=timesheet-history.js.map

/***/ }),

/***/ 219:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return TimeLog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return TimesheetModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DailyTimesheet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return TimesheetStates; });
/* harmony export (immutable) */ __webpack_exports__["e"] = getIconForState;
var TimeLog = (function () {
    function TimeLog(id, in_or_out, date_time, gps_lat, gps_lng) {
        this.id = id;
        this.in_or_out = in_or_out;
        this.date_time = date_time;
        this.gps_lat = gps_lat;
        this.gps_lng = gps_lng;
    }
    return TimeLog;
}());

var TimesheetModel = (function () {
    function TimesheetModel(id, user, site, clockOn, clockOff, 
        // 0 - normal working time
        // 1 - lunch
        // 2 - Rostered day off
        // 3 - Annual leave
        // 4 - Sick leave
        // 5 - Other leave
        state, 
        // id for supervisor who approved
        approved, deleted_at) {
        this.id = id;
        this.user = user;
        this.site = site;
        this.clockOn = clockOn;
        this.clockOff = clockOff;
        this.state = state;
        this.approved = approved;
        this.deleted_at = deleted_at;
        this.timeLogs = [];
    }
    return TimesheetModel;
}());

var DailyTimesheet = (function () {
    function DailyTimesheet(date, dateLabel, timesheets) {
        this.date = date;
        this.dateLabel = dateLabel;
        this.timesheets = timesheets;
    }
    return DailyTimesheet;
}());

var TimesheetStates = {
    0: 'No Lunch',
    1: 'Lunch',
    2: 'Rostered day off',
    3: 'Annual leave',
    4: 'Sick leave',
    5: 'Other leave',
};
function getIconForState(state) {
    switch (state) {
        // Lunch
        case 1: return 'cafe';
        // Rostered day off
        case 2: return 'ios-clock';
        // Annual leave
        case 3: return 'ios-plane';
        // Sick leave
        case 4: return 'ios-medkit';
        // Other leave
        case 5: return 'ios-sad';
        default:
            return '';
    }
}
//# sourceMappingURL=timesheet.model.js.map

/***/ }),

/***/ 232:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 232;

/***/ }),

/***/ 277:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 277;

/***/ }),

/***/ 28:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return UserRole; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bcryptjs__ = __webpack_require__(646);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bcryptjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bcryptjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__environment_env__ = __webpack_require__(320);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__classes_worker_model__ = __webpack_require__(67);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UserRole;
(function (UserRole) {
    UserRole[UserRole["Supervisor"] = 0] = "Supervisor";
    UserRole[UserRole["Staff"] = 1] = "Staff";
})(UserRole || (UserRole = {}));
var EMPTY_WORKER = new __WEBPACK_IMPORTED_MODULE_5__classes_worker_model__["b" /* WorkerModel */]({
    id: 0,
    name: '',
    passcode: '',
    image: '',
    description: '',
    swms: [],
    validSwms: [],
    claimedSwms: [],
    swmCompliant: false,
    tasks: [],
    clockOn: '',
    clockedOn: false,
    clockOnAddress: '',
    clockOff: '',
    clockOffAddress: '',
    clockedOff: false,
    startedWork: false,
    finishedWork: false,
    date: new Date(),
    ackSwms: false,
    ackIssues: false,
    siteSelected: 0,
    inLocation: false,
    siteVisits: [],
    sitesAllowed: [],
    supervisor: false
});
var EMPTY_USER = {
    image: '',
    location: '',
    about: '',
    email: '',
    phone: '',
    name: '',
};
var AuthService = (function () {
    function AuthService(http) {
        this.http = http;
        this._loggedIn = false;
        this._apiKey = null;
        this._role = null;
        this._hashedPassword = null;
        this._siteVisits = null;
        this._name = null;
        this._image = null;
        this._user = Object.assign({}, EMPTY_USER);
        this._worker = new __WEBPACK_IMPORTED_MODULE_5__classes_worker_model__["b" /* WorkerModel */](Object.assign({}, EMPTY_WORKER));
    }
    Object.defineProperty(AuthService.prototype, "loggedIn", {
        get: function () {
            return this._loggedIn;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "apiKey", {
        get: function () {
            return this._apiKey;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "role", {
        get: function () {
            return this._role;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "isSupervisor", {
        get: function () {
            return this._role === UserRole.Supervisor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "siteVisits", {
        get: function () {
            return this._siteVisits;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "image", {
        get: function () {
            return this._image;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "user", {
        get: function () {
            return this._user;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "worker", {
        get: function () {
            return this._worker;
        },
        enumerable: true,
        configurable: true
    });
    AuthService.prototype.reset = function () {
        this._loggedIn = false;
        this._apiKey = null;
        this._role = null;
        this._hashedPassword = null;
        this._siteVisits = null;
        this._name = null;
        this._image = null;
        this._worker.validSwms = [];
        this._user = Object.assign({}, EMPTY_USER);
        this._worker = new __WEBPACK_IMPORTED_MODULE_5__classes_worker_model__["b" /* WorkerModel */](Object.assign({}, EMPTY_WORKER));
    };
    AuthService.prototype.login = function (username, password) {
        var _this = this;
        var headers = {
            headers: new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-type': 'application/json' })
        };
        return this.http.post(__WEBPACK_IMPORTED_MODULE_2__environment_env__["a" /* API_URL */] + '/login', JSON.stringify({ email: username, password: password }), headers)
            .map(function (response) {
            var res = response.json().data;
            _this._loggedIn = true;
            _this._apiKey = res['API Key'];
            _this._role = res.profile.role === 'supervisor' ? UserRole.Supervisor : UserRole.Staff;
            _this._hashedPassword = res.profile.password_hash;
            _this._siteVisits = res.profile.sites;
            _this._name = res.profile.name;
            _this._image = res.profile.image;
            // Fill user model
            _this._user.name = _this._name;
            _this._user.image = _this._image;
            // Fill worker model
            _this._worker.name = _this._name;
            _this._worker.image = _this._image;
            _this._worker.supervisor = _this._role === UserRole.Supervisor;
            _this._worker.siteVisits = (_this._siteVisits || [])
                .map(function (_a) {
                var id = _a.id, checkInDate = _a.checkInDate, checkOutDate = _a.checkOutDate;
                return ({
                    id: id,
                    checkInDate: checkInDate ? new Date(checkInDate) : null,
                    checkOutDate: checkOutDate ? new Date(checkOutDate) : null,
                });
            });
            _this._worker.validSwms = res.profile.validSwms;
            _this._worker.claimedSwms = res.profile.claimedSwms;
            _this._worker.sitesAllowed = res.profile.allowedSites || [];
            return true;
        })
            .catch(function (error) {
            console.error(error);
            _this._loggedIn = false;
            _this._apiKey = null;
            _this._role = null;
            _this._siteVisits = [];
            return __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].of(false);
        });
    };
    AuthService.prototype.checkPassword = function (password) {
        if (!this._hashedPassword) {
            return false;
        }
        return __WEBPACK_IMPORTED_MODULE_0_bcryptjs__["compareSync"](password, this._hashedPassword);
    };
    AuthService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], AuthService);
    return AuthService;
}());

//# sourceMappingURL=auth.js.map

/***/ }),

/***/ 30:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SharedService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth__ = __webpack_require__(28);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




/*
  Generated class for the Tudomundo provider.

  See https://angular.io/docs/ts/latest/guide/dependency-injection.html
  for more info on providers and Angular 2 DI.
*/
var SharedService = (function () {
    function SharedService() {
        this.siteId = null;
        this.siteName = null;
        // For prestart
        this.siteOpened = false;
        this.supervisorRole = false;
        this.userHelperMode = true;
        this.loggedInUsername = null;
        //
        this.onPageLeave = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["Subject"]();
        this.dvtGlobals = {
            supervisor: false,
            role: __WEBPACK_IMPORTED_MODULE_3__auth__["b" /* UserRole */].Staff,
            lvtDebug: "lenny1",
            username: "freddy"
        };
        this._singlePass = false;
    }
    SharedService.prototype.setUserRole = function (isSupervisor) {
        this.supervisorRole = isSupervisor;
    };
    SharedService.prototype.getLenny = function () {
        return this.dvtGlobals;
    };
    SharedService.prototype.setLenny = function (isSupervisor, role, dbgStr) {
        this.dvtGlobals.role = role;
        this.dvtGlobals.supervisor = isSupervisor;
        this.dvtGlobals.lvtDebug = dbgStr;
    };
    // Single pass semaphore
    // You can trigger it to allow user a single pass to prestart page after succesful login
    SharedService.prototype.getSinglePass = function () {
        var ret = this._singlePass;
        this._singlePass = false;
        return ret;
    };
    SharedService.prototype.triggerSinglePass = function () {
        this._singlePass = true;
    };
    SharedService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["B" /* Injectable */])()
    ], SharedService);
    return SharedService;
}());

//# sourceMappingURL=shared.js.map

/***/ }),

/***/ 319:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MaWeatherDetailsPage; });
/* unused harmony export DetailsItem */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MaWeatherDetailsPage = (function () {
    function MaWeatherDetailsPage(nav, navParams) {
        this.nav = nav;
        this.navParams = navParams;
        this.monthsName = ['Jan', 'Feb', 'Mar', 'April', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        this.mainSegment = 'details';
        this.currentWeather = {};
        this.hourly = [];
        this.currentAccordion = -1;
        this.details = [
            new DetailsItem('humidity', 'Humidity', '%'),
            new DetailsItem('pressure', 'Pressure', 'mbar'),
            new DetailsItem('windSpeed', 'Wind Speed', 'mi/h'),
            new DetailsItem('ozone', 'Ozone', 'DU'),
            new DetailsItem('dewPoint', 'Dew Point', ''),
            new DetailsItem('cloudCover', 'Cloud Cover', '%'),
            new DetailsItem('visibility', 'Visibility', 'mi'),
            new DetailsItem('precipType', 'Precip Type', ''),
            new DetailsItem('precipIntensity', 'Precip Intensity', 'mm/h'),
            new DetailsItem('precipProbability', 'Precip Probability', '%'),
        ];
        this.currentWeather = this.navParams.data.currentWeather;
        this.color = this.navParams.data.color;
        this.processHourlyData(this.navParams.data.forecast.hourly.data);
        this.processCurrentDetails();
    }
    MaWeatherDetailsPage.prototype.toggleAccordion = function (i) {
        this.currentAccordion = i === this.currentAccordion ? -1 : i;
    };
    MaWeatherDetailsPage.prototype.processCurrentDetails = function () {
        var _this = this;
        this.details.map(function (x) {
            x.value = _this.currentWeather[x.property];
        });
    };
    MaWeatherDetailsPage.prototype.processHourlyData = function (hourly) {
        if (hourly === void 0) { hourly = []; }
        var _loop_1 = function (i) {
            var eachHourly = {};
            eachHourly.details = [];
            eachHourly.icon = hourly[i].icon;
            eachHourly.summary = hourly[i].summary;
            eachHourly.temperature = hourly[i].temperature;
            eachHourly.date = this_1.formatDate(hourly[i].time);
            eachHourly.time = this_1.formatTime(hourly[i].time);
            if (i !== 0)
                eachHourly.difference = (hourly[i].temperature - hourly[i - 1].temperature) > 0 ? 'up' : 'down';
            this_1.details.map(function (d) {
                eachHourly.details.push(new DetailsItem(d.property, d.text, d.unit, hourly[i][d.property]));
            });
            this_1.hourly.push(eachHourly);
        };
        var this_1 = this;
        for (var i = 0; i < hourly.length; i++) {
            _loop_1(i);
        }
        ;
    };
    MaWeatherDetailsPage.prototype.formatDate = function (ms) {
        var d = new Date(ms * 1000);
        return this.monthsName[d.getMonth()] + " " + d.getDay();
    };
    MaWeatherDetailsPage.prototype.formatTime = function (ms) {
        var d = new Date(ms * 1000);
        return d.getHours() + ":00";
    };
    MaWeatherDetailsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'page-ma-weather-details',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/ma-weather/ma-weather-details.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Weather Details</ion-title>\n  </ion-navbar>\n  <ion-toolbar>\n    <ion-segment [(ngModel)]="mainSegment" color="light">\n      <ion-segment-button value="details">\n        Details\n      </ion-segment-button>\n      <ion-segment-button value="hourly">\n        Hourly\n      </ion-segment-button>\n    </ion-segment>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <div [ngSwitch]="mainSegment">\n    <div *ngSwitchCase="\'details\'">\n      <ma-weather-content [options]="currentWeather"></ma-weather-content>\n      <ion-grid class="current-details">\n        <ion-row *ngFor="let x of details" [hidden]="x.value === \'\' || !x.value">\n          <ion-col class="detail-name" offset-1>{{x.text}}</ion-col>\n          <ion-col class="detail-value">{{x.value}} {{x.unit}}</ion-col>\n        </ion-row>\n      </ion-grid>\n    </div>\n\n    <ion-list *ngSwitchCase="\'hourly\'" class="hourly-list">\n      <div *ngFor="let h of hourly; let i = index;" class="accordion-item" [ngClass]="{\'is-shown\': currentAccordion === i, \'previous-shown\': currentAccordion === i-1}">\n        <ion-item (click)="toggleAccordion(i)" class="accordion-header">\n          <ion-thumbnail item-left>\n            <div class="weather-icon-container">\n              <div [ngClass]="h.icon" class="weather-icon"></div>\n            </div>\n          </ion-thumbnail>\n          <h2>{{h.date}} <span class="time">{{h.time}}</span></h2>\n          <p>{{h.summary}}</p>\n          <span item-right>{{h.temperature.toFixed(0)}} <ion-icon [name]="\'arrow-round-\' + h.difference"></ion-icon></span>\n        </ion-item>\n        <div class="accordion-content">\n          <div class="current-details">\n            <ion-row *ngFor="let x of h.details" [hidden]="x.value === \'\' || !x.value">\n              <ion-col class="detail-name" offset-1>{{x.text}}</ion-col>\n              <ion-col class="detail-value">{{x.value}} {{x.unit}}</ion-col>\n            </ion-row>\n          </div>\n        </div>\n      </div>\n    </ion-list>\n  </div>\n\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/ma-weather/ma-weather-details.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */]])
    ], MaWeatherDetailsPage);
    return MaWeatherDetailsPage;
}());

var DetailsItem = (function () {
    function DetailsItem(property, text, unit, value) {
        if (value === void 0) { value = ''; }
        this.property = property;
        this.text = text;
        this.unit = unit;
        this.value = value;
    }
    return DetailsItem;
}());

//# sourceMappingURL=ma-weather-details.js.map

/***/ }),

/***/ 320:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return API_URL; });
var API_URL = 'https://api.willow.kndtesting.com.au';
// export const API_URL = 'http://api.willowsite.dev';
//# sourceMappingURL=env.js.map

/***/ }),

/***/ 36:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ApiService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__environment_env__ = __webpack_require__(320);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var MSG_SERVER_ERROR = 'Server error. Please try again.';
var ApiService = (function () {
    function ApiService(auth, http, toast) {
        this.auth = auth;
        this.http = http;
        this.toast = toast;
        this.loginRedirectHandler = null;
    }
    ApiService.prototype.get = function (path, options) {
        var _this = this;
        if (options === void 0) { options = null; }
        return this.http.get(__WEBPACK_IMPORTED_MODULE_1__environment_env__["a" /* API_URL */] + path, this.requestHeaders(options))
            .catch(function (err) { return _this.catchCommonServerErrors(err); });
    };
    ApiService.prototype.post = function (path, data) {
        var _this = this;
        return this.http.post(__WEBPACK_IMPORTED_MODULE_1__environment_env__["a" /* API_URL */] + path, JSON.stringify(data), this.requestHeaders())
            .catch(function (err) { return _this.catchCommonServerErrors(err); });
    };
    ApiService.prototype.delete = function (path) {
        var _this = this;
        return this.http.delete(__WEBPACK_IMPORTED_MODULE_1__environment_env__["a" /* API_URL */] + path, this.requestHeaders())
            .catch(function (err) { return _this.catchCommonServerErrors(err); });
    };
    ApiService.prototype.checkAuth = function () {
        if (!this.auth.loggedIn) {
            if (this.loginRedirectHandler) {
                this.loginRedirectHandler();
            }
            return false;
        }
        return true;
    };
    ApiService.prototype.requestHeaders = function (params) {
        if (params === void 0) { params = null; }
        return Object.assign({
            headers: new __WEBPACK_IMPORTED_MODULE_0__angular_http__["a" /* Headers */]({
                'Content-type': 'application/json',
                'X-Auth': this.auth.apiKey
            })
        }, params ? { params: params } : {});
    };
    ApiService.prototype.catchCommonServerErrors = function (err) {
        if (err.status === 401) {
            console.log('Got 401 server error');
            if (this.loginRedirectHandler) {
                console.log('Redirecting to login');
                this.loginRedirectHandler();
            }
        }
        if (!err.status || err.status >= 500) {
            this.notify(MSG_SERVER_ERROR);
        }
        return __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(err);
    };
    ApiService.prototype.notify = function (text, duration) {
        if (duration === void 0) { duration = 3000; }
        var toast = this.toast.create({
            message: text,
            duration: duration,
            position: 'top'
        });
        toast.present();
    };
    ApiService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__auth__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_0__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_5_ionic_angular__["n" /* ToastController */]])
    ], ApiService);
    return ApiService;
}());

//# sourceMappingURL=api.js.map

/***/ }),

/***/ 37:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DEFAULT_PERSON; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return WorkerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_exceptions_not_authenticated_error__ = __webpack_require__(1011);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__classes_worker_model__ = __webpack_require__(67);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var DEFAULT_PERSON = './assets/images/profile/unknown-person.png';
/*
  Generated class for the Worker provider.

  See https://angular.io/docs/ts/latest/guide/dependency-injection.html
  for more info on providers and Angular 2 DI.
*/
var WorkerService = (function () {
    function WorkerService(api) {
        this.api = api;
        this.workers = [];
    }
    WorkerService.prototype.getData = function () {
        var _this = this;
        // just mock data for now but not clear how the list of workers will be
        // generated on the server (ie prepopulated by head office, filtered on
        // supervisior etc)
        console.log("getData workers");
        return this.api.get('/v/1/0/staff')
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var staff = _a.staff;
            return (staff.map(function (_a) {
                var id = _a.id, name = _a.name, image = _a.image, message = _a.message, validSwms = _a.validSwms, claimedSwms = _a.claimedSwms, passcode = _a.passcode, siteSelected = _a.siteSelected, clockedOn = _a.clockedOn, clockedOff = _a.clockedOff, supervisor = _a.supervisor, allowedSites = _a.allowedSites, siteVisits = _a.siteVisits, created_at = _a.created_at, updated_at = _a.updated_at;
                return new __WEBPACK_IMPORTED_MODULE_5__classes_worker_model__["b" /* WorkerModel */]({
                    id: id,
                    name: name,
                    image: image,
                    passcode: passcode,
                    description: message,
                    validSwms: validSwms,
                    clockOn: clockedOn ? __WEBPACK_IMPORTED_MODULE_1_moment__(clockedOn).format('HH:mm:ss') : '',
                    clockedOn: clockedOn !== null,
                    clockOff: clockedOff ? __WEBPACK_IMPORTED_MODULE_1_moment__(clockedOff).format('HH:mm:ss') : '',
                    clockedOff: clockedOff !== null,
                    startedWork: clockedOn !== null,
                    finishedWork: clockedOff !== null,
                    supervisor: !!supervisor,
                    sitesAllowed: allowedSites,
                    siteSelected: siteSelected !== null ? siteSelected : 0,
                    siteVisits: siteVisits.map(function (_a) {
                        var id = _a.id, checkInDate = _a.checkInDate, checkOutDate = _a.checkOutDate;
                        return ({
                            id: id,
                            checkInDate: checkInDate ? new Date(checkInDate) : null,
                            checkOutDate: checkOutDate ? new Date(checkOutDate) : null,
                        });
                    }),
                    claimedSwms: claimedSwms,
                    // not returned from server
                    swms: [],
                    swmCompliant: true,
                    tasks: [],
                    clockOnAddress: '',
                    clockOffAddress: '',
                    date: new Date(updated_at),
                    ackSwms: true,
                    ackIssues: true,
                    inLocation: true
                });
            }));
        })
            .then(function (workers) {
            // store locally
            _this.workers = workers;
            return workers;
        })
            .catch(this.handleError);
    };
    WorkerService.prototype.approveSwm = function (swmId, siteId, userId) {
        return this.api
            .post('/v/1/0/staff/swm-approval', { swm: swmId, site: siteId, user: userId })
            .toPromise()
            .then(function (response) { return response.json(); });
    };
    WorkerService.prototype.handleError = function (error) {
        if (error instanceof __WEBPACK_IMPORTED_MODULE_3__classes_exceptions_not_authenticated_error__["a" /* ErrorNotAuthenticated */]) {
            return [];
        }
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    WorkerService.prototype.setWorkersStatus = function (workers) {
        this.workers = workers;
    };
    WorkerService.prototype.getWorkersStatus = function () {
        return this.workers;
    };
    WorkerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__api__["a" /* ApiService */]])
    ], WorkerService);
    return WorkerService;
}());

//# sourceMappingURL=worker.js.map

/***/ }),

/***/ 444:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClockOffPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_worker__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_check_in__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_geolocation__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__logout_modal_logout_modal_component__ = __webpack_require__(563);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__ = __webpack_require__(67);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var TAB_UPDATE_INTERVAL = 60 * 1000;
var ClockOffPage = (function () {
    function ClockOffPage(nav, workerService, alertCtrl, geolocation, sharedService, toast, checkOutService, modalCtrl) {
        this.nav = nav;
        this.workerService = workerService;
        this.alertCtrl = alertCtrl;
        this.geolocation = geolocation;
        this.sharedService = sharedService;
        this.toast = toast;
        this.checkOutService = checkOutService;
        this.modalCtrl = modalCtrl;
        this.defaultPersonImage = __WEBPACK_IMPORTED_MODULE_2__providers_worker__["a" /* DEFAULT_PERSON */];
        this.workers = new __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__["c" /* WorkersModel */]();
        this.workersWorking = new __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__["c" /* WorkersModel */]();
        this.workersFinished = new __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__["c" /* WorkersModel */]();
        this.location = {
            lat: null,
            lon: null
        };
        this.inHandler = false;
    }
    ClockOffPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        console.log("ionViewDidEnter - clockOff");
        clearInterval(this.updateIntervalHandler);
        this.updateIntervalHandler = setInterval(function () {
            // Interval could be triggered multiple times in row
            if (_this.inHandler) {
                return;
            }
            _this.inHandler = true;
            _this.updateData();
            _this.inHandler = false;
        }, TAB_UPDATE_INTERVAL);
        this.pageLeaveSubscription = this.sharedService.onPageLeave.subscribe(function () {
            clearInterval(_this.updateIntervalHandler);
        });
        this.updateData();
    };
    ClockOffPage.prototype.ionViewWillLeave = function () {
        clearInterval(this.updateIntervalHandler);
        this.pageLeaveSubscription.unsubscribe();
        console.log('Clearing ticker');
    };
    ClockOffPage.prototype.updateData = function () {
        this.workers.items = this.workerService.getWorkersStatus();
        this.createViewArrays();
        if ((this.workersWorking.items.length + this.workersFinished.items.length) === 0) {
            this.hasDayStarted = false;
        }
        else
            this.hasDayStarted = true;
        this.getGeoLocation();
    };
    ClockOffPage.prototype.createViewArrays = function () {
        // parse the workers array to provide swm compilance indication
        // and whether the worker has started work or not.
        var _this = this;
        this.workersWorking.items = [];
        this.workersFinished.items = [];
        this.workers.items.map(function (worker) {
            // do swm compliance
            console.log("print out worker");
            console.log(worker);
            // split workers into started and not started arrays - exclude
            // workers that are finished for the day
            if (worker.clockedOn === true) {
                console.log("clocked on detected ");
                console.log(worker);
                if (!worker.clockedOff) {
                    console.log(worker.name + " is still working");
                    if (worker.siteSelected === _this.sharedService.siteId)
                        _this.workersWorking.items.push(worker);
                }
                else {
                    console.log(worker.name + " has finished work");
                    if (worker.siteSelected === _this.sharedService.siteId)
                        _this.workersFinished.items.push(worker);
                }
            }
        });
        console.log("worker clocking");
        console.log(this.workersWorking.items);
    };
    ClockOffPage.prototype.startSignOff = function (worker) {
        var _this = this;
        this.getGeoLocation();
        console.log("start the signoff process for " + worker.name);
        var logoutModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_6__logout_modal_logout_modal_component__["a" /* LogoutModal */], { title: worker.name }, { showBackdrop: true, enableBackdropDismiss: true });
        logoutModal.onDidDismiss(function (data) {
            if (!data) {
                return;
            }
            if (data.passcode.localeCompare(worker.passcode) === 0) {
                _this.clockOff(worker, data.lunch, _this.location);
            }
            else {
                _this.notify('Invalid passcode');
            }
        });
        logoutModal.present();
    };
    ClockOffPage.prototype.clockOff = function (worker, lunch, location) {
        var _this = this;
        worker.clockedOff = true;
        worker.clockOff = new Date().toTimeString().split(' ')[0];
        this.checkOutService.checkOut(this.sharedService.siteId, lunch, location.lat, location.lon, worker.id).subscribe(function (response) {
            if (!response.success) {
                _this.notify(response.message);
            }
        }, function (error) {
            _this.notify('Server error');
            console.error(error);
        });
        this.createViewArrays();
    };
    ClockOffPage.prototype.notify = function (text) {
        var toast = this.toast.create({
            message: text,
            duration: 3000,
            position: 'top'
        });
        toast.present();
    };
    ClockOffPage.prototype.getGeoLocation = function () {
        var _this = this;
        this.geolocation.getCurrentPosition().then(function (resp) {
            console.log("Location: lat = " + resp.coords.latitude + " long " + resp.coords.longitude);
            _this.location.lat = resp.coords.latitude;
            _this.location.lon = resp.coords.longitude;
        }).catch(function (error) {
            console.log('Error getting location', error);
        });
    };
    ClockOffPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["n" /* Component */])({
            selector: 'page-clock-off',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/clock-off/clock-off.html"*/`<ion-header>\n  <ion-navbar>\n    <button ion-button\n      menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>Daily Attendance Record (Clock off)</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="notifications-content">\n  <h2 *ngIf="!hasDayStarted">Day hasn\'t started Yet</h2>\n  <ion-item-group *ngIf="hasDayStarted">\n    <ion-item-divider class="notifications-divider">Still Working</ion-item-divider>\n    <ion-item class="notification-item"\n      *ngFor="let worker of workersWorking.items"\n      (click)="startSignOff(worker)">\n      <ion-avatar item-left>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="worker.image || defaultPersonImage"></preload-image>\n      </ion-avatar>\n      <h2 class="item-title">{{worker.name}}</h2>\n      <p class="item-description">{{worker.message}}</p>\n      <ion-note class="item-time"\n        item-right>{{worker.clockOn}}</ion-note>\n    </ion-item>\n    <ion-item-divider class="notifications-divider">Slater ...!</ion-item-divider>\n    <ion-item class="notification-item"\n      *ngFor="let worker of workersFinished.items">\n      <ion-avatar item-left>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="worker.image || defaultPersonImage"></preload-image>\n      </ion-avatar>\n      <h2 class="item-title">{{worker.name}}</h2>\n      <p class="item-description">{{worker.message}}</p>\n      <ion-note class="item-time"\n        item-right>{{worker.clockOff}}</ion-note>\n    </ion-item>\n  </ion-item-group>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/clock-off/clock-off.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_geolocation__["a" /* Geolocation */],
            __WEBPACK_IMPORTED_MODULE_7__providers_shared__["a" /* SharedService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_3__providers_check_in__["a" /* CheckInOutService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["g" /* ModalController */]])
    ], ClockOffPage);
    return ClockOffPage;
}());

//# sourceMappingURL=clock-off.js.map

/***/ }),

/***/ 563:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogoutModal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LogoutModal = (function () {
    function LogoutModal(params, viewCtrl) {
        this.viewCtrl = viewCtrl;
        this.workerName = params.get('title');
        console.log('Title', this.workerName);
    }
    LogoutModal.prototype.onCancel = function () {
        this.viewCtrl.dismiss();
    };
    LogoutModal.prototype.onSignOff = function () {
        this.viewCtrl.dismiss({ passcode: this.passcode, lunch: this.lunch });
    };
    LogoutModal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'logout-modal',
            template: "\n  <ion-header>\n    <ion-navbar>\n      <ion-title>Logout</ion-title>\n    </ion-navbar>\n  </ion-header>\n  <ion-content>\n    <div class=\"wrapper\">\n      <ion-item><ion-label>{{ workerName }}</ion-label></ion-item>\n      <ion-item>\n        <ion-label>Passcode</ion-label>\n        <ion-input type=\"password\" [(ngModel)]=\"passcode\" autofocus></ion-input>\n      </ion-item>\n      <ion-item>\n        <ion-label>Lunch</ion-label>\n        <ion-checkbox [(ngModel)]=\"lunch\"></ion-checkbox>\n      </ion-item>\n    </div>\n  </ion-content>\n  <ion-footer>\n    <ion-item class=\"buttons\">\n      <button ion-button clear outline (click)=\"onCancel()\">Cancel</button>\n      <button ion-button float-right default [disabled]=\"!passcode\" (click)=\"onSignOff()\">Sign off</button>\n    </ion-item>\n  </ion-footer>\n"
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */], __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["o" /* ViewController */]])
    ], LogoutModal);
    return LogoutModal;
}());

//# sourceMappingURL=logout-modal.component.js.map

/***/ }),

/***/ 564:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClockOnPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__providers_worker__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_geolocation__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_prestart_configuration__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__swm_swm__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_swm__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__ = __webpack_require__(67);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var TAB_UPDATE_INTERVAL = 60 * 1000;
/*
  Generated class for the ClockOn page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var ClockOnPage = (function () {
    function ClockOnPage(nav, workerService, swmService, loadingCtrl, sharedService, geolocation, prestartConfigurationService) {
        this.nav = nav;
        this.workerService = workerService;
        this.swmService = swmService;
        this.loadingCtrl = loadingCtrl;
        this.sharedService = sharedService;
        this.geolocation = geolocation;
        this.prestartConfigurationService = prestartConfigurationService;
        this.defaultPersonImage = __WEBPACK_IMPORTED_MODULE_0__providers_worker__["a" /* DEFAULT_PERSON */];
        this.prestart = null;
        this.workerlist = new __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__["c" /* WorkersModel */]();
        this.workersNotStartedThisSite = new __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__["c" /* WorkersModel */]();
        this.workersStarted = new __WEBPACK_IMPORTED_MODULE_8__classes_worker_model__["c" /* WorkersModel */]();
        this.location = {
            lat: null,
            lon: null
        };
        this.inHandler = false;
        this.siteName = "unknown";
        this.supervisorName = "unknown";
        console.log("ClockOnPage constructor");
    }
    ClockOnPage.prototype.ionViewDidEnter = function () {
        var _this = this;
        console.log("ionViewDidEnter - clockOn ");
        // update service so signOff page knows about changes
        clearInterval(this.updateIntervalHandler);
        this.updateIntervalHandler = setInterval(function () {
            // Interval could be triggered multiple times in row
            if (_this.inHandler) {
                return;
            }
            _this.inHandler = true;
            _this.updateData()
                .then(function () { return _this.inHandler = false; }, function () { return _this.inHandler = false; });
        }, TAB_UPDATE_INTERVAL);
        // Sometimes ionDidLeave is not called
        this.pageLeaveSubscription = this.sharedService.onPageLeave.subscribe(function () {
            clearInterval(_this.updateIntervalHandler);
        });
        this.updateData();
        // Get the site name to display
        this.siteName = this.sharedService.siteName;
        this.supervisorName = this.sharedService.loggedInUsername;
    };
    ClockOnPage.prototype.ionViewWillLeave = function () {
        this.pageLeaveSubscription.unsubscribe();
        clearInterval(this.updateIntervalHandler);
        console.log('Clearing ticker');
    };
    ClockOnPage.prototype.updateData = function () {
        var loading = this.loadingCtrl.create();
        loading.present();
        var done = function () { return loading.dismiss(); };
        this.getGeoLocation();
        this.fetchPrestart();
        return this.fetchWorkersList()
            .then(done, done);
    };
    ClockOnPage.prototype.createViewArrays = function () {
        var _this = this;
        // parse the workers array to provide swm compilance indication
        // and whether the worker has started work or not.
        var rqswms = this.swmService.getRequiredSwms() || [];
        console.log('Site is ', this.sharedService.siteId);
        console.log("list of required swms are ");
        console.log(rqswms);
        this.workersStarted.items = [];
        this.workersNotStartedThisSite.items = [];
        this.workerlist.items.map(function (worker) {
            // do swm compliance
            console.log("print out worker");
            console.log(worker);
            worker.swmCompliant = rqswms.every(function (rs) {
                return worker.hasValidSwm(_this.sharedService.siteId, rs) ||
                    worker.hasClaimedSwm(_this.sharedService.siteId, rs);
            });
            // split workers into started and not started arrays - exclude
            // workers that are finished for the day
            if (worker.clockedOn) {
                console.log("clocked on detected " + worker.name);
                if (!worker.clockedOff) {
                    console.log(worker.name + " has started work");
                    if (worker.siteSelected === _this.sharedService.siteId) {
                        _this.workersStarted.items.push(worker);
                    }
                }
                else {
                    console.log(worker.name + " has finished work, but still can check-in");
                    if (worker.sitesAllowed.indexOf(_this.sharedService.siteId) >= 0 ||
                        _this.isWorkerABackupOnSite(worker.id)) {
                        _this.workersNotStartedThisSite.items.push(worker);
                    }
                }
            }
            else {
                console.log("worker not started " + worker.name);
                // only add if worker is on this site, or a backup for this site
                if (worker.sitesAllowed.indexOf(_this.sharedService.siteId) >= 0 ||
                    _this.isWorkerABackupOnSite(worker.id)) {
                    _this.workersNotStartedThisSite.items.push(worker);
                }
            }
        });
        console.log("worker clocking");
        console.log(this.workersStarted.items);
    };
    ClockOnPage.prototype.startSignIn = function (worker) {
        this.getGeoLocation();
        console.log("start the signin process");
        this.nav.push(__WEBPACK_IMPORTED_MODULE_6__swm_swm__["a" /* SwmPage */], {
            'worker': worker,
            'siteId': this.sharedService.siteId,
            'prestart': this.prestart
        });
    };
    ClockOnPage.prototype.fetchWorkersList = function () {
        var _this = this;
        return this.workerService
            .getData()
            .then(function (data) {
            _this.workerlist.items = data;
            console.log("got the worker data from service");
            console.log(_this.workerlist.items);
            // process the workerlist for swm compliance and statuses
            _this.createViewArrays();
            _this.workerService.setWorkersStatus(_this.workerlist.items);
        });
    };
    ClockOnPage.prototype.fetchPrestart = function () {
        this.prestart = this.prestartConfigurationService.getBySiteId(this.sharedService.siteId);
    };
    ClockOnPage.prototype.getGeoLocation = function () {
        var _this = this;
        this.geolocation.getCurrentPosition().then(function (resp) {
            console.log("Location: lat = " + resp.coords.latitude + " long " + resp.coords.longitude);
            _this.location.lat = resp.coords.latitude;
            _this.location.lon = resp.coords.longitude;
        }).catch(function (error) {
            console.log('Error getting location', error);
        });
    };
    ClockOnPage.prototype.isWorkerABackupOnSite = function (worker) {
        return this.prestart.backupStaff.indexOf(worker) >= 0;
    };
    ClockOnPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["n" /* Component */])({
            selector: 'page-clock-on',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/clock-on/clock-on.html"*/`<ion-header>\n  <ion-navbar>\n    <button ion-button\n      menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>Daily Attendance Record (Clock on)</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="notifications-content">\n  <ion-item-group>\n    <ion-item-divider class="notifications-divider">Yet to arrive (Site is {{ siteName }} - Supervisor is {{ supervisorName }})</ion-item-divider>\n\n    <ion-item class="notification-item"\n      *ngFor="let worker of workersNotStartedThisSite.items"\n      (click)="startSignIn(worker)"\n      [ngClass]="{\'non-compliant\': !worker.swmCompliant}">\n      <ion-avatar item-left>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="worker.image || defaultPersonImage"></preload-image>\n      </ion-avatar>\n      <h2 class="item-title">{{worker.name}}</h2>\n      <p class="item-description">{{worker.message}}</p>\n      <!--<ion-note class="item-time" item-right>{{worker.date}}</ion-note>-->\n    </ion-item>\n    <ion-item-divider class="notifications-divider">Signed In</ion-item-divider>\n    <ion-item class="notification-item"\n      *ngFor="let worker of workersStarted.items"\n      [ngClass]="{\'non-compliant\': !worker.swmCompliant}">\n      <ion-avatar item-left>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="worker.image || defaultPersonImage"></preload-image>\n      </ion-avatar>\n      <h2 class="item-title">{{worker.name}}</h2>\n      <p class="item-description">{{worker.message}}</p>\n      <ion-note class="item-time"\n        item-right>{{worker.clockOn}}</ion-note>\n    </ion-item>\n  </ion-item-group>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/clock-on/clock-on.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_0__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_7__providers_swm__["a" /* SwmService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_5__providers_shared__["a" /* SharedService */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_geolocation__["a" /* Geolocation */],
            __WEBPACK_IMPORTED_MODULE_4__providers_prestart_configuration__["a" /* PrestartConfigurationService */]])
    ], ClockOnPage);
    return ClockOnPage;
}());

//# sourceMappingURL=clock-on.js.map

/***/ }),

/***/ 565:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PrestartConfiguration; });
var PrestartConfiguration = (function () {
    function PrestartConfiguration(siteId, tasks, swms, reminders, issues, backupStaff) {
        if (tasks === void 0) { tasks = []; }
        if (swms === void 0) { swms = []; }
        if (reminders === void 0) { reminders = []; }
        if (issues === void 0) { issues = []; }
        if (backupStaff === void 0) { backupStaff = []; }
        this.siteId = siteId;
        this.tasks = tasks;
        this.swms = swms;
        this.reminders = reminders;
        this.issues = issues;
        this.backupStaff = backupStaff;
    }
    return PrestartConfiguration;
}());

//# sourceMappingURL=prestart-configuration.model.js.map

/***/ }),

/***/ 566:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SafetyReminderPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__safety_issues_safety_issues__ = __webpack_require__(567);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__safety_reminder_detail_safety_reminder_detail__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_safety_reminder__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__classes_safety_reminder_model__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_shared__ = __webpack_require__(30);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/*
  Safety focus is also known as safety reminder
*/
var SafetyReminderPage = (function () {
    function SafetyReminderPage(navCtrl, navParams, safetyReminderService, loadingCtrl, sharedService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.safetyReminderService = safetyReminderService;
        this.loadingCtrl = loadingCtrl;
        this.sharedService = sharedService;
        this.safetyReminders = new __WEBPACK_IMPORTED_MODULE_5__classes_safety_reminder_model__["b" /* SafetyRemindersModel */]();
        this.allChecked = false;
        this.worker = this.navParams.get('worker');
        this.prestart = this.navParams.get('prestart');
        this.siteId = +this.navParams.get('siteId');
    }
    SafetyReminderPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        console.log('ionViewDidLoad SafetyReminderPage');
        var loading = this.loadingCtrl.create();
        loading.present();
        this.userHelperMode = this.sharedService.userHelperMode;
        var done = function () { return loading.dismiss(); };
        this.safetyReminderService
            .getData(this.worker.id)
            .then(function (sfd) {
            console.log("got the safety reminders data");
            _this.safetyReminders.items = sfd.items;
            if (_this.prestart) {
                _this.safetyReminders.items = _this.safetyReminders.items
                    .filter(function (reminder) { return _this.prestart.reminders.indexOf(reminder.id) >= 0; });
            }
            console.log(_this.safetyReminders);
            if (_this.safetyReminders.items.length === 0) {
                _this.allChecked = true;
            }
        })
            .then(done, done);
    };
    SafetyReminderPage.prototype.gotoSafetyRemniderDetail = function (safetyReminder) {
        console.log("gotoSafetyReminderDetail");
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__safety_reminder_detail_safety_reminder_detail__["a" /* SafetyReminderDetailPage */], { 'worker': this.worker, 'safetyRemnider': safetyReminder });
    };
    SafetyReminderPage.prototype.onSelectItem = function (item) {
        item.selected = !item.selected;
        this.allChecked = this.safetyReminders.items.every(function (i) { return i.selected; });
    };
    SafetyReminderPage.prototype.gotoSafetyIssues = function () {
        console.log("gotoSafetyIssues");
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__safety_issues_safety_issues__["a" /* SafetyIssuesPage */], {
            'worker': this.worker,
            'siteId': this.siteId,
            'prestart': this.prestart,
        });
    };
    SafetyReminderPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'page-safety-reminder',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/safety-reminder/safety-reminder.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Safety Reminders</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="list-big-content">\n  <!--<pre>{{worker | json}}</pre>-->\n  <ion-card *ngIf="userHelperMode && safetyReminders.items.length > 0">\n    <!-- add boolean for help service on -->\n    <ion-card-content>\n      <ion-card-title class="item-title">\n        All Safety Reminders to be checked\n      </ion-card-title>\n      <p>All safety reminders must be read and ticked before continuing.</p>\n      <p class="item-text">\n        Click the image to mark as read.\n      </p>\n    </ion-card-content>\n  </ion-card>\n  <ion-card *ngIf="safetyReminders.items.length === 0">\n    <ion-card-content>\n      <ion-card-title class="item-title">\n        No reminders today\n      </ion-card-title>\n    </ion-card-content>\n  </ion-card>\n  <div class="list-big">\n    <ion-list>\n      <ion-item class="list-item"\n        (click)="onSelectItem(item)"\n        *ngFor="let item of safetyReminders.items">\n        <ion-row no-padding\n          class="content-row">\n          <ion-col no-padding\n            col-1\n            class="item-icon item-icon--center">\n            <ion-icon name="checkmark"\n              [hidden]="!item.selected"></ion-icon>\n          </ion-col>\n          <ion-col no-padding\n            col-3\n            class="item-avatar">\n            <preload-image class="avatar-image"\n              [ratio]="{w:1, h:1}"\n              [src]="item.image"></preload-image>\n          </ion-col>\n          <ion-col no-padding\n            col-7\n            class="item-content">\n            <h3 class="item-title">{{item.name}}</h3>\n            <p class="item-description"\n              rows="3">{{item.description}}</p>\n            <!-- You can change the rows quantity by using rows="X", where X can be any number for example: rows="4" -->\n          </ion-col>\n          <ion-col no-padding\n            col-1\n            class="item-icon"\n            (click)="gotoSafetyReminderDetail(item); $event.stopPropagation()">\n            <ion-icon name="arrow-forward"></ion-icon>\n          </ion-col>\n        </ion-row>\n      </ion-item>\n    </ion-list>\n  </div>\n  <section class="form-section">\n    <button ion-button\n      block\n      class="form-action-button create-post-button"\n      [disabled]="!allChecked"\n      (click)="gotoSafetyIssues()">Next -> Issues</button>\n  </section>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/safety-reminder/safety-reminder.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_4__providers_safety_reminder__["a" /* SafetyReminderService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_6__providers_shared__["a" /* SharedService */]])
    ], SafetyReminderPage);
    return SafetyReminderPage;
}());

//# sourceMappingURL=safety-reminder.js.map

/***/ }),

/***/ 567:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SafetyIssuesPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes_worker_model__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_check_in__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_geolocation__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_issue__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__classes_issue_model__ = __webpack_require__(568);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/*
  Generated class for the SafetyIssues page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var SafetyIssuesPage = (function () {
    function SafetyIssuesPage(navCtrl, navParams, loadingCtrl, safetyIssueService, alertCtrl, geolocation, checkInService, toast) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.safetyIssueService = safetyIssueService;
        this.alertCtrl = alertCtrl;
        this.geolocation = geolocation;
        this.checkInService = checkInService;
        this.toast = toast;
        this.safetyIssues = new __WEBPACK_IMPORTED_MODULE_6__classes_issue_model__["a" /* IssuesModel */]();
        this.issueList = [];
        this.allChecked = false;
        this.signingOn = false;
        this.location = {
            lat: null,
            lon: null
        };
        this.worker = this.navParams.get('worker');
        this.siteId = +this.navParams.get('siteId');
        this.prestart = this.navParams.get('prestart');
    }
    SafetyIssuesPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        console.log('ionViewDidLoad SafetyIssuesPage');
        var loading = this.loadingCtrl.create();
        loading.present();
        var done = function () { return loading.dismiss(); };
        this.safetyIssueService
            .getData()
            .then(function (issues) {
            console.log("got the safter issue data");
            _this.safetyIssues.items = issues.items;
            if (_this.prestart) {
                _this.safetyIssues.items = _this.safetyIssues.items.filter(function (issue) { return _this.prestart.issues.indexOf(issue.id) >= 0; });
            }
            _this.allChecked = _this.safetyIssues.items.every(function (i) { return i.selected; }) || !_this.safetyIssues.items.length;
        })
            .then(done, done);
        this.getGeoLocation();
    };
    SafetyIssuesPage.prototype.clockOn = function () {
        var _this = this;
        if (!this.location) {
            this.location = { lat: null, lon: null };
        }
        this.getGeoLocation();
        if (this.worker.passcode) {
            var alert_1 = this.alertCtrl.create({
                title: this.worker.name,
                inputs: [
                    {
                        name: 'password',
                        placeholder: 'Passcode',
                        type: 'password'
                    }
                ],
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: function (data) {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'Sign On',
                        handler: function (data) {
                            if ((data.password || '').localeCompare(_this.worker.passcode) === 0) {
                                _this.checkIn();
                            }
                            else {
                                _this.notify("Incorrect passcode");
                            }
                        }
                    }
                ]
            });
            alert_1.present();
        }
        else {
            // Logged in as a worker or doesnt have a passcode
            this.checkIn();
        }
    };
    SafetyIssuesPage.prototype.onSelectItem = function (item) {
        item.selected = !item.selected;
        this.allChecked = this.safetyIssues.items.every(function (i) { return i.selected; }) || !this.safetyIssues.items.length;
    };
    SafetyIssuesPage.prototype.notify = function (text, duration) {
        if (duration === void 0) { duration = 3000; }
        var toast = this.toast.create({
            message: text,
            duration: duration,
            position: 'top'
        });
        toast.present();
    };
    SafetyIssuesPage.prototype.updateWorkerClockOn = function () {
        this.worker.clockedOff = false;
        this.worker.clockOff = '';
        this.worker.clockedOn = true;
        this.worker.clockOn = new Date().toTimeString().split(' ')[0];
        this.worker.siteVisits = this.worker.siteVisits || [];
        console.log('Site visits: ', this.worker.siteVisits);
        var visit = new __WEBPACK_IMPORTED_MODULE_1__classes_worker_model__["a" /* SiteVisit */](this.siteId, new Date(), null);
        this.worker.siteVisits.push(visit);
    };
    SafetyIssuesPage.prototype.checkIn = function () {
        var _this = this;
        this.signingOn = true;
        this.updateWorkerClockOn();
        this.checkInService
            .checkIn(this.siteId, this.location.lat, this.location.lon, this.worker.id)
            .subscribe(function (response) {
            _this.signingOn = false;
            console.log(response);
            if (response.success) {
                _this.worker.inLocation = response.in_location;
                // go back to signin page.
                _this.navCtrl.popToRoot();
            }
            else {
                _this.notify(response.message);
            }
        }, function (error) {
            _this.signingOn = false;
            console.error(error);
            _this.notify('Server error on check-in');
            // go back to signin page.
            _this.navCtrl.popToRoot();
        });
    };
    SafetyIssuesPage.prototype.getGeoLocation = function () {
        var _this = this;
        return this.geolocation.getCurrentPosition()
            .then(function (resp) {
            console.log("Location: lat = " + resp.coords.latitude + " long " + resp.coords.longitude);
            _this.location.lat = resp.coords.latitude;
            _this.location.lon = resp.coords.longitude;
        })
            .catch(function (error) {
            console.log('Error getting location', error);
        });
    };
    SafetyIssuesPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["n" /* Component */])({
            selector: 'page-safety-issues',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/safety-issues/safety-issues.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Safety Issues</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="list-mini-content">\n  <div class="list-mini">\n    <ion-item-divider>Read and check off issues</ion-item-divider>\n    <ion-list>\n      <ion-item class="list-item"\n        tappable\n        *ngFor="let item of safetyIssues.items"\n        (click)="onSelectItem(item)">\n        <ion-row no-padding\n          class="content-row">\n          <!-- You can limit the rows of the description by using the class one-line. If you remove it, all the content from the row will be shown -->\n          <!--<ion-col no-padding\n            col-3\n            class="item-avatar">\n            <preload-image class="avatar-image"\n              [ratio]="{w:1, h:1}"\n              [src]="item.image"></preload-image>\n          </ion-col> -->\n          <ion-col no-padding\n            col-10\n            class="item-content">\n            <h3 class="item-title">{{item.name}}</h3>\n            <p class="item-description">{{item.description}}</p>\n          </ion-col>\n          <ion-col no-padding\n            col-2\n            class="item-icon">\n            <ion-icon name="checkmark"\n              [hidden]="!item.selected"></ion-icon>\n          </ion-col>\n        </ion-row>\n      </ion-item>\n    </ion-list>\n  </div>\n\n  <section class="form-section">\n    <button ion-button\n      block\n      class="form-action-button create-post-button"\n      (click)="clockOn()"\n      [disabled]="!allChecked || signingOn">Clock On</button>\n  </section>\n\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/safety-issues/safety-issues.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_5__providers_issue__["a" /* IssueService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_geolocation__["a" /* Geolocation */],
            __WEBPACK_IMPORTED_MODULE_2__providers_check_in__["a" /* CheckInOutService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["n" /* ToastController */]])
    ], SafetyIssuesPage);
    return SafetyIssuesPage;
}());

//# sourceMappingURL=safety-issues.js.map

/***/ }),

/***/ 568:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export IssueModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IssuesModel; });
var IssueModel = (function () {
    function IssueModel() {
    }
    return IssueModel;
}());

var IssuesModel = (function () {
    function IssuesModel() {
        this.items = [];
    }
    return IssuesModel;
}());

//# sourceMappingURL=issue.model.js.map

/***/ }),

/***/ 569:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__equipment_prestart_equipment_prestart__ = __webpack_require__(570);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the equipment page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */
var EquipmentPage = (function () {
    function EquipmentPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.items = [
            { title: 'Prestart', component: __WEBPACK_IMPORTED_MODULE_2__equipment_prestart_equipment_prestart__["a" /* EquipmentPrestartPage */] },
        ];
    }
    // ionViewDidLoad() {
    //   console.log('ionViewDidLoad Workers');
    // }
    EquipmentPage.prototype.itemTapped = function (event, item) {
        this.navCtrl.push(item.component);
    };
    EquipmentPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'page-equipment',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/equipment/equipment.html"*/`<!--\n  Generated template for the Workers page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Equipment</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content class="equipment-content">\n  <ion-list class="equipment-list">\n    <button class="list-item" ion-item *ngFor="let item of items" (click)="itemTapped($event, item)">\n      <ion-row no-padding>\n        <ion-col no-padding class="item-content">\n          <h3 class="item-title">{{item.title}}</h3>\n          <span class="item-note" *ngIf="item.note">{{item.note}}</span>\n        </ion-col>\n        <ion-col no-padding width-10 class="item-icon">\n          <ion-icon name="arrow-forward"></ion-icon>\n        </ion-col>\n      </ion-row>\n    </button>\n  </ion-list>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/equipment/equipment.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */]])
    ], EquipmentPage);
    return EquipmentPage;
}());

//# sourceMappingURL=equipment.js.map

/***/ }),

/***/ 570:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentPrestartPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the EquipmentPrestart page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */
var EquipmentPrestartPage = (function () {
    function EquipmentPrestartPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        // start with today's date
        var today = new Date();
        // datetime picker uses ISO 8601 datetime format
        this.myDate = today.toISOString();
    }
    EquipmentPrestartPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad EquipmentPrestart');
    };
    EquipmentPrestartPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'page-equipment-prestart',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/equipment-prestart/equipment-prestart.html"*/`<!--\n  Generated template for the EquipmentPrestart page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Equipment Prestart</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n  <ion-list no-border>\n    <ion-item>\n    <ion-label>Equipment Type</ion-label>\n      <ion-select [(ngModel)]="equipment">\n        <ion-option value="compressor">Compressor</ion-option>\n        <ion-option value="crane">Crane</ion-option>\n        <ion-option value="ute">Ute</ion-option>\n        <ion-option value="earthMover">Earth Mover</ion-option>\n      </ion-select>\n    </ion-item>\n    <ion-item>\n      <ion-label fixed>Model Number</ion-label>\n      <ion-input type="text" ></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label>Date</ion-label>\n      <ion-datetime displayFormat="MM/DD/YYYY" [(ngModel)]="myDate"></ion-datetime>\n    </ion-item>\n      <ion-list-header>\n        Check Before Starting\n      </ion-list-header>\n\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          All Oil Level\n        </ion-label>\n        <ion-icon name=\'color-fill\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          Belt Condition / Tension\n        </ion-label>\n        <ion-icon name=\'cog\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          All guards in place\n        </ion-label>\n        <ion-icon name=\'body\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          Reciever Drained\n        </ion-label>\n        <ion-icon name=\'flask\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          Regulator Drained\n        </ion-label>\n        <ion-icon name=\'beaker\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          No Loose or Damaged Parts\n        </ion-label>\n        <ion-icon name=\'shuffle\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          Power Leads / Plugs Checked\n        </ion-label>\n        <ion-icon name=\'outlet\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle checked="false"></ion-toggle>\n        <ion-label>\n          Electrical Tagging Current\n        </ion-label>\n        <ion-icon name=\'pricetag\' item-left></ion-icon>\n      </ion-item>\n\n    </ion-list>\n\n\n    <ion-list>\n\n      <ion-list-header>\n        Check After Starting\n      </ion-list-header>\n\n      <ion-item>\n        Pump and Seals\n        <ion-icon name=\'analytics\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        Exhaust Value\n        <ion-icon name=\'color-wand\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-label>\n        Emergency Stop Function\n      </ion-label>\n        <ion-icon name=\'hand\' item-left></ion-icon>\n        <ion-toggle checked="true"></ion-toggle>\n      </ion-item>\n      <ion-item>\n        On/Off Switch Functional\n        <ion-icon name=\'switch\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        Presure Gauges undamaged and Functional\n        <ion-icon name=\'speedometer\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        No unual noises or abnomalities\n        <ion-icon name=\'musical-notes\' item-left></ion-icon>\n      </ion-item>\n      <ion-item>\n        <ion-toggle></ion-toggle>\n        <ion-label>\n          Select All\n        </ion-label>\n        <ion-icon name=\'brush\' item-left></ion-icon>\n      </ion-item>\n    </ion-list>\n\n    <ion-list>\n\n      <ion-list-header>\n        Weekly Checks - due Now!\n      </ion-list-header>\n\n      <ion-item>\n        <ion-icon name=\'thermometer\' item-left></ion-icon>\n        <ion-label>\n          Oil Level and Quality\n        </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n      <ion-item>\n        <ion-icon name=\'flash\' item-left></ion-icon>\n        <ion-label>\n        Air Filter and Seperators\n      </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n      <ion-item>\n        <ion-icon name=\'speedometer\' item-left></ion-icon>\n        <ion-label>\n        Safety Pressure Values and Gauges\n      </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n      <ion-item>\n        <ion-icon name=\'calculator\' item-left></ion-icon>\n        <ion-label>\n        Meter Reading\n      </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n\n    </ion-list>\n    <ion-list>\n      <ion-list-header>\n        6 Monthly Checks - due 2 months\n      </ion-list-header>\n\n      <ion-item>\n        <ion-icon name=\'thermometer\' item-left></ion-icon>\n        <ion-label>\n        Oil Level and Quality\n      </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n      <ion-item>\n        <ion-icon name=\'calculator\' item-left></ion-icon>\n        <ion-label>\n        Meter Reading\n      </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n    </ion-list>\n    <ion-list>\n      <ion-list-header>\n        12 Monthly Checks - due 8 months\n      </ion-list-header>\n\n      <ion-item>\n        <ion-icon name=\'calculator\' item-left></ion-icon>\n        <ion-label>\n        Meter Reading\n      </ion-label>\n        <ion-toggle></ion-toggle>\n      </ion-item>\n    </ion-list>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/equipment-prestart/equipment-prestart.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */]])
    ], EquipmentPrestartPage);
    return EquipmentPrestartPage;
}());

//# sourceMappingURL=equipment-prestart.js.map

/***/ }),

/***/ 571:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FeedPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__profile_profile__ = __webpack_require__(572);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__feed_model__ = __webpack_require__(1014);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__feed_service__ = __webpack_require__(581);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FeedPage = (function () {
    function FeedPage(nav, feedService, navParams, loadingCtrl) {
        this.nav = nav;
        this.feedService = feedService;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.feed = new __WEBPACK_IMPORTED_MODULE_4__feed_model__["a" /* FeedModel */]();
        this.feed.category = navParams.get('category');
        this.loading = this.loadingCtrl.create();
    }
    FeedPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        this.loading.present();
        this.feedService
            .getPosts()
            .then(function (posts) {
            _this.feed.posts = posts;
            _this.loading.dismiss();
        });
    };
    FeedPage.prototype.goToProfile = function (event, item) {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_2__profile_profile__["a" /* ProfilePage */], {
            user: item
        });
    };
    FeedPage.prototype.getRandomInt = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    FeedPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'feed-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/feed/feed.html"*/`<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      <span>{{ feed.category.title }}</span>\n    </ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="feed-content">\n  <div class="feed-item" *ngFor="let post of feed.posts">\n    <ion-card>\n      <preload-image [ratio]="{w:3, h:2}" [src]="post.image" title="post.title"></preload-image>\n      <ion-card-content>\n        <ion-card-title class="item-title">\n          {{post.title}}\n        </ion-card-title>\n        <p class="item-text">\n          {{post.description}}\n        </p>\n      </ion-card-content>\n      <ion-row no-padding class="actions-row">\n        <ion-col no-padding width-30 text-left>\n          <button class="action-button" ion-button clear small icon-left>\n            <ion-icon isActive="{{post.liked}}" name=\'heart\'></ion-icon>\n            {{post.likes}} Likes\n          </button>\n        </ion-col>\n        <ion-col no-padding width-45 text-center>\n          <button class="action-button" ion-button clear small icon-left>\n            <ion-icon name=\'chatbubbles\'></ion-icon>\n            {{post.comments}} Comments\n          </button>\n        </ion-col>\n        <ion-col no-padding width-25 text-right>\n          <button class="action-button" ion-button clear small icon-left>\n            <ion-icon name=\'share-alt\'></ion-icon>\n            Share\n          </button>\n        </ion-col>\n      </ion-row>\n    </ion-card>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/feed/feed.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_5__feed_service__["a" /* FeedService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */]])
    ], FeedPage);
    return FeedPage;
}());

//# sourceMappingURL=feed.js.map

/***/ }),

/***/ 572:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfilePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__followers_followers__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__profile_model__ = __webpack_require__(573);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__settings_settings__ = __webpack_require__(125);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ProfilePage = (function () {
    function ProfilePage(menu, app, navParams, loadingCtrl, auth) {
        this.menu = menu;
        this.app = app;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.auth = auth;
        this.profile = new __WEBPACK_IMPORTED_MODULE_5__profile_model__["a" /* ProfileModel */]();
        this.display = "list";
        this.loading = this.loadingCtrl.create();
    }
    ProfilePage.prototype.ionViewDidLoad = function () {
        this.profile.user = this.auth.user;
        this.profile.following = [];
        this.profile.followers = [];
        this.profile.posts = [];
    };
    ProfilePage.prototype.goToFollowersList = function () {
        // close the menu when clicking a link from the menu
        this.menu.close();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_4__followers_followers__["a" /* FollowersPage */], {
            list: this.profile.followers
        });
    };
    ProfilePage.prototype.goToFollowingList = function () {
        // close the menu when clicking a link from the menu
        this.menu.close();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_4__followers_followers__["a" /* FollowersPage */], {
            list: this.profile.following
        });
    };
    ProfilePage.prototype.goToSettings = function () {
        // close the menu when clicking a link from the menu
        this.menu.close();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_6__settings_settings__["a" /* SettingsPage */]);
    };
    ProfilePage.prototype.onSegmentChanged = function (segmentButton) {
        // console.log('Segment changed to', segmentButton.value);
    };
    ProfilePage.prototype.onSegmentSelected = function (segmentButton) {
        // console.log('Segment selected', segmentButton.value);
    };
    ProfilePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["n" /* Component */])({
            selector: 'profile-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/profile/profile.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Profile</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="profile-content">\n  <div class="user-details">\n    <ion-row class="user-main-data-row">\n      <ion-col no-padding width-33>\n        <preload-image class="user-image" [ratio]="{w:1, h:1}" [src]="profile.user.image" alt="profile.user.name" title="profile.user.name"></preload-image>\n      </ion-col>\n      <ion-col no-padding>\n        <ion-row class="social-presence-row">\n          <ion-col width-50 class="social-presence-item">\n            <a (click)="goToFollowersList()">\n              <h2 class="social-presence-value">{{profile.followers.length}}</h2>\n              <h4 class="social-presence-title">Followers</h4>\n            </a>\n          </ion-col>\n          <ion-col width-50 class="social-presence-item">\n            <a (click)="goToFollowingList()">\n              <h2 class="social-presence-value">{{profile.following.length}}</h2>\n              <h4 class="social-presence-title">Following</h4>\n            </a>\n          </ion-col>\n        </ion-row>\n        <ion-row class="profile-action-row">\n          <ion-col no-padding>\n            <button ion-button block small (click)="goToSettings()">\n              Edit profile\n            </button>\n          </ion-col>\n        </ion-row>\n      </ion-col>\n    </ion-row>\n    <ion-row wrap class="user-bio-row">\n      <ion-col no-padding width-50>\n        <h2 class="user-name">{{profile.user.name}}</h2>\n      </ion-col>\n      <ion-col no-padding width-50>\n        <span class="user-location">{{profile.user.location}}</span>\n      </ion-col>\n      <ion-col no-padding width-100>\n        <p class="user-description">\n          {{profile.user.about}}\n        </p>\n      </ion-col>\n    </ion-row>\n    <ion-segment class="user-content-segment" [(ngModel)]="display" (ionChange)="onSegmentChanged($event)">\n      <ion-segment-button value="grid" (ionSelect)="onSegmentSelected($event)">\n        Grid\n      </ion-segment-button>\n      <ion-segment-button value="list" (ionSelect)="onSegmentSelected($event)">\n        List\n      </ion-segment-button>\n    </ion-segment>\n  </div>\n  <div [ngSwitch]="display" class="user-content">\n    <div *ngSwitchCase="\'list\'" class="list-view">\n      <div class="list-item" *ngFor="let post of profile.posts">\n        <span class="item-date">{{post.date}}</span>\n        <ion-card>\n          <preload-image [ratio]="{w:1, h:1}" [src]="post.image" title=""></preload-image>\n          <ion-card-content>\n            <p class="item-text">\n              {{post.description}}\n            </p>\n          </ion-card-content>\n          <ion-row no-padding class="actions-row">\n            <ion-col no-padding width-30 text-left>\n              <button class="action-button" ion-button clear small color="danger" icon-left>\n                <ion-icon isActive="{{post.liked}}" name=\'heart\'></ion-icon>\n                  {{post.likes}} Likes\n              </button>\n            </ion-col>\n            <ion-col no-padding width-45 text-center>\n              <button class="action-button" ion-button clear small color="danger" icon-left>\n                <ion-icon name=\'chatbubbles\'></ion-icon>\n                  {{post.comments}} Comments\n              </button>\n            </ion-col>\n            <ion-col no-padding width-25 text-right>\n              <button class="action-button" ion-button clear small color="danger" icon-left>\n                <ion-icon name=\'share-alt\'></ion-icon>\n                Share\n              </button>\n            </ion-col>\n          </ion-row>\n        </ion-card>\n      </div>\n    </div>\n    <div *ngSwitchCase="\'grid\'" class="grid-view">\n      <ion-row wrap class="grid-row">\n        <ion-col width-33 class="grid-item" *ngFor="let post of profile.posts">\n          <preload-image [ratio]="{w:1, h:1}" [src]="post.image" title="ion2FullApp"></preload-image>\n        </ion-col>\n      </ion-row>\n    </div>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/profile/profile.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* MenuController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* App */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth__["a" /* AuthService */]])
    ], ProfilePage);
    return ProfilePage;
}());

//# sourceMappingURL=profile.js.map

/***/ }),

/***/ 573:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export UserModel */
/* unused harmony export ProfilePostModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileModel; });
var UserModel = (function () {
    function UserModel() {
    }
    return UserModel;
}());

var ProfilePostModel = (function () {
    function ProfilePostModel() {
        this.likes = 0;
        this.comments = 0;
        this.liked = false;
    }
    return ProfilePostModel;
}());

var ProfileModel = (function () {
    function ProfileModel() {
        this.user = new UserModel();
        this.following = [];
        this.followers = [];
        this.posts = [];
    }
    return ProfileModel;
}());

//# sourceMappingURL=profile.model.js.map

/***/ }),

/***/ 574:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ForgotPasswordPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__tabs_navigation_tabs_navigation__ = __webpack_require__(93);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ForgotPasswordPage = (function () {
    function ForgotPasswordPage(nav, sharedService) {
        this.nav = nav;
        this.sharedService = sharedService;
        this.main_page = { component: __WEBPACK_IMPORTED_MODULE_4__tabs_navigation_tabs_navigation__["a" /* TabsNavigationPage */] };
        this.forgot_password = new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["c" /* FormGroup */]({
            email: new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_0__angular_forms__["i" /* Validators */].required)
        });
    }
    ForgotPasswordPage.prototype.recoverPassword = function () {
        console.log(this.forgot_password.value);
        this.sharedService.onPageLeave.next();
        this.nav.setRoot(this.main_page.component);
    };
    ForgotPasswordPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'forgot-password-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/forgot-password/forgot-password.html"*/`<ion-header class="forgot-password-header auth-header">\n  <ion-navbar>\n    <ion-title>Forgot Password?</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="forgot-password-content auth-content">\n  <h2 class="auth-title">Recover your password</h2>\n  <p class="recover-message">\n    Please enter your email address and we\'ll send you an email to reset your password.\n  </p>\n  <form class="forgot-password-form auth-form" [formGroup]="forgot_password" (ngSubmit)="recoverPassword()">\n    <ion-item>\n      <ion-input type="email" placeholder="Email" formControlName="email"></ion-input>\n    </ion-item>\n    <button ion-button block class="auth-action-button recover-password-button" type="submit" [disabled]="!forgot_password.valid">Reset password</button>\n  </form>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/forgot-password/forgot-password.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_3__providers_shared__["a" /* SharedService */]])
    ], ForgotPasswordPage);
    return ForgotPasswordPage;
}());

//# sourceMappingURL=forgot-password.js.map

/***/ }),

/***/ 575:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PrestartPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_issue__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__classes_issue_model__ = __webpack_require__(568);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__classes_prestart_configuration_model__ = __webpack_require__(565);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_prestart_configuration__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__safety_reminder_detail_safety_reminder_detail__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_safety_reminder__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__classes_safety_reminder_model__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__providers_sites__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__swm_detail_swm_detail__ = __webpack_require__(211);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__swm_list_edit_swm_list_edit__ = __webpack_require__(577);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__providers_swm__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__classes_swm_model__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__providers_task__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__classes_task_model__ = __webpack_require__(578);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



















var PrestartPage = (function () {
    function PrestartPage(nav, auth, alertCtrl, swmService, taskService, safetyReminderService, safetyIssueService, loadingCtrl, sharedService, sitesService, prestartConfigurationService, toast) {
        this.nav = nav;
        this.auth = auth;
        this.alertCtrl = alertCtrl;
        this.swmService = swmService;
        this.taskService = taskService;
        this.safetyReminderService = safetyReminderService;
        this.safetyIssueService = safetyIssueService;
        this.loadingCtrl = loadingCtrl;
        this.sharedService = sharedService;
        this.sitesService = sitesService;
        this.prestartConfigurationService = prestartConfigurationService;
        this.toast = toast;
        this.swmlist = new __WEBPACK_IMPORTED_MODULE_16__classes_swm_model__["a" /* SwmsModel */]();
        this.activeSWMs = new __WEBPACK_IMPORTED_MODULE_16__classes_swm_model__["a" /* SwmsModel */](); // these are determined from the tasks
        this.siteTaskList = new __WEBPACK_IMPORTED_MODULE_18__classes_task_model__["a" /* TasksModel */]();
        this.allTasks = new __WEBPACK_IMPORTED_MODULE_18__classes_task_model__["a" /* TasksModel */]();
        this.requiredSWMids = [];
        this.swmsGenerated = false;
        this.loading = false;
        this.safetyReminders = new __WEBPACK_IMPORTED_MODULE_10__classes_safety_reminder_model__["b" /* SafetyRemindersModel */]();
        this.safetyIssues = new __WEBPACK_IMPORTED_MODULE_5__classes_issue_model__["a" /* IssuesModel */]();
        this.section = "task";
    }
    PrestartPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        console.log("ionViewDidLoad prestart");
        this.loading = true;
        var loader = this.loadingCtrl.create();
        loader.present();
        var op1 = this.swmService
            .getData()
            .then(function (data) { return _this.swmlist.items = data.items; });
        var op2 = this.taskService
            .getData()
            .then(function (data) {
            _this.allTasks.items = data.items;
            _this.updateSiteTasksList();
            _this.swmsGenerated = false;
        });
        var op3 = this.safetyReminderService
            .getData()
            .then(function (sfd) { return _this.safetyReminders.items = sfd.items; });
        var op4 = this.safetyIssueService
            .getData()
            .then(function (issues) { return _this.safetyIssues.items = issues.items; });
        var op5 = this.fetchPrestart();
        var op6 = this.updateSitesList();
        var loaded = function () { loader.dismiss(); _this.loading = false; };
        Promise.all([op1, op2, op3, op4, op5, op6]).then(loaded, loaded);
    };
    PrestartPage.prototype.ionViewWillEnter = function () {
        console.log("entering prestart page .... recalc the active swms");
        this.generateActiveSwms();
    };
    PrestartPage.prototype.onSegmentChanged = function (segmentButton) {
        console.log('Segment changed to', segmentButton.value);
    };
    PrestartPage.prototype.onSegmentSelected = function (segmentButton) {
        console.log('Segment selected', segmentButton.value);
    };
    PrestartPage.prototype.gotoSafetyIssueDetail = function (safetyReminder) {
        console.log("gotoSafetyReminderDetail");
        this.nav.push(__WEBPACK_IMPORTED_MODULE_8__safety_reminder_detail_safety_reminder_detail__["a" /* SafetyReminderDetailPage */], { 'worker': null, 'safetyReminder': safetyReminder });
    };
    // Update list of tasks based on selected site
    PrestartPage.prototype.updateSiteTasksList = function () {
        var _this = this;
        if (!this.sharedService.siteId) {
            // Or set it to []]? Need to clarify ...
            this.siteTaskList.items = this.allTasks.items;
            return;
        }
        this.siteTaskList.items = this.allTasks.items
            .filter(function (task) { return !task.sites.length || task.sites.indexOf(_this.sharedService.siteId) >= 0; });
    };
    PrestartPage.prototype.getSiteId = function () {
        return this.sharedService.siteId;
    };
    PrestartPage.prototype.getSiteName = function () {
        if (!this.sharedService.siteId) {
            return '<NOT SELECTED>';
        }
        else {
            return (this.sitesService.byId(this.sharedService.siteId) || { label: 'Unknown' }).label;
        }
    };
    // Generate the active swms from the active tasks
    // Save the updated swm list to the swmService for use elsewhere
    PrestartPage.prototype.generateSwms = function () {
        this.generateSwmsList();
        // got next segment / tab for swms
        this.section = "swm";
    };
    PrestartPage.prototype.generateSwmsList = function () {
        var _this = this;
        console.log("generate swms", this.siteTaskList.items);
        // clear the list first-child
        this.requiredSWMids = [];
        // build an array of all the swm ids required
        this.siteTaskList.items.forEach(function (task) {
            // only if the task is active
            if (task.selected) {
                task.swms.forEach(function (id) {
                    console.log("swm id " + id);
                    if (_this.requiredSWMids.indexOf(id) < 0) {
                        _this.requiredSWMids.push(id);
                    }
                });
            }
        });
        console.log(this.requiredSWMids);
        // save requiredSWMids to swmService to use later to cross reference
        // against each worker to make sure they have done the swm courses
        // required for the day's tasks
        this.swmService.setRequiredSwms(this.requiredSWMids);
        // generate a local list of just the active swms to display
        this.activeSWMs.items = this.swmlist.items.filter(function (swm) {
            console.log("swm " + swm.name + " is " + swm.inuse);
            swm.inuse = false;
            // now see if swm id in the active lists
            if (_this.requiredSWMids.indexOf(swm.id) >= 0) {
                swm.inuse = true;
            }
            return swm.inuse;
        });
        // update the service
        this.swmsGenerated = true;
        this.swmService.updateSwmList(this.swmlist);
    };
    PrestartPage.prototype.generateActiveSwms = function () {
        // just generate a list of active swms
        this.activeSWMs.items = this.swmlist.items.filter(function (swm) { return swm.inuse; });
    };
    // Select site
    PrestartPage.prototype.chooseCategory = function () {
        var _this = this;
        console.log("chooseCategory");
        var alert = this.alertCtrl.create({
            cssClass: 'category-prompt'
        });
        alert.setTitle('Site');
        this.sitesService.sites
            .filter(function (site) { return _this.auth.worker.sitesAllowed.indexOf(site.id) >= 0; })
            .forEach(function (_a, index) {
            var id = _a.id, label = _a.label;
            alert.addInput({
                type: 'radio',
                value: '' + id,
                label: label,
                checked: id === _this.sharedService.siteId
            });
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Confirm',
            handler: function (data) {
                console.log('Checkbox data:', data);
                _this.categories_checkbox_open = false;
                _this.selectSite(+data);
            }
        });
        alert.present().then(function () {
            _this.categories_checkbox_open = true;
        });
    };
    PrestartPage.prototype.swmdetails = function (swmid, swm) {
        console.log("goto swm details for " + swmid, 'SWM is ', swm);
        this.nav.push(__WEBPACK_IMPORTED_MODULE_13__swm_detail_swm_detail__["a" /* SwmDetailPage */], { id: swmid, swm: swm });
    };
    PrestartPage.prototype.onSelectItem = function (item) {
        item.selected = typeof item.selected !== 'undefined' ? !item.selected : true;
    };
    PrestartPage.prototype.editActiveSwms = function () {
        console.log("edit swm list");
        this.nav.push(__WEBPACK_IMPORTED_MODULE_14__swm_list_edit_swm_list_edit__["a" /* SwmListEditPage */]);
    };
    PrestartPage.prototype.isReadyForPrestart = function () {
        return this.swmsGenerated;
    };
    PrestartPage.prototype.isRemindersChecked = function () {
        return this.safetyIssues.items.every(function (i) { return i.selected; });
    };
    PrestartPage.prototype.prestartsComplete = function () {
        var _this = this;
        var prestartConfiguration = new __WEBPACK_IMPORTED_MODULE_6__classes_prestart_configuration_model__["a" /* PrestartConfiguration */](this.sharedService.siteId, this.siteTaskList.items.filter(function (i) { return i.selected; }).map(function (i) { return i.id; }), this.swmlist.items.filter(function (swm) { return swm.inuse; }).map(function (i) { return i.id; }), this.safetyReminders.items.filter(function (i) { return i.selected; }).map(function (i) { return i.id; }), this.safetyIssues.items.filter(function (i) { return i.selected; }).map(function (i) { return i.id; }));
        this.prestartConfigurationService
            .post(prestartConfiguration)
            .then(function () { return _this.prestartConfigurationService.getData(); })
            .then(function () {
            _this.sharedService.siteOpened = true;
            _this.nav.parent.select(1);
        }, function () {
            _this.notify('Server error. Try again later');
        });
    };
    PrestartPage.prototype.refreshSites = function () {
        var _this = this;
        this.loading = true;
        var loader = this.loadingCtrl.create();
        loader.present();
        var done = function () {
            loader.dismiss();
            _this.loading = false;
        };
        this.updateSitesList().then(done, done);
    };
    PrestartPage.prototype.resetReminder = function (reminder) {
        var _this = this;
        var alert = this.alertCtrl.create({
            cssClass: 'category-prompt'
        });
        alert.setTitle('Reset reminder?');
        alert.setMessage("This will re-activate the reminder '" + reminder.name + "' for all workers");
        alert.addButton('No');
        alert.addButton({
            text: 'Yes',
            handler: function () {
                var loader = _this.loadingCtrl.create();
                loader.present();
                var done = function () { return loader.dismiss(); };
                _this.safetyReminderService.reset(reminder).then(done, done);
            }
        });
        alert.present().then(function () {
            _this.categories_checkbox_open = true;
        });
    };
    PrestartPage.prototype.selectSite = function (id) {
        this.sharedService.siteId = id;
        var siteName = this.getSiteName();
        // this should be the only place the site is set so we can save the name
        // to use on other pages instead of calculating it again.
        this.sharedService.siteName = siteName;
        this.applyPrestartForSite(id);
        this.updateSiteTasksList();
    };
    PrestartPage.prototype.fetchPrestart = function () {
        return this.prestartConfigurationService.getData();
    };
    PrestartPage.prototype.applyPrestartForSite = function (siteId) {
        var conf = this.prestartConfigurationService.getBySiteId(siteId);
        this.sharedService.siteOpened = !!conf;
        // Choose previously selected tasks
        var enabledTasks = conf ? conf.tasks : [];
        this.siteTaskList.items.forEach(function (i) { return i.selected = enabledTasks.indexOf(i.id) >= 0; });
        // Choose previously selected reminders, select all if not specified
        var enabledReminders = conf ? conf.reminders : this.safetyReminders.items.map(function (i) { return i.id; });
        this.safetyReminders.items.forEach(function (i) { return i.selected = enabledReminders.indexOf(i.id) >= 0; });
        // Choose previously selected issues
        var enabledIssues = conf ? conf.issues : this.safetyIssues.items.map(function (i) { return i.id; });
        this.safetyIssues.items.forEach(function (i) { return i.selected = enabledIssues.indexOf(i.id) >= 0; });
        //
        // Choose previously selected swms
        var enabledSwms = conf ? conf.swms : [];
        if (conf) {
            this.generateSwmsList();
            this.swmlist.items.forEach(function (i) { return i.inuse = enabledSwms.indexOf(i.id) >= 0; });
        }
        else {
            this.swmlist.items.forEach(function (i) { return i.inuse = false; });
            this.activeSWMs.items = [];
        }
    };
    PrestartPage.prototype.updateSitesList = function () {
        var _this = this;
        return this.sitesService
            .getData()
            .then(function (sites) {
            if (sites.length === 1) {
                _this.selectSite(sites[0].id);
            }
        });
    };
    PrestartPage.prototype.notify = function (text, duration) {
        if (duration === void 0) { duration = 3000; }
        var toast = this.toast.create({
            message: text,
            duration: duration,
            position: 'top'
        });
        toast.present();
    };
    PrestartPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["n" /* Component */])({
            selector: 'prestart-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/prestart/prestart.html"*/`<ion-header>\n  <ion-navbar>\n    <button ion-button\n      menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>Prestarts</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="forms-examples-content">\n  <ion-segment class="forms-examples-segment"\n    [(ngModel)]="section"\n    (ionChange)="onSegmentChanged($event)">\n    <ion-segment-button value="task"\n      (ionSelect)="onSegmentSelected($event)">\n      Tasks\n    </ion-segment-button>\n    <ion-segment-button value="swm"\n      [disabled]="!swmsGenerated"\n      (ionSelect)="onSegmentSelected($event)">\n      SWMs\n    </ion-segment-button>\n    <ion-segment-button value="reminders"\n      (ionSelect)="onSegmentSelected($event)">\n      Reminders\n    </ion-segment-button>\n    <ion-segment-button value="issues"\n      (ionSelect)="onSegmentSelected($event)">\n      Issues\n    </ion-segment-button>\n  </ion-segment>\n  <div [ngSwitch]="section"\n    class="forms-wrapper">\n    <div *ngSwitchCase="\'task\'"\n      class="post-example-view">\n      <div class="sample-form post-form">\n        <ma-weather maColor="primary"\n          detailsType="page"></ma-weather>\n        <section class="form-section">\n          <ion-item>\n            <ion-icon name="md-build"\n              item-left></ion-icon>\n            {{ auth.name }}\n            <p item-right>supervisor</p>\n          </ion-item>\n        </section>\n        <section class="form-section">\n          <ion-row>\n            <ion-col>\n              <button ion-button\n                block\n                icon-right\n                class="choose-category-button"\n                (click)="chooseCategory()"\n                *ngIf="this.sitesService.sites.length">\n                Choose Site: {{ getSiteName() }}\n                <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n              <h4 padding\n                *ngIf="!this.sitesService.sites.length && !loading">\n                No sites assigned for you. Please refer to your site\'s admin\n              </h4>\n            </ion-col>\n            <ion-col col-auto>\n              <button ion-button\n                icon-only\n                [disabled]="loading"\n                (click)="refreshSites()">\n                <ion-icon name="refresh"></ion-icon>\n              </button>\n            </ion-col>\n          </ion-row>\n        </section>\n        <section *ngIf="getSiteId()">\n          <ion-item-divider>Tasks</ion-item-divider>\n          <div class="sample-form">\n            <ion-list class="sample-form checkbox-tags">\n              <ion-item class="checkbox-tag"\n                *ngFor="let task of siteTaskList.items">\n                <ion-label>{{task.name}}</ion-label>\n                <ion-checkbox [(ngModel)]="task.selected"></ion-checkbox>\n              </ion-item>\n            </ion-list>\n          </div>\n        </section>\n        <section class="form-section"\n          *ngIf="getSiteId()">\n          <button ion-button\n            block\n            class="form-action-button create-post-button"\n            (click)="generateSwms()">Generate SWMs!</button>\n        </section>\n      </div>\n    </div>\n    <div *ngSwitchCase="\'swm\'"\n      class="event-example-view">\n      <div class="sample-form event-form">\n        <section class="form-section">\n          <h2 class="section-title">SWMs Generated from Task List</h2>\n          <div class="list-mini-content">\n            <div class="list-mini">\n              <ion-list>\n                <button class="list-item"\n                  ion-item\n                  *ngFor="let item of activeSWMs.items"\n                  (click)="swmdetails(item.id, item)"\n                  type="button">\n                  <ion-row no-padding\n                    class="content-row one-line">\n                    <!-- You can limit the rows of the description by using the class one-line. If you remove it, all the content from the row will be shown -->\n                    <!--\n                    <ion-col no-padding\n                      width-18\n                      class="item-avatar">\n                      <preload-image class="avatar-image"\n                        [ratio]="{w:1, h:1}"\n                        [src]="item.image"></preload-image>\n                    </ion-col>\n                  -->\n                    <ion-col no-padding\n                      width-90\n                      class="item-content">\n                      <h3 class="item-title">{{item.name}}</h3>\n                      <p class="item-description">{{item.abstract}}</p>\n                    </ion-col>\n                    <ion-col no-padding\n                      width-10\n                      class="item-icon">\n                      <ion-icon name="arrow-forward"></ion-icon>\n                    </ion-col>\n                  </ion-row>\n                </button>\n              </ion-list>\n            </div>\n          </div>\n        </section>\n        <section class="form-section">\n          <button ion-button\n            block\n            class="form-action-button create-event-button"\n            (click)="editActiveSwms()">Edit SWM List!</button>\n        </section>\n      </div>\n    </div>\n    <!-- Safety issues -->\n    <div *ngSwitchCase="\'issues\'"\n      class="card-example-view">\n\n      <div class="list-mini-content">\n        <div class="list-mini">\n          <ion-list>\n            <ion-item class="list-item"\n              ion-item\n              *ngFor="let item of safetyIssues.items"\n              (click)="onSelectItem(item)">\n              <ion-row no-padding\n                class="content-row">\n                <ion-col col-1\n                  class="item-icon item-icon--center">\n                  <!-- <ion-icon name="arrow-forward"></ion-icon> -->\n                  <ion-icon name="checkmark"\n                    [hidden]="!item.selected"></ion-icon>\n                </ion-col>\n                <!--<ion-col no-padding\n                  col-2\n                  class="item-avatar">\n                  <preload-image class="avatar-image"\n                    [ratio]="{w:1, h:1}"\n                    [src]="item.image"></preload-image>\n                </ion-col>\n              -->\n                <ion-col no-padding\n                  col-10\n                  class="item-content">\n                  <h3 class="item-title">{{item.name}}</h3>\n                  <p class="item-description"\n                    rows="3">{{item.description}}</p>\n                  <!-- You can change the rows quantity by using rows="X", where X can be any number for example: rows="4" -->\n                </ion-col>\n                <ion-col no-padding\n                  col-1\n                  class="item-icon  item-icon--center"\n                  (click)="gotoSafetyIssueDetail(item)">\n                  <ion-icon name="arrow-forward"></ion-icon>\n                </ion-col>\n              </ion-row>\n            </ion-item>\n          </ion-list>\n        </div>\n        <section class="form-section">\n          <button ion-button\n            block\n            class="main-action-button create-event-button"\n            [disabled]="!isReadyForPrestart()"\n            (click)="prestartsComplete()">Prestarts Complete</button>\n        </section>\n        <ul *ngIf="!isReadyForPrestart()"\n          class="prestart-hints-list">\n          <li *ngIf="!swmsGenerated">SWMs should be generated</li>\n        </ul>\n      </div>\n    </div>\n    <!-- Safety reminders -->\n    <div *ngSwitchCase="\'reminders\'"\n      class="card-example-view">\n      <div class="list-mini-content">\n        <ion-item-divider>Read and check off reminders</ion-item-divider>\n        <div class="list-mini">\n          <ion-list>\n            <ion-item class="list-item"\n              tappable\n              *ngFor="let item of safetyReminders.items"\n              (click)="onSelectItem(item)">\n              <ion-row no-padding\n                class="content-row">\n                <!-- You can limit the rows of the description by using the class one-line. If you remove it, all the content from the row will be shown -->\n                <!--<ion-col no-padding width-18 class="item-avatar">\n                <preload-image class="avatar-image" [ratio]="{w:1, h:1}" [src]="item.image"></preload-image>\n              </ion-col>-->\n                <ion-col no-padding\n                  col-10\n                  col-sm-11\n                  class="item-content">\n                  <!--\n                  <button ion-button\n                    round\n                    outline\n                    float-right\n                    (click)="resetReminder(item); $event.stopPropagation()">\n                    Reset\n                  </button>\n                -->\n                  <h3 class="item-title">{{item.name}}</h3>\n                  <p class="item-description">{{item.description}}</p>\n                </ion-col>\n                <ion-col no-padding\n                  col-2\n                  col-sm-1\n                  class="item-icon">\n                  <!-- <ion-icon name="arrow-forward"></ion-icon> -->\n                  <ion-icon name="checkmark"\n                    [hidden]="!item.selected"></ion-icon>\n                </ion-col>\n              </ion-row>\n            </ion-item>\n          </ion-list>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/prestart/prestart.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_15__providers_swm__["a" /* SwmService */],
            __WEBPACK_IMPORTED_MODULE_17__providers_task__["a" /* TaskService */],
            __WEBPACK_IMPORTED_MODULE_9__providers_safety_reminder__["a" /* SafetyReminderService */],
            __WEBPACK_IMPORTED_MODULE_4__providers_issue__["a" /* IssueService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_11__providers_shared__["a" /* SharedService */],
            __WEBPACK_IMPORTED_MODULE_12__providers_sites__["a" /* SiteService */],
            __WEBPACK_IMPORTED_MODULE_7__providers_prestart_configuration__["a" /* PrestartConfigurationService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* ToastController */]])
    ], PrestartPage);
    return PrestartPage;
}());

//# sourceMappingURL=prestart.js.map

/***/ }),

/***/ 576:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Site; });
var Site = (function () {
    function Site(id, label, open, openAt, dayStart, dayEnd) {
        this.id = id;
        this.label = label;
        this.open = open;
        this.openAt = openAt;
        this.dayStart = dayStart;
        this.dayEnd = dayEnd;
    }
    return Site;
}());

//# sourceMappingURL=site.model.js.map

/***/ }),

/***/ 577:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SwmListEditPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_swm__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_swm_model__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the SwmListEdit page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
/*
  Let's assume that we can only get to this page from the prestart page.
  We can therefore assume that the swm service will be already populated
  and correct.
*/
var SwmListEditPage = (function () {
    //public allChecked: boolean = false;
    function SwmListEditPage(navCtrl, navParams, swmService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.swmService = swmService;
        this.swmlist = new __WEBPACK_IMPORTED_MODULE_3__classes_swm_model__["a" /* SwmsModel */]();
        console.log("swm list edit page constructor");
        this.swmlist = this.swmService.getSwmList();
        console.log(this.swmlist.items);
        console.log("how did that go???");
    }
    SwmListEditPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SwmListEditPage');
    };
    SwmListEditPage.prototype.ionViewWillLeave = function () {
        console.log("about to leave swm list edit page ... update services??");
        this.swmService.updateSwmList(this.swmlist);
        // also update the required swm list in the service
        var rqswms = [];
        this.swmlist.items.forEach(function (swm) {
            // only if the task is active
            if (swm.inuse) {
                rqswms.push(swm.id);
            }
        });
        this.swmService.setRequiredSwms(rqswms);
        console.log("just set required swms");
        console.log(rqswms);
    };
    SwmListEditPage.prototype.onSelectItem = function (item) {
        item.inuse = typeof item.inuse !== 'undefined' ? !item.inuse : true;
    };
    SwmListEditPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'page-swm-list-edit',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/swm-list-edit/swm-list-edit.html"*/`<!--\n  Generated template for the SwmListEdit page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n    <ion-title>Edit SWM List</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="list-mini-content">\n  <div class="list-mini">\n    <ion-list>\n        <ion-item class="list-item" tappable *ngFor="let item of swmlist.items" (click)="onSelectItem(item)">\n          <ion-row no-padding class="content-row one-line">\n            <ion-col no-padding col-10 col-sm-11 class="item-content">\n              <h3 class="item-title">{{item.name}}</h3>\n              <p class="item-description">{{item.description}}</p>\n            </ion-col>\n            <ion-col no-padding col-2 col-sm-1 class="item-icon">\n              <ion-icon name="checkmark" [hidden]="!item.inuse"></ion-icon>\n            </ion-col>\n          </ion-row>\n        </ion-item>\n    </ion-list>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/swm-list-edit/swm-list-edit.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */], __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_2__providers_swm__["a" /* SwmService */]])
    ], SwmListEditPage);
    return SwmListEditPage;
}());

//# sourceMappingURL=swm-list-edit.js.map

/***/ }),

/***/ 578:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export TaskModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TasksModel; });
var TaskModel = (function () {
    function TaskModel() {
        this.swms = [];
        this.sites = [];
    }
    return TaskModel;
}());

var TasksModel = (function () {
    function TasksModel() {
        this.items = [];
    }
    return TasksModel;
}());

//# sourceMappingURL=task.model.js.map

/***/ }),

/***/ 579:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SignupPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__privacy_policy_privacy_policy__ = __webpack_require__(216);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__tabs_navigation_tabs_navigation__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__terms_of_service_terms_of_service__ = __webpack_require__(217);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SignupPage = (function () {
    function SignupPage(nav, modal, sharedService) {
        this.nav = nav;
        this.modal = modal;
        this.sharedService = sharedService;
        this.main_page = { component: __WEBPACK_IMPORTED_MODULE_5__tabs_navigation_tabs_navigation__["a" /* TabsNavigationPage */] };
        this.signup = new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["c" /* FormGroup */]({
            email: new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["b" /* FormControl */]('', __WEBPACK_IMPORTED_MODULE_0__angular_forms__["i" /* Validators */].required),
            password: new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["b" /* FormControl */]('test', __WEBPACK_IMPORTED_MODULE_0__angular_forms__["i" /* Validators */].required),
            confirm_password: new __WEBPACK_IMPORTED_MODULE_0__angular_forms__["b" /* FormControl */]('test', __WEBPACK_IMPORTED_MODULE_0__angular_forms__["i" /* Validators */].required)
        });
    }
    SignupPage.prototype.doSignup = function () {
        console.log(this.signup.value);
        this.sharedService.onPageLeave.next();
        this.nav.setRoot(this.main_page.component);
    };
    SignupPage.prototype.doFacebookSignup = function () {
        this.sharedService.onPageLeave.next();
        this.nav.setRoot(this.main_page.component);
    };
    SignupPage.prototype.doGoogleSignup = function () {
        this.sharedService.onPageLeave.next();
        this.nav.setRoot(this.main_page.component);
    };
    SignupPage.prototype.showTermsModal = function () {
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__terms_of_service_terms_of_service__["a" /* TermsOfServicePage */]);
        modal.present();
    };
    SignupPage.prototype.showPrivacyModal = function () {
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_3__privacy_policy_privacy_policy__["a" /* PrivacyPolicyPage */]);
        modal.present();
    };
    SignupPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["n" /* Component */])({
            selector: 'signup-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/signup/signup.html"*/`<ion-header class="signup-header auth-header">\n  <ion-navbar>\n    <ion-title>Sign up</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="signup-content auth-content">\n  <h2 class="auth-title">Create an account</h2>\n  <form class="signup-form auth-form" [formGroup]="signup" (ngSubmit)="doSignup()">\n    <ion-item>\n      <ion-input type="email" placeholder="Email" formControlName="email"></ion-input>\n    </ion-item>\n    <show-hide-container>\n      <ion-item>\n        <ion-input type="password" placeholder="Password" formControlName="password" show-hide-input></ion-input>\n      </ion-item>\n    </show-hide-container>\n    <show-hide-container>\n      <ion-item>\n        <ion-input type="password" placeholder="Confirm password" formControlName="confirm_password" show-hide-input></ion-input>\n      </ion-item>\n    </show-hide-container>\n    <button ion-button block class="auth-action-button signup-button" type="submit" [disabled]="!signup.valid">Sign up</button>\n  </form>\n  <p class="auth-divider">\n    Or\n  </p>\n  <button ion-button block class="facebook-auth-button" (click)="doFacebookSignup()">Sign up with Facebook</button>\n  <button ion-button block class="google-auth-button" (click)="doGoogleSignup()">Sign up with Google</button>\n  <p class="legal-stuff">\n    By creating an account you agree to our <a class="legal-action" (click)="showPrivacyModal()">Privacy policy</a> and <a class="legal-action" (click)="showTermsModal()">Terms of use</a>\n  </p>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/signup/signup.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["g" /* ModalController */],
            __WEBPACK_IMPORTED_MODULE_4__providers_shared__["a" /* SharedService */]])
    ], SignupPage);
    return SignupPage;
}());

//# sourceMappingURL=signup.js.map

/***/ }),

/***/ 580:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkerClockonPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_check_in__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_worker__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__followers_followers__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_geolocation__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_prestart_configuration__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__worker_clockon_model__ = __webpack_require__(1013);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__settings_settings__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__providers_sites__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__swm_swm__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__providers_swm__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__classes_swm_model__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__providers_task__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__classes_task_model__ = __webpack_require__(578);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_ionic_angular_components_toast_toast_controller__ = __webpack_require__(172);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



















var WorkerClockonPage = (function () {
    function WorkerClockonPage(menu, app, navParams, taskService, loadingCtrl, checkOutService, geolocation, alertCtrl, nav, swmService, toast, siteService, auth, prestartConfigurationService) {
        this.menu = menu;
        this.app = app;
        this.navParams = navParams;
        this.taskService = taskService;
        this.loadingCtrl = loadingCtrl;
        this.checkOutService = checkOutService;
        this.geolocation = geolocation;
        this.alertCtrl = alertCtrl;
        this.nav = nav;
        this.swmService = swmService;
        this.toast = toast;
        this.siteService = siteService;
        this.auth = auth;
        this.prestartConfigurationService = prestartConfigurationService;
        this.defaultPersonImage = __WEBPACK_IMPORTED_MODULE_6__providers_worker__["a" /* DEFAULT_PERSON */];
        this.profile = new __WEBPACK_IMPORTED_MODULE_10__worker_clockon_model__["a" /* ProfileModel */]();
        this.loading = false;
        this.siteTaskList = new __WEBPACK_IMPORTED_MODULE_17__classes_task_model__["a" /* TasksModel */]();
        this.allTasks = new __WEBPACK_IMPORTED_MODULE_17__classes_task_model__["a" /* TasksModel */]();
        this.swmlist = new __WEBPACK_IMPORTED_MODULE_15__classes_swm_model__["a" /* SwmsModel */]();
        this.activeSWMs = new __WEBPACK_IMPORTED_MODULE_15__classes_swm_model__["a" /* SwmsModel */](); // these are determined from the tasks
        this.prestartConfiguration = null;
        this.siteId = 0;
        this.clockedOn = false;
        this.clockedOff = false;
        this.signingOff = false;
        this.requiredSWMids = [];
        this.lunch = false;
        this.location = {
            lat: null,
            lon: null
        };
        this.display = "list";
        this.worker = this.navParams.get('worker');
        console.log('Worker is', this.worker);
    }
    WorkerClockonPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        this.profile.user = this.auth.user;
        this.profile.following = [];
        this.profile.followers = [];
        this.profile.posts = [];
        this.loading = true;
        var loader = this.loadingCtrl.create();
        loader.present();
        var op1 = this.swmService
            .getData()
            .then(function (data) {
            console.log("got swms data in prestart");
            _this.swmlist.items = data.items;
        });
        var op2 = this.taskService
            .getData()
            .then(function (data) {
            console.log("got tasks data in worker-clockon");
            _this.allTasks.items = data.items;
            _this.updateSiteTasksList();
            _this.generateSwms();
        });
        var op3 = this.updateSitesList();
        var loaded = function () { loader.dismiss(); _this.loading = false; };
        Promise.all([op1, op2, op3]).then(loaded, loaded);
        this.getGeoLocation();
    };
    WorkerClockonPage.prototype.refreshSites = function () {
        var _this = this;
        this.loading = true;
        var loader = this.loadingCtrl.create();
        loader.present();
        var done = function () {
            loader.dismiss();
            _this.loading = false;
        };
        this.updateSitesList().then(done, done);
    };
    WorkerClockonPage.prototype.goToFollowersList = function () {
        // close the menu when clicking a link from the menu
        this.menu.close();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_7__followers_followers__["a" /* FollowersPage */], {
            list: this.profile.followers
        });
    };
    WorkerClockonPage.prototype.goToFollowingList = function () {
        // close the menu when clicking a link from the menu
        this.menu.close();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_7__followers_followers__["a" /* FollowersPage */], {
            list: this.profile.following
        });
    };
    WorkerClockonPage.prototype.goToSettings = function () {
        // close the menu when clicking a link from the menu
        this.menu.close();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_11__settings_settings__["a" /* SettingsPage */]);
    };
    WorkerClockonPage.prototype.onSegmentChanged = function (segmentButton) {
        // console.log('Segment changed to', segmentButton.value);
    };
    WorkerClockonPage.prototype.onSegmentSelected = function (segmentButton) {
        // console.log('Segment selected', segmentButton.value);
    };
    WorkerClockonPage.prototype.chooseCategory = function () {
        var _this = this;
        console.log("chooseCategory");
        var alert = this.alertCtrl.create({
            cssClass: 'category-prompt'
        });
        alert.setTitle('Site');
        // Site is allowed if it is allowed list or as a backup
        var isSiteAllowedForWorker = function (site) { return _this.worker.sitesAllowed.indexOf(site.id) >= 0 ||
            _this.prestartConfigurationService.prestarts.find(function (p) { return p.siteId === site.id && p.backupStaff.indexOf(_this.worker.id) >= 0; }); };
        this.siteService.sites
            .filter(function (site) { return isSiteAllowedForWorker; })
            .forEach(function (_a, index) {
            var label = _a.label, id = _a.id, open = _a.open;
            alert.addInput({
                type: 'radio',
                label: label + (open ? '' : ' [NOT OPENED]'),
                value: '' + id,
                checked: id === _this.siteId
            });
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Confirm',
            handler: function (data) {
                console.log('Checkbox data:', data);
                _this.categories_checkbox_open = false;
                _this.selectSite(+data);
            }
        });
        alert.present().then(function () {
            _this.categories_checkbox_open = true;
        });
    };
    // Update list of tasks based on selected site
    WorkerClockonPage.prototype.updateSiteTasksList = function () {
        var _this = this;
        if (!this.siteId) {
            this.siteTaskList.items = [];
            return;
        }
        this.siteTaskList.items = this.allTasks.items
            .filter(function (task) { return _this.prestartConfiguration.tasks.indexOf(task.id) >= 0; });
    };
    WorkerClockonPage.prototype.getSiteName = function () {
        if (!this.siteId) {
            return '<Please select a site>';
        }
        else {
            return (this.siteService.byId(this.siteId) || { label: 'Unknown' }).label;
        }
    };
    WorkerClockonPage.prototype.getSite = function () {
        return this.siteService.byId(this.siteId);
    };
    // Generate the active swms from the active tasks
    // Save the updated swm list to the swmService for use elsewhere
    WorkerClockonPage.prototype.generateSwms = function () {
        var _this = this;
        console.log("generate swms");
        // clear the list first-child
        this.requiredSWMids = [];
        // build an array of all the swm ids required
        this.siteTaskList.items.forEach(function (task) {
            // only if the task is active
            if (task.selected) {
                task.swms.forEach(function (id) {
                    console.log("swm id " + id);
                    if (_this.requiredSWMids.indexOf(id) < 0) {
                        _this.requiredSWMids.push(id);
                    }
                });
            }
        });
        console.log(this.requiredSWMids);
        // save requiredSWMids to swmService to use later to cross reference
        // against each worker to make sure they have done the swm courses
        // required for the day's tasks
        this.swmService.setRequiredSwms(this.requiredSWMids);
        // generate a local list of just the active swms to display
        this.activeSWMs.items = this.swmlist.items.filter(function (swm) {
            console.log("swm " + swm.name + " is " + swm.inuse);
            swm.inuse = false;
            // now see if swm id in the active lists
            if (_this.requiredSWMids.indexOf(swm.id) >= 0) {
                swm.inuse = true;
            }
            return swm.inuse;
        });
        // update the service
        this.swmService.updateSwmList(this.swmlist);
    };
    WorkerClockonPage.prototype.startSignOff = function () {
        var _this = this;
        this.signingOff = true;
        console.log("start the signoff process for " + this.worker.name);
        this.getGeoLocation(); // get fresh location
        if (!this.location) {
            this.location = { lat: null, lon: null };
        }
        this.updateWorkerClockOff();
        this.checkOutService
            .checkOut(this.siteId, this.lunch, this.location.lat, this.location.lon, this.worker.id)
            .subscribe(function (response) {
            _this.signingOff = false;
            if (!response.success) {
                _this.notify(response.message);
            }
        }, function (error) {
            _this.signingOff = false;
            _this.notify('Server error');
            console.error(error);
        });
    };
    WorkerClockonPage.prototype.startSignIn = function () {
        console.log("start the signin process");
        this.generateSwms();
        this.nav.push(__WEBPACK_IMPORTED_MODULE_13__swm_swm__["a" /* SwmPage */], {
            'worker': this.worker,
            siteId: this.siteId,
            'prestart': this.prestartConfiguration
        });
    };
    WorkerClockonPage.prototype.getAllowedSites = function () {
        var _this = this;
        // First, sites, where he checked-in
        var siteFilter = function (site) {
            return _this.worker.siteVisits.find(function (i) {
                return i.id === site.id && i.checkInDate && !i.checkOutDate;
            });
        };
        var checkInSites = this.siteService.sites.filter(siteFilter);
        if (checkInSites.length) {
            return checkInSites;
        }
        // Then, all other sites
        var openedSites = this.siteService.sites.filter(function (site) { return site.open; });
        return openedSites;
    };
    WorkerClockonPage.prototype.notify = function (text) {
        var toast = this.toast.create({
            message: text,
            duration: 3000,
            position: 'top'
        });
        toast.present();
    };
    // Worker has separate clock on and clock off times for each site
    WorkerClockonPage.prototype.updateClokOnOffBySiteVisits = function (visits) {
        var _this = this;
        if (!visits) {
            return;
        }
        var siteVisits = visits.filter(function (i) { return i.id === _this.siteId; });
        this.worker.clockedOff = false;
        this.worker.clockedOn = false;
        this.worker.clockOff = '';
        this.worker.clockOn = '';
        if (siteVisits.length) {
            var siteVisit = siteVisits[siteVisits.length - 1];
            this.worker.clockedOn = !!siteVisit.checkInDate;
            if (this.worker.clockedOn) {
                this.worker.clockOn = __WEBPACK_IMPORTED_MODULE_1_moment__(siteVisit.checkInDate).format('HH:mm:ss');
            }
            this.worker.clockedOff = !!siteVisit.checkOutDate;
            if (this.worker.clockedOff) {
                this.worker.clockOff = __WEBPACK_IMPORTED_MODULE_1_moment__(siteVisit.checkOutDate).format('HH:mm:ss');
            }
        }
    };
    WorkerClockonPage.prototype.updateWorkerClockOff = function () {
        var _this = this;
        this.worker.clockedOff = true;
        this.worker.clockOff = new Date().toTimeString().split(' ')[0];
        this.worker.siteVisits = this.worker.siteVisits || [];
        var visits = this.worker.siteVisits.filter(function (i) { return i.id === _this.siteId; });
        var visit = visits[visits.length - 1];
        visit.checkOutDate = new Date();
    };
    WorkerClockonPage.prototype.selectSite = function (id) {
        var _this = this;
        this.siteId = id;
        var siteIsOpen = this.getSite().open;
        if (siteIsOpen) {
            this.updatePrestartConfiguration()
                .then(function () { return _this.updateSiteTasksList(); })
                .then(function () { return _this.updateClokOnOffBySiteVisits(_this.worker.siteVisits); });
        }
    };
    // If we have only one site, it should be default
    WorkerClockonPage.prototype.selectDefaultSite = function () {
        var siteId = this.getDefaultSite();
        if (siteId) {
            this.selectSite(siteId);
        }
    };
    WorkerClockonPage.prototype.getDefaultSite = function () {
        var allowedSites = this.getAllowedSites();
        return allowedSites.length === 1 ? allowedSites[0].id : 0;
    };
    WorkerClockonPage.prototype.updateSitesList = function () {
        var _this = this;
        return this.siteService
            .getData()
            .then(function () { return _this.selectDefaultSite(); });
    };
    WorkerClockonPage.prototype.updatePrestartConfiguration = function () {
        var _this = this;
        return this.prestartConfigurationService
            .getData()
            .then(function () {
            _this.prestartConfiguration = _this.prestartConfigurationService.getBySiteId(_this.siteId);
            console.log(_this.prestartConfiguration);
        });
    };
    WorkerClockonPage.prototype.getGeoLocation = function () {
        var _this = this;
        this.geolocation.getCurrentPosition().then(function (resp) {
            console.log("Location: lat = " + resp.coords.latitude + " long " + resp.coords.longitude);
            _this.location.lat = resp.coords.latitude;
            _this.location.lon = resp.coords.longitude;
        }).catch(function (error) {
            console.log('Error getting location', error);
        });
    };
    WorkerClockonPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_5__angular_core__["n" /* Component */])({
            selector: 'worker-clockon-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/worker-clockon/worker-clockon.html"*/`<ion-header>\n  <ion-navbar>\n    <button ion-button\n      menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>Clock On</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="profile-content">\n  <div class="user-details">\n    <ion-row class="user-main-data-row">\n      <ion-col no-padding\n        width-33>\n        <preload-image class="user-image"\n          [ratio]="{w:1, h:1}"\n          [src]="profile.user.image || defaultPersonImage"\n          [alt]="profile.user.name"\n          [title]="profile.user.name"></preload-image>\n      </ion-col>\n      <ion-col no-padding>\n        <ion-row class="social-presence-row">\n          <ion-col width-50\n            class="social-presence-item">\n            <a (click)="goToFollowersList()">\n              <h2 class="social-presence-value">{{profile.followers.length}}</h2>\n              <h4 class="social-presence-title">Followers</h4>\n            </a>\n          </ion-col>\n          <ion-col width-50\n            class="social-presence-item">\n            <a (click)="goToFollowingList()">\n              <h2 class="social-presence-value">{{profile.following.length}}</h2>\n              <h4 class="social-presence-title">Following</h4>\n            </a>\n          </ion-col>\n        </ion-row>\n        <ion-row class="profile-action-row">\n          <ion-col no-padding>\n            <button ion-button\n              block\n              small\n              (click)="goToSettings()">\n              Edit profile\n            </button>\n          </ion-col>\n        </ion-row>\n      </ion-col>\n    </ion-row>\n    <ion-row wrap\n      class="user-bio-row">\n      <ion-col no-padding\n        width-50>\n        <h2 class="user-name">{{profile.user.name}}</h2>\n      </ion-col>\n      <ion-col no-padding\n        width-50>\n        <span class="user-location">{{profile.user.location}}</span>\n      </ion-col>\n      <ion-col no-padding\n        width-100>\n        <p class="user-description">\n          {{profile.user.about}}\n        </p>\n      </ion-col>\n    </ion-row>\n    <section class="form-section choose-category-section"\n      align-items-center>\n      <ion-row>\n        <ion-col>\n          <button ion-button\n            block\n            icon-right\n            class="choose-category-button"\n            (click)="chooseCategory()"\n            [disabled]="getAllowedSites().length === 1"\n            *ngIf="siteService.sites.length">\n            {{ getSiteName() }}\n            <ion-icon name="arrow-dropdown"></ion-icon>\n          </button>\n          <h4 padding\n            *ngIf="!siteService.sites.length && !loading">\n            No sites assigned for you. Please refer to your site\'s admin\n          </h4>\n        </ion-col>\n        <ion-col col-auto>\n          <button ion-button\n            icon-only\n            [disabled]="loading"\n            (click)="refreshSites()">\n            <ion-icon name="refresh"></ion-icon>\n          </button>\n        </ion-col>\n      </ion-row>\n    </section>\n    <section *ngIf="getSite() && getSite().open && !!prestartConfiguration">\n      <ion-item-divider>Tasks</ion-item-divider>\n      <div class="sample-form">\n        <ion-list class="sample-form checkbox-tags">\n          <ion-item class="checkbox-tag"\n            *ngFor="let task of siteTaskList.items">\n            <ion-label>{{task.name}}</ion-label>\n          </ion-item>\n        </ion-list>\n        <section class="form-section"\n          *ngIf="!worker.clockedOn && !worker.clockedOff">\n          <button ion-button\n            block\n            class="form-action-button create-post-button"\n            [disabled]="!siteId"\n            (click)="startSignIn()">Clock On</button>\n        </section>\n        <section class="form-section"\n          *ngIf="worker.clockedOn && !worker.clockedOff">\n          <ion-item>\n            <span item-left>Clocked On</span>\n            <span item-right>{{worker.clockOn}}</span>\n          </ion-item>\n          <ion-item>\n            <ion-label>Lunch</ion-label>\n            <ion-checkbox [(ngModel)]="lunch"></ion-checkbox>\n          </ion-item>\n          <button ion-button\n            block\n            class="form-action-button create-post-button"\n            [disabled]="signingOff"\n            (click)="startSignOff()">Clock Off</button>\n        </section>\n        <section class="form-section"\n          *ngIf="worker.clockedOn && worker.clockedOff">\n          <ion-item>\n            <span item-left>Clocked On</span>\n            <span item-right>{{worker.clockOn}}</span>\n          </ion-item>\n          <ion-item>\n            <span item-left>Clocked Off</span>\n            <span item-right>{{worker.clockOff}}</span>\n          </ion-item>\n          <h3>You have clocked off for the day</h3>\n          <button ion-button\n            block\n            class="form-action-button create-post-button"\n            [disabled]="!siteId"\n            (click)="startSignIn()">Clock On</button>\n        </section>\n      </div>\n\n    </section>\n    <section *ngIf="getSite() && !getSite().open"\n      padding>\n      <h4>The prestart has not been completed yet</h4>\n      <p>Contact your site\'s supervisor, and press "refresh" button</p>\n    </section>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/worker-clockon/worker-clockon.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["f" /* MenuController */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["b" /* App */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_16__providers_task__["a" /* TaskService */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_4__providers_check_in__["a" /* CheckInOutService */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_geolocation__["a" /* Geolocation */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_14__providers_swm__["a" /* SwmService */],
            __WEBPACK_IMPORTED_MODULE_18_ionic_angular_components_toast_toast_controller__["a" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_12__providers_sites__["a" /* SiteService */],
            __WEBPACK_IMPORTED_MODULE_3__providers_auth__["a" /* AuthService */],
            __WEBPACK_IMPORTED_MODULE_9__providers_prestart_configuration__["a" /* PrestartConfigurationService */]])
    ], WorkerClockonPage);
    return WorkerClockonPage;
}());

//# sourceMappingURL=worker-clockon.js.map

/***/ }),

/***/ 581:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FeedService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FeedService = (function () {
    function FeedService(http) {
        this.http = http;
    }
    FeedService.prototype.getPosts = function () {
        return this.http.get('./assets/example_data/feed.json')
            .toPromise()
            .then(function (response) { return response.json().feed; })
            .catch(this.handleError);
    };
    FeedService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    FeedService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], FeedService);
    return FeedService;
}());

//# sourceMappingURL=feed.service.js.map

/***/ }),

/***/ 582:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ListingService = (function () {
    function ListingService(http) {
        this.http = http;
    }
    ListingService.prototype.getData = function () {
        return this.http.get('./assets/example_data/listing.json')
            .toPromise()
            .then(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ListingService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    ListingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], ListingService);
    return ListingService;
}());

//# sourceMappingURL=listing.service.js.map

/***/ }),

/***/ 585:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__timesheet_history_timesheet_history__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__timesheet_verify_timesheet_verify__ = __webpack_require__(586);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TimesheetsPage = (function () {
    function TimesheetsPage(nav, sharedService) {
        this.nav = nav;
        this.sharedService = sharedService;
        this.items = [
            { title: 'Verify', component: __WEBPACK_IMPORTED_MODULE_4__timesheet_verify_timesheet_verify__["a" /* TimesheetVerifyPage */], supervisor: true },
            { title: 'History', component: __WEBPACK_IMPORTED_MODULE_3__timesheet_history_timesheet_history__["a" /* TimesheetHistoryPage */] },
        ];
        this.appGlobals = this.sharedService.getLenny();
    }
    TimesheetsPage.prototype.itemTapped = function (event, item) {
        this.nav.push(item.component);
    };
    TimesheetsPage.prototype.showItem = function (p) {
        // console.log("page is " + p.title);
        if (p.hasOwnProperty('supervisor')) {
            // the page supervisor property may be set to false
            if (p.supervisor)
                return this.appGlobals.supervisor;
        }
        // if page has no supervisor property or the page has supervisor prop false
        // then anyone can see it.
        return true;
    };
    TimesheetsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'timesheet-page',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/timesheets/timesheets.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Timesheets</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="timesheet-content">\n  <ion-list class="timesheet-list">\n    <ng-container *ngFor="let item of items">\n      <button class="list-item" ion-item *ngIf="showItem(item)" (click)="itemTapped($event, item)">\n        <ion-row no-padding>\n          <ion-col no-padding class="item-content">\n            <h3 class="item-title">{{item.title}}</h3>\n            <span class="item-note" *ngIf="item.note">{{item.note}}</span>\n          </ion-col>\n          <ion-col no-padding width-10 class="item-icon">\n            <ion-icon name="arrow-forward"></ion-icon>\n          </ion-col>\n        </ion-row>\n      </button>\n    </ng-container>\n  </ion-list>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/timesheets/timesheets.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_shared__["a" /* SharedService */]])
    ], TimesheetsPage);
    return TimesheetsPage;
}());

//# sourceMappingURL=timesheets.js.map

/***/ }),

/***/ 586:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetVerifyPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__new_timesheet_new_timesheet_component__ = __webpack_require__(587);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_timesheet_service__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_worker__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var TimesheetVerifyPage = (function () {
    function TimesheetVerifyPage(workers, navCtrl, navParams, timesheetService, toast, loadingCtrl, auth) {
        this.workers = workers;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.timesheetService = timesheetService;
        this.toast = toast;
        this.loadingCtrl = loadingCtrl;
        this.auth = auth;
        this.dailyTimesheets = [];
        this.dailyTimesheetsForSite = [];
        this.noTimesYet = true;
        this.startDate = (new Date()).toISOString();
        this.lastDate = new Date();
        this.filterValidated = false;
        this.loaded = false;
        this.allowedSites = [];
    }
    TimesheetVerifyPage.prototype.ionViewDidEnter = function () {
        console.log('ionViewDidLoad TimesheetHistory');
        this.lastDate = new Date();
        this.timesheetService.reset();
        if (this.auth.isSupervisor) {
            if (!this.workers.workers.length) {
                this.workers.getData();
            }
        }
        this.fetchNextPage();
    };
    TimesheetVerifyPage.prototype.doInfinite = function (infiniteScroll) {
        this
            .fetchNextPage()
            .then(function () {
            infiniteScroll.complete();
        });
    };
    TimesheetVerifyPage.prototype.onSiteSelected = function (site) {
        if (site) {
            this.siteSelected = site.id;
            this.updateDailyTimesheetsForSite();
        }
    };
    TimesheetVerifyPage.prototype.changeStartDate = function (newDate) {
        this.startDate = newDate;
        var date = new Date(newDate);
        var year = date.getFullYear();
        var month = date.getMonth();
        var day = date.getDate();
        // end of a day
        this.siteSelected = null;
        this.lastDate = new Date(year, month, day, 23, 59, 59);
        this.timesheetService.reset();
        this.fetchNextPage();
    };
    TimesheetVerifyPage.prototype.filterValidatedChanged = function ($event) {
        this.filterValidated = $event;
        this.updateDailyTimesheetsForSite();
    };
    TimesheetVerifyPage.prototype.fetchNextPage = function () {
        var _this = this;
        var loading = this.loadingCtrl.create();
        var nextDate = __WEBPACK_IMPORTED_MODULE_0_moment__(this.lastDate).subtract(7, 'days').toDate();
        loading.present();
        return this.timesheetService
            .fetch({
            'date__gte': nextDate.toISOString(),
            'date__lte': this.lastDate.toISOString()
        })
            .then(function (data) {
            loading.dismiss();
            _this.lastDate = nextDate;
            _this.dailyTimesheets = data;
            _this.updateAllowedSites();
            _this.updateDailyTimesheetsForSite();
        }, function (error) {
            loading.dismiss();
            console.error(error);
            _this.notify('Server error, try again');
        });
    };
    TimesheetVerifyPage.prototype.approve = function () {
        var _this = this;
        var timesheetsToApprove = [];
        this.dailyTimesheetsForSite.forEach(function (d) {
            return timesheetsToApprove.push.apply(timesheetsToApprove, d.timesheets.filter(function (t) { return t.isApprovable && t.approved; }));
        });
        var loading = this.loadingCtrl.create();
        loading.present();
        var approvePromises = Promise.all(timesheetsToApprove.map(function (t) { return _this.timesheetService.approve(t); }));
        return approvePromises.then(function () {
            timesheetsToApprove.forEach(function (t) { return t.isApprovable = false; });
            loading.dismiss();
        }, function () {
            loading.dismiss();
        });
    };
    TimesheetVerifyPage.prototype.addNewTimesheet = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__new_timesheet_new_timesheet_component__["a" /* NewTimesheet */]);
    };
    TimesheetVerifyPage.prototype.isApproveEnabled = function () {
        return this.dailyTimesheets.find(function (d) { return !!d.timesheets.find(function (t) { return t.isApprovable && !!t.approved; }); });
    };
    TimesheetVerifyPage.prototype.notify = function (text) {
        var toast = this.toast.create({
            message: text,
            duration: 3000,
            position: 'top'
        });
        toast.present();
    };
    TimesheetVerifyPage.prototype.updateAllowedSites = function () {
        var result = [];
        this.timesheetService.timesheets.forEach(function (t) {
            if (result.indexOf(t.site) < 0) {
                result.push(t.site);
            }
        });
        if (this.siteSelected === undefined) {
            this.siteSelected = result[0];
        }
        this.allowedSites = result;
    };
    TimesheetVerifyPage.prototype.updateDailyTimesheetsForSite = function () {
        if (this.siteSelected) {
            this.dailyTimesheetsForSite = this.timesheetService.getDailyTimesheetsForSite(this.siteSelected, this.filterValidated);
        }
        else {
            this.dailyTimesheetsForSite = [];
        }
    };
    TimesheetVerifyPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["n" /* Component */])({
            selector: 'page-timesheet-verify',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/timesheet-verify/timesheet-verify.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Verify Timesheet</ion-title>\n    <ion-buttons class="timesheet-verify-toolbar"\n      end>\n      <ion-item>\n        <ion-label>Filter validated</ion-label>\n        <ion-checkbox [ngModel]="filterValidated"\n          (ngModelChange)="filterValidatedChanged($event)"></ion-checkbox>\n      </ion-item>\n      <button ion-button\n        round\n        icon-start\n        padding\n        (click)="addNewTimesheet()">\n        <ion-icon name="ios-add"></ion-icon>\n        Add\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n  <div class="timesheet-verify-filter">\n    <site-select class="timesheet-site-select"\n      [allowed]="allowedSites"\n      [selected]="siteSelected"\n      [loaded]="loaded"\n      (onSelected)="onSiteSelected($event)"></site-select>\n    <div class="timesheet-history-filter__date">\n      <div class="timesheet-history-filter__date-hint">starting</div>\n      <ion-datetime displayFormat="MM/DD/YYYY"\n        [ngModel]="startDate"\n        (ngModelChange)="changeStartDate($event)"></ion-datetime>\n    </div>\n  </div>\n</ion-header>\n\n<ion-content padding>\n  <timesheet class="timesheet-verify-content"\n    [items]="dailyTimesheetsForSite"\n    [workers]="workers.workers"\n    [editable]="true"></timesheet>\n  <div text-center>\n    <button (click)="fetchNextPage()"\n      ion-button\n      round\n      outline>Week more ...</button>\n  </div>\n  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n<ion-footer no-border>\n  <ion-toolbar>\n    <button (click)="approve()"\n      [disabled]="!isApproveEnabled()"\n      ion-button\n      block>Validate</button>\n  </ion-toolbar>\n</ion-footer>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/timesheet-verify/timesheet-verify.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_5__providers_timesheet_service__["a" /* TimesheetService */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth__["a" /* AuthService */]])
    ], TimesheetVerifyPage);
    return TimesheetVerifyPage;
}());

//# sourceMappingURL=timesheet-verify.js.map

/***/ }),

/***/ 587:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewTimesheet; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_timesheet_model__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_sites__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_timesheet_service__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_worker__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var NewTimesheet = (function () {
    function NewTimesheet(viewCtrl, navCtrl, fb, workerService, siteService, timesheetService, loadingCtrl, toast) {
        this.viewCtrl = viewCtrl;
        this.navCtrl = navCtrl;
        this.fb = fb;
        this.workerService = workerService;
        this.siteService = siteService;
        this.timesheetService = timesheetService;
        this.loadingCtrl = loadingCtrl;
        this.toast = toast;
        this.formGroup = this.fb.group({
            jobId: [undefined, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required],
            userId: [undefined, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required],
            checkIn: [undefined, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required],
            checkOut: [undefined, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required],
            state: [0, __WEBPACK_IMPORTED_MODULE_1__angular_forms__["i" /* Validators */].required],
        });
        this.sites = [];
        this.workers = [];
        this.states = Object.keys(__WEBPACK_IMPORTED_MODULE_3__classes_timesheet_model__["d" /* TimesheetStates */]).map(function (key) { return ({ id: +key, label: __WEBPACK_IMPORTED_MODULE_3__classes_timesheet_model__["d" /* TimesheetStates */][key] }); });
    }
    NewTimesheet.prototype.ionViewDidLoad = function () {
        var _this = this;
        var loading = this.loadingCtrl.create();
        loading.present();
        var op1 = this.siteService.getData()
            .then(function () {
            _this.sites = _this.siteService.sites.slice();
            _this.sites.sort(function (a, b) { return (a.label + '').localeCompare(b.label + ''); });
        });
        var op2 = this.workerService.getData()
            .then(function () {
            _this.workers = _this.workerService.workers.slice();
            _this.workers.sort(function (a, b) { return (a.name + '').localeCompare(b.name + ''); });
        });
        Promise.all([op1, op2])
            .catch(function (error) { return console.error(error); })
            .then(function () { return loading.dismiss(); });
    };
    NewTimesheet.prototype.allTimesSet = function () {
        var values = this.formGroup.value;
        return values.checkIn && values.checkOut;
    };
    NewTimesheet.prototype.getDuration = function () {
        var values = this.formGroup.value;
        var startDate = new Date(values.checkIn);
        var endDate = new Date(values.checkOut);
        var diff = __WEBPACK_IMPORTED_MODULE_0_moment__(endDate).diff(__WEBPACK_IMPORTED_MODULE_0_moment__(startDate));
        var d = __WEBPACK_IMPORTED_MODULE_0_moment__["duration"](diff);
        return d.hours() + " hrs " + d.minutes() + " m";
    };
    NewTimesheet.prototype.onCancel = function () {
        this.navCtrl.pop();
    };
    NewTimesheet.prototype.onAddNewTimesheet = function () {
        var _this = this;
        var values = this.formGroup.value;
        var timesheet = new __WEBPACK_IMPORTED_MODULE_3__classes_timesheet_model__["c" /* TimesheetModel */](0, values.userId, values.jobId, new Date(values.checkIn), new Date(values.checkOut), values.state, null, null);
        timesheet.roundedClockOn = timesheet.clockOn;
        timesheet.roundedClockOff = timesheet.clockOff;
        this.timesheetService
            .create(timesheet)
            .then(function () {
            console.log(_this.formGroup.value);
            _this.navCtrl.pop();
        }, function (error) {
            console.error(error);
            _this.notify('Server error');
        });
    };
    NewTimesheet.prototype.notify = function (text) {
        var toast = this.toast.create({
            message: text,
            duration: 3000,
            position: 'top'
        });
        toast.present();
    };
    NewTimesheet = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["n" /* Component */])({
            selector: 'new-timesheet',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/new-timesheet/new-timesheet.component.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>New timesheet</ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <form [formGroup]="formGroup">\n    <div class="wrapper">\n      <ion-item>\n        <ion-label>Site</ion-label>\n        <ion-select formControlName="jobId">\n          <ion-option *ngFor="let site of sites"\n            [value]="site.id">{{ site.label }}</ion-option>\n        </ion-select>\n      </ion-item>\n      <ion-item>\n        <ion-label>Worker</ion-label>\n        <ion-select formControlName="userId">\n          <ion-option *ngFor="let worker of workers"\n            [value]="worker.id">{{ worker.name }}</ion-option>\n        </ion-select>\n      </ion-item>\n      <ion-item>\n        <ion-label>Check-in</ion-label>\n        <ion-datetime displayFormat="MM/DD/YYYY h:mm a"\n          minuteValues="0,5,10,15,20,25,30,35,40,45,50,55"\n          formControlName="checkIn"></ion-datetime>\n      </ion-item>\n      <ion-item>\n        <ion-label>Check-out</ion-label>\n        <ion-datetime displayFormat="MM/DD/YYYY h:mm a"\n          minuteValues="0,5,10,15,20,25,30,35,40,45,50,55"\n          formControlName="checkOut"></ion-datetime>\n      </ion-item>\n      <ion-item *ngIf="allTimesSet()">\n        <ion-label>Duration: {{ getDuration() }}</ion-label>\n      </ion-item>\n      <ion-item>\n        <ion-label>Lunch</ion-label>\n        <ion-select formControlName="state">\n          <ion-option *ngFor="let state of states"\n            [value]="state.id">{{ state.label }}</ion-option>\n        </ion-select>\n      </ion-item>\n    </div>\n  </form>\n</ion-content>\n<ion-footer>\n  <ion-item class="buttons">\n    <button ion-button\n      clear\n      outline\n      (click)="onCancel()">Cancel</button>\n    <button ion-button\n      float-right\n      default\n      [disabled]="!formGroup.valid"\n      (click)="onAddNewTimesheet()">Add</button>\n  </ion-item>\n</ion-footer>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/new-timesheet/new-timesheet.component.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["o" /* ViewController */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1__angular_forms__["a" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_7__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_5__providers_sites__["a" /* SiteService */],
            __WEBPACK_IMPORTED_MODULE_6__providers_timesheet_service__["a" /* TimesheetService */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["n" /* ToastController */]])
    ], NewTimesheet);
    return NewTimesheet;
}());

//# sourceMappingURL=new-timesheet.component.js.map

/***/ }),

/***/ 588:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkersPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_prestart_configuration__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_sites__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_worker__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var WorkersPage = (function () {
    function WorkersPage(navCtrl, navParams, alertCtrl, loadingCtrl, workerService, sitesService, prestartConfigurationService, toast) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.alertCtrl = alertCtrl;
        this.loadingCtrl = loadingCtrl;
        this.workerService = workerService;
        this.sitesService = sitesService;
        this.prestartConfigurationService = prestartConfigurationService;
        this.toast = toast;
        this.siteSelected = null;
        this.sites = [];
        this.allWorkers = [];
        this.filteredWorkers = [];
        this.prestarts = [];
        this.nameFilter = '';
        this.location = {
            lat: null,
            lon: null
        };
    }
    WorkersPage.prototype.ionViewDidLoad = function () {
        this.refresh();
    };
    WorkersPage.prototype.selectSite = function (site) {
        this.siteSelected = site;
    };
    WorkersPage.prototype.trackWorker = function (worker) {
        return worker.id + '-' + worker.siteSelected + '-' + worker.clockOn + '-' + worker.clockOff;
    };
    WorkersPage.prototype.filterWorkersList = function () {
        var _this = this;
        this.filteredWorkers = this.allWorkers.slice();
        if (this.siteSelected && this.siteSelected.id) {
            this.filteredWorkers = this.filteredWorkers.filter(function (w) { return w.sitesAllowed.indexOf(_this.siteSelected.id) >= 0; });
        }
        if (this.nameFilter) {
            var lcNameFilter_1 = this.nameFilter.toLowerCase();
            this.filteredWorkers = this.filteredWorkers.filter(function (w) {
                return (w.name || '').toLowerCase().indexOf(lcNameFilter_1) >= 0;
            });
        }
        var sortByName = function (a, b) { return (a.name || '').localeCompare(b.name); };
        this.filteredWorkers.sort(sortByName);
        return this.filteredWorkers;
    };
    WorkersPage.prototype.refresh = function () {
        var loader = this.loadingCtrl.create();
        loader.present();
        var op1 = this.updateSitesList();
        var op2 = this.fetchWorkersList();
        var op3 = this.fetchPrestartConfiguration();
        var loaded = function () { loader.dismiss(); };
        return Promise.all([op1, op2, op3]).then(loaded, loaded);
    };
    WorkersPage.prototype.isWorkerOnSite = function (worker) {
        return worker.clockedOn && !worker.clockedOff;
    };
    WorkersPage.prototype.isWorkerLeftSite = function (worker) {
        return worker.clockedOn && worker.clockedOff;
    };
    WorkersPage.prototype.workerTapped = function ($event, worker) {
        this.manageBackup(worker);
    };
    WorkersPage.prototype.sitesInfoFor = function (worker) {
        var _this = this;
        var result = '';
        if (worker.sitesAllowed.length) {
            var sitesList = worker.sitesAllowed
                .map(function (siteId) {
                var site = _this.sitesService.byId(siteId);
                return site ? site.label : '<Unknown>';
            })
                .join(', ');
            result = "Sites allowed: " + sitesList + ".";
        }
        var backupSites = this.prestarts
            .filter(function (p) { return p.backupStaff.indexOf(worker.id) >= 0; })
            .map(function (p) {
            var site = _this.sitesService.byId(p.siteId);
            return site ? site.label : '<Unknown>';
        })
            .join(', ');
        if (backupSites) {
            result += "As a backup on sites: " + backupSites;
        }
        return result;
    };
    WorkersPage.prototype.updateSitesList = function () {
        var _this = this;
        return this.sitesService
            .getData()
            .then(function (sites) { return _this.sites = sites; }, function (error) {
            console.error(error);
            _this.notify('Server error');
        });
    };
    WorkersPage.prototype.fetchWorkersList = function () {
        var _this = this;
        return this.workerService
            .getData()
            .then(function (workers) { return _this.allWorkers = workers; }, function (error) {
            console.error(error);
            _this.notify('Server error');
        })
            .then(function () { return _this.filterWorkersList(); });
    };
    WorkersPage.prototype.fetchPrestartConfiguration = function () {
        var _this = this;
        return this.prestartConfigurationService
            .getData()
            .then(function (data) { return _this.prestarts = data; }, function (error) {
            console.error(error);
            _this.notify('Server error');
        });
    };
    WorkersPage.prototype.siteForWorker = function (worker) {
        if (worker.siteSelected) {
            return this.sitesService.byId(worker.siteSelected);
        }
        else {
            return null;
        }
    };
    WorkersPage.prototype.notify = function (text, duration) {
        if (duration === void 0) { duration = 3000; }
        var toast = this.toast.create({
            message: text,
            duration: duration,
            position: 'top'
        });
        toast.present();
    };
    WorkersPage.prototype.manageBackup = function (worker) {
        var _this = this;
        var loader = this.loadingCtrl.create();
        loader.present();
        var loaded = function () { loader.dismiss(); };
        var alert = this.alertCtrl.create({
            cssClass: 'category-prompt'
        });
        alert.setTitle('Add to site');
        this.sitesService.sites.forEach(function (_a, index) {
            var id = _a.id, label = _a.label, open = _a.open;
            alert.addInput({
                type: 'radio',
                value: '' + id,
                label: label + (open ? '' : '[NOT OPEN]'),
                checked: false
            });
        });
        alert.addButton({
            text: 'Cancel',
            handler: loaded
        });
        alert.addButton({
            text: 'Confirm',
            handler: function (data) {
                var siteId = +data;
                _this.prestartConfigurationService
                    .addBackupStaff(siteId, worker.id)
                    .then(function () {
                    _this.refresh();
                    loaded();
                }, function (error) {
                    _this.notify('Server error');
                    loaded();
                });
            }
        });
        alert.present();
    };
    WorkersPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'page-workers',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/workers/workers.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Workers</ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content class="workers-content">\n  <ion-grid>\n    <ion-row>\n      <ion-col col-6>\n        <ion-item>\n          <ion-label color="primary"\n            stacked>Filter by Name</ion-label>\n          <ion-input type="text"\n            placeholder="Name"\n            [ngModel]="nameFilter"\n            (ngModelChange)="nameFilter = $event; filterWorkersList();"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-4>\n        <ion-item>\n          <ion-label color="primary"\n            stacked>Filter by Site</ion-label>\n          <ion-select [ngModel]="siteSelected"\n            (ngModelChange)="siteSelected = $event; filterWorkersList();">\n            <ion-option [value]="{}">Don\'t filter</ion-option>\n            <ion-option *ngFor="let site of sites"\n              [value]="site">{{ site.label }}</ion-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <ion-col col-2>\n        <button ion-button\n          icon-only\n          [disabled]="loading"\n          (click)="refresh()">\n          <ion-icon name="refresh"></ion-icon>\n        </button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <ion-list class="workers-list">\n    <button class="list-item"\n      [class.list-item--on-site]="isWorkerOnSite(worker)"\n      [class.list-item--left-site]="isWorkerLeftSite(worker)"\n      ion-item\n      *ngFor="let worker of filteredWorkers; trackBy: trackWorker"\n      (click)="workerTapped($event, worker)">\n      <ion-row no-padding>\n        <ion-col no-padding\n          class="item-content">\n          <h3 class="item-title">{{ worker.name }}\n            <ion-icon *ngIf="worker.supervisor"\n              name="star"></ion-icon>\n          </h3>\n          <div class="worker-clock-on"\n            *ngIf="isWorkerOnSite(worker)">\n            {{ siteForWorker(worker).label }}: started {{ worker.clockOn }}\n          </div>\n          <div class="worker-clock-off"\n            *ngIf="isWorkerLeftSite(worker)">\n            {{ siteForWorker(worker).label }}: {{ worker.clockOn }} - {{ worker.clockOff }}\n          </div>\n          <div class="worker-info"\n            *ngIf="!isWorkerOnSite(worker) && !isWorkerLeftSite(worker)">\n            {{ sitesInfoFor(worker) }}\n          </div>\n        </ion-col>\n        <ion-col no-padding\n          width-10\n          class="item-icon">\n          <ion-icon name="arrow-forward"></ion-icon>\n        </ion-col>\n      </ion-row>\n    </button>\n  </ion-list>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/workers/workers.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0_ionic_angular__["i" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_4__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_3__providers_sites__["a" /* SiteService */],
            __WEBPACK_IMPORTED_MODULE_2__providers_prestart_configuration__["a" /* PrestartConfigurationService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["n" /* ToastController */]])
    ], WorkersPage);
    return WorkersPage;
}());

//# sourceMappingURL=workers.js.map

/***/ }),

/***/ 589:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NotificationsService = (function () {
    function NotificationsService(http) {
        this.http = http;
    }
    NotificationsService.prototype.getData = function () {
        return this.http.get('./assets/example_data/notifications.json')
            .toPromise()
            .then(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    NotificationsService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    NotificationsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], NotificationsService);
    return NotificationsService;
}());

//# sourceMappingURL=notifications.service.js.map

/***/ }),

/***/ 590:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScheduleService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ScheduleService = (function () {
    function ScheduleService(http) {
        this.http = http;
    }
    ScheduleService.prototype.getData = function () {
        return this.http.get('./assets/example_data/schedule.json')
            .toPromise()
            .then(function (response) { return response.json(); })
            .catch(this.handleError);
    };
    ScheduleService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    ScheduleService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], ScheduleService);
    return ScheduleService;
}());

//# sourceMappingURL=schedule.service.js.map

/***/ }),

/***/ 591:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ShowHideInput; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ShowHideInput = (function () {
    function ShowHideInput(el) {
        this.el = el;
        this.type = 'password';
    }
    ShowHideInput.prototype.changeType = function (type) {
        this.type = type;
        this.el.nativeElement.children[0].type = this.type;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["y" /* HostBinding */])(),
        __metadata("design:type", String)
    ], ShowHideInput.prototype, "type", void 0);
    ShowHideInput = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* Directive */])({
            selector: '[show-hide-input]'
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* ElementRef */]])
    ], ShowHideInput);
    return ShowHideInput;
}());

//# sourceMappingURL=show-hide-input.js.map

/***/ }),

/***/ 592:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetDetailsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_timesheet_service__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_worker__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TimesheetDetailsComponent = (function () {
    function TimesheetDetailsComponent(workers, navParams, service, loadingCtrl, toast, auth) {
        this.workers = workers;
        this.navParams = navParams;
        this.service = service;
        this.loadingCtrl = loadingCtrl;
        this.toast = toast;
        this.auth = auth;
        this.editable = true;
        // Parent timesheet
        this.timesheet = null;
        // History
        this.loaded = false;
        this.workerTimesheet = null;
        this.newTimesheet = null;
        this.prevTimesheets = [];
        this.timesheet = this.navParams.get('timesheet');
        console.log('Timesheet', this.timesheet);
    }
    TimesheetDetailsComponent.prototype.ionViewDidEnter = function () {
        var _this = this;
        this.prefetchWorkers()
            .then(function () { return _this.fetchHistory(); });
    };
    TimesheetDetailsComponent.prototype.addTime = function () {
        var _this = this;
        var loading = this.loadingCtrl.create();
        loading.present();
        return this.service
            .approve(this.newTimesheet)
            .then(function (data) {
            console.log('Approved', data);
            var id = data.id;
            // add approved timeshift to list
            _this.timesheet.id = id;
            _this.newTimesheet.id = id;
            _this.timesheet.roundedClockOn = _this.newTimesheet.roundedClockOn;
            _this.timesheet.roundedClockOff = _this.newTimesheet.roundedClockOff;
            _this.timesheet.state = _this.newTimesheet.state;
            _this.timesheet.approved = _this.newTimesheet.approved;
            _this.prevTimesheets.unshift(_this.service.cloneTimesheet(_this.newTimesheet));
            loading.dismiss();
        }, function (error) {
            loading.dismiss();
            console.error(error);
        });
    };
    TimesheetDetailsComponent.prototype.remove = function () {
        var _this = this;
        this.service
            .remove(this.timesheet)
            .then(function () {
            _this.timesheet.deleted_at = new Date();
        });
    };
    TimesheetDetailsComponent.prototype.getUserName = function (timesheet) {
        if (this.auth.isSupervisor) {
            var worker = this.workers.workers.find(function (w) { return w.id === timesheet.user; });
            return worker.name;
        }
        else {
            return this.auth.name;
        }
    };
    TimesheetDetailsComponent.prototype.fetchHistory = function () {
        var _this = this;
        var loading = this.loadingCtrl.create();
        loading.present();
        return this.service
            .fetchHistory(this.timesheet)
            .then(function (timesheets) {
            if (timesheets.length) {
                _this.workerTimesheet = _this.unroundTimesheet(timesheets.pop());
                _this.prevTimesheets = timesheets
                    .slice()
                    .map(function (t) {
                    t.roundedClockOn = t.clockOn;
                    t.roundedClockOff = t.clockOff;
                    return t;
                });
                if (_this.prevTimesheets.length) {
                    _this.newTimesheet = _this.createNewTimesheet(_this.prevTimesheets[0]);
                }
                else {
                    _this.newTimesheet = _this.createNewTimesheet(_this.workerTimesheet);
                }
                _this.loaded = true;
            }
            else {
                _this.notify('Server error: empty timesheet history');
            }
        }, function (error) {
            console.error(error);
            _this.notify('Server error, try again');
        })
            .then(function () { return loading.dismiss(); });
    };
    TimesheetDetailsComponent.prototype.unroundTimesheet = function (timesheet) {
        timesheet.roundedClockOn = timesheet.clockOn ? new Date(timesheet.clockOn) : null;
        timesheet.roundedClockOff = timesheet.clockOff ? new Date(timesheet.clockOff) : null;
        return timesheet;
    };
    TimesheetDetailsComponent.prototype.createNewTimesheet = function (timesheet) {
        var newTimesheet = this.service.cloneTimesheet(timesheet);
        newTimesheet.isApprovable = true;
        newTimesheet.approved = 1;
        this.service.roundTimesheet(newTimesheet);
        return newTimesheet;
    };
    TimesheetDetailsComponent.prototype.prefetchWorkers = function () {
        if (this.auth.isSupervisor && !this.workers.workers.length) {
            return this.workers.getData();
        }
        else {
            return Promise.resolve([]);
        }
    };
    TimesheetDetailsComponent.prototype.notify = function (text, duration) {
        if (duration === void 0) { duration = 3000; }
        var toast = this.toast.create({
            message: text,
            duration: duration,
            position: 'top'
        });
        toast.present();
    };
    TimesheetDetailsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["n" /* Component */])({
            selector: 'timesheet-details',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/timesheet-details/timesheet-details.component.html"*/`<ion-header>\n  <ion-navbar>\n    <ion-title>Timesheet detail</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="timesheet-details"\n  *ngIf="loaded">\n  <div class="timesheet-details__title"\n    padding>\n    {{ getUserName(timesheet) }}\n  </div>\n  <div class="timesheet-details__group">\n    <div class="timesheet-details__group-title">\n      Worker\'s submission\n    </div>\n    <timesheet-item [timesheet]="workerTimesheet"\n      [workers]="workers.workers"\n      [editable]="false"></timesheet-item>\n  </div>\n  <div class="timesheet-details__group">\n    <div class="timesheet-details__group-title">\n      Add a time\n    </div>\n    <timesheet-item [timesheet]="newTimesheet"\n      [workers]="workers.workers"\n      [editable]="true"></timesheet-item>\n    <div class="timesheet-details__add-time">\n      <button ion-button\n        block\n        (click)="addTime()">Add time</button>\n    </div>\n  </div>\n  <div class="timesheet-details__group">\n    <div class="timesheet-details__group-title">\n      Previous times\n    </div>\n    <timesheet-item [timesheet]="timesheet"\n      [workers]="workers.workers"\n      [editable]="false"\n      *ngFor="let timesheet of prevTimesheets"></timesheet-item>\n  </div>\n  <div padding>\n    <button ion-button\n      color="danger"\n      (click)="remove()"\n      block>Remove timesheet</button>\n  </div>\n</ion-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/timesheet-details/timesheet-details.component.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__providers_worker__["b" /* WorkerService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["j" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_3__providers_timesheet_service__["a" /* TimesheetService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["e" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["n" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_1__providers_auth__["a" /* AuthService */]])
    ], TimesheetDetailsComponent);
    return TimesheetDetailsComponent;
}());

//# sourceMappingURL=timesheet-details.component.js.map

/***/ }),

/***/ 593:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(594);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(598);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 598:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__ = __webpack_require__(635);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_background_image_background_image__ = __webpack_require__(733);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_check_in__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_clock_off_clock_off__ = __webpack_require__(444);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_clock_on_clock_on__ = __webpack_require__(564);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_color_radio_color_radio__ = __webpack_require__(1012);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_counter_input_counter_input__ = __webpack_require__(212);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_equipment_equipment__ = __webpack_require__(569);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_equipment_prestart_equipment_prestart__ = __webpack_require__(570);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pages_feed_feed__ = __webpack_require__(571);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_feed_feed_service__ = __webpack_require__(581);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_filters_filters__ = __webpack_require__(1015);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_followers_followers__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_forgot_password_forgot_password__ = __webpack_require__(574);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_form_layout_form_layout__ = __webpack_require__(1016);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__ionic_native_geolocation__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__pages_grid_grid__ = __webpack_require__(1017);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__providers_issue__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_listing_listing__ = __webpack_require__(1018);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_listing_listing_service__ = __webpack_require__(582);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__pages_login_login__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__pages_logout_modal_logout_modal_component__ = __webpack_require__(563);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__app_component__ = __webpack_require__(1020);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pages_new_timesheet_new_timesheet_component__ = __webpack_require__(587);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pages_notifications_notifications__ = __webpack_require__(1021);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__pages_notifications_notifications_service__ = __webpack_require__(589);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__components_preload_image_preload_image__ = __webpack_require__(1023);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__providers_prestart_configuration__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_prestart_prestart__ = __webpack_require__(575);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__pages_privacy_policy_privacy_policy__ = __webpack_require__(216);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__pages_profile_profile__ = __webpack_require__(572);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__components_rating_rating__ = __webpack_require__(1024);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__pages_safety_issues_safety_issues__ = __webpack_require__(567);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__pages_safety_reminder_detail_safety_reminder_detail__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__pages_safety_reminder_safety_reminder__ = __webpack_require__(566);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__providers_safety_reminder__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__pages_schedule_schedule__ = __webpack_require__(1025);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__pages_schedule_schedule_service__ = __webpack_require__(590);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__pages_settings_settings__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__providers_shared__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__components_show_hide_password_show_hide_container__ = __webpack_require__(1027);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__components_show_hide_password_show_hide_input__ = __webpack_require__(591);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__pages_signup_signup__ = __webpack_require__(579);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__components_site_select_site_select_component__ = __webpack_require__(1028);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__providers_sites__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__ionic_native_splash_screen__ = __webpack_require__(583);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__ionic_native_status_bar__ = __webpack_require__(584);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__pages_swm_detail_swm_detail__ = __webpack_require__(211);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__pages_swm_list_edit_swm_list_edit__ = __webpack_require__(577);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__pages_swm_swm__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__providers_swm__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__pages_tabs_navigation_tabs_navigation__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__providers_task__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__pages_terms_of_service_terms_of_service__ = __webpack_require__(217);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__components_timesheet_timesheet_component__ = __webpack_require__(1029);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__pages_timesheet_details_timesheet_details_component__ = __webpack_require__(592);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__pages_timesheet_history_timesheet_history__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__components_timesheet_item_timesheet_item_component__ = __webpack_require__(1030);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__providers_timesheet_service__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__pages_timesheet_verify_timesheet_verify__ = __webpack_require__(586);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__pages_timesheets_timesheets__ = __webpack_require__(585);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pages_worker_clockon_worker_clockon__ = __webpack_require__(580);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__providers_worker__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__pages_workers_workers__ = __webpack_require__(588);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






































































var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["J" /* NgModule */])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__components_background_image_background_image__["a" /* BackgroundImage */],
                __WEBPACK_IMPORTED_MODULE_8__pages_clock_off_clock_off__["a" /* ClockOffPage */],
                __WEBPACK_IMPORTED_MODULE_9__pages_clock_on_clock_on__["a" /* ClockOnPage */],
                __WEBPACK_IMPORTED_MODULE_10__components_color_radio_color_radio__["a" /* ColorRadio */],
                __WEBPACK_IMPORTED_MODULE_11__components_counter_input_counter_input__["a" /* CounterInput */],
                __WEBPACK_IMPORTED_MODULE_12__pages_equipment_equipment__["a" /* EquipmentPage */],
                __WEBPACK_IMPORTED_MODULE_13__pages_equipment_prestart_equipment_prestart__["a" /* EquipmentPrestartPage */],
                __WEBPACK_IMPORTED_MODULE_14__pages_feed_feed__["a" /* FeedPage */],
                __WEBPACK_IMPORTED_MODULE_16__pages_filters_filters__["a" /* FiltersPage */],
                __WEBPACK_IMPORTED_MODULE_17__pages_followers_followers__["a" /* FollowersPage */],
                __WEBPACK_IMPORTED_MODULE_18__pages_forgot_password_forgot_password__["a" /* ForgotPasswordPage */],
                __WEBPACK_IMPORTED_MODULE_19__pages_form_layout_form_layout__["a" /* FormLayoutPage */],
                __WEBPACK_IMPORTED_MODULE_21__pages_grid_grid__["a" /* GridPage */],
                __WEBPACK_IMPORTED_MODULE_24__pages_listing_listing__["a" /* ListingPage */],
                __WEBPACK_IMPORTED_MODULE_26__pages_login_login__["a" /* LoginPage */],
                __WEBPACK_IMPORTED_MODULE_27__pages_logout_modal_logout_modal_component__["a" /* LogoutModal */],
                __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__["a" /* MaWeatherContentController */],
                __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__["b" /* MaWeatherController */],
                __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__["c" /* MaWeatherDetailsPage */],
                __WEBPACK_IMPORTED_MODULE_28__app_component__["a" /* MyApp */],
                __WEBPACK_IMPORTED_MODULE_29__pages_new_timesheet_new_timesheet_component__["a" /* NewTimesheet */],
                __WEBPACK_IMPORTED_MODULE_30__pages_notifications_notifications__["a" /* NotificationsPage */],
                __WEBPACK_IMPORTED_MODULE_32__components_preload_image_preload_image__["a" /* PreloadImage */],
                __WEBPACK_IMPORTED_MODULE_34__pages_prestart_prestart__["a" /* PrestartPage */],
                __WEBPACK_IMPORTED_MODULE_35__pages_privacy_policy_privacy_policy__["a" /* PrivacyPolicyPage */],
                __WEBPACK_IMPORTED_MODULE_36__pages_profile_profile__["a" /* ProfilePage */],
                __WEBPACK_IMPORTED_MODULE_37__components_rating_rating__["a" /* Rating */],
                __WEBPACK_IMPORTED_MODULE_38__pages_safety_issues_safety_issues__["a" /* SafetyIssuesPage */],
                __WEBPACK_IMPORTED_MODULE_39__pages_safety_reminder_detail_safety_reminder_detail__["a" /* SafetyReminderDetailPage */],
                __WEBPACK_IMPORTED_MODULE_40__pages_safety_reminder_safety_reminder__["a" /* SafetyReminderPage */],
                __WEBPACK_IMPORTED_MODULE_42__pages_schedule_schedule__["a" /* SchedulePage */],
                __WEBPACK_IMPORTED_MODULE_44__pages_settings_settings__["a" /* SettingsPage */],
                __WEBPACK_IMPORTED_MODULE_46__components_show_hide_password_show_hide_container__["a" /* ShowHideContainer */],
                __WEBPACK_IMPORTED_MODULE_47__components_show_hide_password_show_hide_input__["a" /* ShowHideInput */],
                __WEBPACK_IMPORTED_MODULE_48__pages_signup_signup__["a" /* SignupPage */],
                __WEBPACK_IMPORTED_MODULE_49__components_site_select_site_select_component__["a" /* SiteSelectComponent */],
                __WEBPACK_IMPORTED_MODULE_53__pages_swm_detail_swm_detail__["a" /* SwmDetailPage */],
                __WEBPACK_IMPORTED_MODULE_54__pages_swm_list_edit_swm_list_edit__["a" /* SwmListEditPage */],
                __WEBPACK_IMPORTED_MODULE_55__pages_swm_swm__["a" /* SwmPage */],
                __WEBPACK_IMPORTED_MODULE_57__pages_tabs_navigation_tabs_navigation__["a" /* TabsNavigationPage */],
                __WEBPACK_IMPORTED_MODULE_59__pages_terms_of_service_terms_of_service__["a" /* TermsOfServicePage */],
                __WEBPACK_IMPORTED_MODULE_60__components_timesheet_timesheet_component__["a" /* TimesheetComponent */],
                __WEBPACK_IMPORTED_MODULE_61__pages_timesheet_details_timesheet_details_component__["a" /* TimesheetDetailsComponent */],
                __WEBPACK_IMPORTED_MODULE_62__pages_timesheet_history_timesheet_history__["a" /* TimesheetHistoryPage */],
                __WEBPACK_IMPORTED_MODULE_63__components_timesheet_item_timesheet_item_component__["a" /* TimesheetItemComponent */],
                __WEBPACK_IMPORTED_MODULE_66__pages_timesheets_timesheets__["a" /* TimesheetsPage */],
                __WEBPACK_IMPORTED_MODULE_65__pages_timesheet_verify_timesheet_verify__["a" /* TimesheetVerifyPage */],
                __WEBPACK_IMPORTED_MODULE_67__pages_worker_clockon_worker_clockon__["a" /* WorkerClockonPage */],
                __WEBPACK_IMPORTED_MODULE_69__pages_workers_workers__["a" /* WorkersPage */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_6__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_22__angular_http__["c" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* IonicModule */].forRoot(__WEBPACK_IMPORTED_MODULE_28__app_component__["a" /* MyApp */], {}, {
                    links: []
                })
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["c" /* IonicApp */]],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_8__pages_clock_off_clock_off__["a" /* ClockOffPage */],
                __WEBPACK_IMPORTED_MODULE_9__pages_clock_on_clock_on__["a" /* ClockOnPage */],
                __WEBPACK_IMPORTED_MODULE_12__pages_equipment_equipment__["a" /* EquipmentPage */],
                __WEBPACK_IMPORTED_MODULE_13__pages_equipment_prestart_equipment_prestart__["a" /* EquipmentPrestartPage */],
                __WEBPACK_IMPORTED_MODULE_14__pages_feed_feed__["a" /* FeedPage */],
                __WEBPACK_IMPORTED_MODULE_16__pages_filters_filters__["a" /* FiltersPage */],
                __WEBPACK_IMPORTED_MODULE_17__pages_followers_followers__["a" /* FollowersPage */],
                __WEBPACK_IMPORTED_MODULE_18__pages_forgot_password_forgot_password__["a" /* ForgotPasswordPage */],
                __WEBPACK_IMPORTED_MODULE_19__pages_form_layout_form_layout__["a" /* FormLayoutPage */],
                __WEBPACK_IMPORTED_MODULE_21__pages_grid_grid__["a" /* GridPage */],
                __WEBPACK_IMPORTED_MODULE_24__pages_listing_listing__["a" /* ListingPage */],
                __WEBPACK_IMPORTED_MODULE_26__pages_login_login__["a" /* LoginPage */],
                __WEBPACK_IMPORTED_MODULE_27__pages_logout_modal_logout_modal_component__["a" /* LogoutModal */],
                __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__["a" /* MaWeatherContentController */],
                __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__["b" /* MaWeatherController */],
                __WEBPACK_IMPORTED_MODULE_2__components_ma_weather__["c" /* MaWeatherDetailsPage */],
                __WEBPACK_IMPORTED_MODULE_28__app_component__["a" /* MyApp */],
                __WEBPACK_IMPORTED_MODULE_29__pages_new_timesheet_new_timesheet_component__["a" /* NewTimesheet */],
                __WEBPACK_IMPORTED_MODULE_30__pages_notifications_notifications__["a" /* NotificationsPage */],
                __WEBPACK_IMPORTED_MODULE_34__pages_prestart_prestart__["a" /* PrestartPage */],
                __WEBPACK_IMPORTED_MODULE_35__pages_privacy_policy_privacy_policy__["a" /* PrivacyPolicyPage */],
                __WEBPACK_IMPORTED_MODULE_36__pages_profile_profile__["a" /* ProfilePage */],
                __WEBPACK_IMPORTED_MODULE_38__pages_safety_issues_safety_issues__["a" /* SafetyIssuesPage */],
                __WEBPACK_IMPORTED_MODULE_39__pages_safety_reminder_detail_safety_reminder_detail__["a" /* SafetyReminderDetailPage */],
                __WEBPACK_IMPORTED_MODULE_40__pages_safety_reminder_safety_reminder__["a" /* SafetyReminderPage */],
                __WEBPACK_IMPORTED_MODULE_42__pages_schedule_schedule__["a" /* SchedulePage */],
                __WEBPACK_IMPORTED_MODULE_44__pages_settings_settings__["a" /* SettingsPage */],
                __WEBPACK_IMPORTED_MODULE_48__pages_signup_signup__["a" /* SignupPage */],
                __WEBPACK_IMPORTED_MODULE_53__pages_swm_detail_swm_detail__["a" /* SwmDetailPage */],
                __WEBPACK_IMPORTED_MODULE_54__pages_swm_list_edit_swm_list_edit__["a" /* SwmListEditPage */],
                __WEBPACK_IMPORTED_MODULE_55__pages_swm_swm__["a" /* SwmPage */],
                __WEBPACK_IMPORTED_MODULE_57__pages_tabs_navigation_tabs_navigation__["a" /* TabsNavigationPage */],
                __WEBPACK_IMPORTED_MODULE_59__pages_terms_of_service_terms_of_service__["a" /* TermsOfServicePage */],
                __WEBPACK_IMPORTED_MODULE_61__pages_timesheet_details_timesheet_details_component__["a" /* TimesheetDetailsComponent */],
                __WEBPACK_IMPORTED_MODULE_62__pages_timesheet_history_timesheet_history__["a" /* TimesheetHistoryPage */],
                __WEBPACK_IMPORTED_MODULE_66__pages_timesheets_timesheets__["a" /* TimesheetsPage */],
                __WEBPACK_IMPORTED_MODULE_65__pages_timesheet_verify_timesheet_verify__["a" /* TimesheetVerifyPage */],
                __WEBPACK_IMPORTED_MODULE_67__pages_worker_clockon_worker_clockon__["a" /* WorkerClockonPage */],
                __WEBPACK_IMPORTED_MODULE_69__pages_workers_workers__["a" /* WorkersPage */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__providers_api__["a" /* ApiService */],
                __WEBPACK_IMPORTED_MODULE_4__providers_auth__["a" /* AuthService */],
                __WEBPACK_IMPORTED_MODULE_7__providers_check_in__["a" /* CheckInOutService */],
                __WEBPACK_IMPORTED_MODULE_15__pages_feed_feed_service__["a" /* FeedService */],
                __WEBPACK_IMPORTED_MODULE_20__ionic_native_geolocation__["a" /* Geolocation */],
                __WEBPACK_IMPORTED_MODULE_23__providers_issue__["a" /* IssueService */],
                __WEBPACK_IMPORTED_MODULE_25__pages_listing_listing_service__["a" /* ListingService */],
                __WEBPACK_IMPORTED_MODULE_31__pages_notifications_notifications_service__["a" /* NotificationsService */],
                __WEBPACK_IMPORTED_MODULE_33__providers_prestart_configuration__["a" /* PrestartConfigurationService */],
                __WEBPACK_IMPORTED_MODULE_41__providers_safety_reminder__["a" /* SafetyReminderService */],
                __WEBPACK_IMPORTED_MODULE_43__pages_schedule_schedule_service__["a" /* ScheduleService */],
                __WEBPACK_IMPORTED_MODULE_45__providers_shared__["a" /* SharedService */],
                __WEBPACK_IMPORTED_MODULE_50__providers_sites__["a" /* SiteService */],
                __WEBPACK_IMPORTED_MODULE_51__ionic_native_splash_screen__["a" /* SplashScreen */],
                __WEBPACK_IMPORTED_MODULE_52__ionic_native_status_bar__["a" /* StatusBar */],
                __WEBPACK_IMPORTED_MODULE_56__providers_swm__["a" /* SwmService */],
                __WEBPACK_IMPORTED_MODULE_58__providers_task__["a" /* TaskService */],
                __WEBPACK_IMPORTED_MODULE_64__providers_timesheet_service__["a" /* TimesheetService */],
                __WEBPACK_IMPORTED_MODULE_68__providers_worker__["b" /* WorkerService */],
            ],
            schemas: [__WEBPACK_IMPORTED_MODULE_0__angular_core__["i" /* CUSTOM_ELEMENTS_SCHEMA */]]
        })
    ], AppModule);
    return AppModule;
}());

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ 62:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SiteService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_site_model__ = __webpack_require__(576);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SiteService = (function () {
    function SiteService(api) {
        this.api = api;
        this._sites = [];
    }
    Object.defineProperty(SiteService.prototype, "sites", {
        get: function () {
            return this._sites;
        },
        enumerable: true,
        configurable: true
    });
    SiteService.prototype.byId = function (id) {
        return this._sites.find(function (v) { return v.id === id; });
    };
    SiteService.prototype.getData = function () {
        var _this = this;
        console.log("getData sites");
        return this.api.get('/v/1/0/sites')
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var sites = _a.sites;
            return (sites.map(function (_a) {
                var id = _a.id, label = _a.label, created_at = _a.created_at, updated_at = _a.updated_at, open = _a.open, open_at = _a.open_at, dayStart = _a.dayStart, dayEnd = _a.dayEnd;
                return new __WEBPACK_IMPORTED_MODULE_3__classes_site_model__["a" /* Site */](id, label, open, open_at ? new Date(open_at) : null, _this.parseTime(dayStart), _this.parseTime(dayEnd));
            }));
        })
            .then(function (sites) {
            // store locally
            _this._sites = sites;
            return sites;
        })
            .catch(this.handleError);
    };
    SiteService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        this._sites = [];
        return Promise.reject(error.message || error);
    };
    SiteService.prototype.parseTime = function (time) {
        // TODO: parse a time. What about a timezone?
        return time ? time : null;
    };
    SiteService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__api__["a" /* ApiService */]])
    ], SiteService);
    return SiteService;
}());

//# sourceMappingURL=sites.js.map

/***/ }),

/***/ 635:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ma_weather__ = __webpack_require__(636);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ma_weather_content__ = __webpack_require__(644);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ma_weather_details__ = __webpack_require__(319);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dark_sky_response_model__ = __webpack_require__(645);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dark_sky_response_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__dark_sky_response_model__);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_1__ma_weather_content__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__ma_weather__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__ma_weather_details__["a"]; });
/* unused harmony reexport DarkSkyResponse */





//# sourceMappingURL=index.js.map

/***/ }),

/***/ 636:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MaWeatherController; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_geolocation__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ma_weather_config__ = __webpack_require__(643);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ma_weather_details__ = __webpack_require__(319);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var MaWeatherController = (function () {
    function MaWeatherController(http, geo, modalCtrl, navCtrl) {
        this.http = http;
        this.geo = geo;
        this.modalCtrl = modalCtrl;
        this.navCtrl = navCtrl;
        this.contentOptions = {};
        this.weatherLoaded = false;
        this.locationLoaded = false;
        this.error = {};
        this.spinnerColor = 'light';
        this.detailsType = 'page'; // 'page' or 'modal'
        this.openDetailsOnClick = true;
        // You can set the params, api keys, urls by passing MaConfigOptions to constructor
        this.config = new __WEBPACK_IMPORTED_MODULE_4__ma_weather_config__["a" /* MaWeatherConfig */]();
    }
    Object.defineProperty(MaWeatherController.prototype, "maColor", {
        set: function (val) {
            this._color = val;
        },
        enumerable: true,
        configurable: true
    });
    MaWeatherController.prototype.ngOnInit = function () {
        this.loadData();
    };
    /**
     * @description This method wraps other methods to gether and can be used to refresh the data.
     */
    MaWeatherController.prototype.loadData = function () {
        var _this = this;
        this.locationLoaded = false;
        this.weatherLoaded = false;
        this.error.status = false;
        this.getUserLocation()
            .then(function (res) {
            var location;
            _this.getAddress(res.coords.latitude, res.coords.longitude)
                .then(function (res) {
                _this.contentOptions.locationName = res;
                location = res;
            });
            _this.loadWeather(res.coords.latitude, res.coords.longitude)
                .then(function (res) {
                var result = res.daily.data[0];
                result.dateName = _this.getReadableDate();
                result.locationName = location;
                result.icon = res.currently.icon;
                result.summary = res.currently.summary;
                _this.contentOptions = result;
                _this.forecast = res;
            });
        });
    };
    /**
     * @description Opens detailed Modal or Page depending on {this.details}
     */
    MaWeatherController.prototype.onClickComponent = function () {
        if (this.weatherLoaded && this.locationLoaded && this.openDetailsOnClick) {
            var options = { forecast: this.forecast, type: this.detailsType, currentWeather: this.contentOptions, color: this._color };
            if (this.detailsType === 'modal') {
                var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_5__ma_weather_details__["a" /* MaWeatherDetailsPage */], options);
                modal.present();
            }
            else if (this.detailsType === 'page') {
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__ma_weather_details__["a" /* MaWeatherDetailsPage */], options);
            }
        }
    };
    /**
     * @description Get user's current location using Cordova Geolocation Plugin
     */
    MaWeatherController.prototype.getUserLocation = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.geo.getCurrentPosition()
                .then(function (res) {
                resolve(res);
            })
                .catch(function (err) {
                _this.handleError('getUserLocation', err);
            });
        });
    };
    /**
     * @description Calls DarkSky API to get weather details for given coordinates
     *
     * @param latitude
     * @param longitude
     */
    MaWeatherController.prototype.loadWeather = function (latitude, longitude) {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.config.darkSkyUrl !== '') {
                var url = "" + _this.config.darkSkyUrl + latitude + "," + longitude + _this.config.darkSkyParams;
                _this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (res) {
                    _this.weatherLoaded = true;
                    resolve(res);
                }, function (err) {
                    _this.handleError('loadWeather', err);
                });
            }
            else {
                _this.config.loadDarkSkyKey().then(function () {
                    _this.loadWeather(latitude, longitude).then(function (result) {
                        resolve(result);
                    });
                });
            }
        });
    };
    /**
     * @description Calls Google Map Geo Reverse API to get Address for given coordinates
     *
     * @param latitude
     * @param longitude
     */
    MaWeatherController.prototype.getAddress = function (latitude, longitude) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.config.googleUrl !== '') {
                var url = _this.config.googleUrl + latitude + ',' + longitude;
                _this.http.get(url).map(function (res) { return res.json(); }).subscribe(function (res) {
                    _this.locationLoaded = true;
                    console.log("google location");
                    console.log(res);
                    //let address  = res.results[0].formatted_address;
                    if (res && res.results && res.results.length) {
                        var address = res.results[0].address_components[2].long_name;
                        resolve(address);
                    }
                    else {
                        _this.handleError('getAddress', res);
                        reject(res);
                    }
                }, function (err) {
                    _this.handleError('getAddress', err);
                });
            }
            else {
                _this.config.loadGoogleKey().then(function () {
                    _this.getAddress(latitude, longitude)
                        .then(function (address) {
                        resolve(address);
                    });
                });
            }
        });
    };
    /**
     * @description Error Handler
     *
     * @param type - type of the error shows in which stage error happened. Based on this we show readable error message;
     * @param err  - error object
     */
    MaWeatherController.prototype.handleError = function (type, err) {
        this.error.status = true;
        this.error.message = this.config.readableMessages(type);
        console.error(err);
    };
    MaWeatherController.prototype.getReadableDate = function () {
        var d = new Date();
        return "Today, " + this.config.monthsName[d.getMonth()] + " " + d.getDay();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], MaWeatherController.prototype, "maColor", null);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String)
    ], MaWeatherController.prototype, "spinnerColor", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String)
    ], MaWeatherController.prototype, "detailsType", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Boolean)
    ], MaWeatherController.prototype, "openDetailsOnClick", void 0);
    MaWeatherController = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'ma-weather',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/ma-weather/ma-weather.html"*/`<ion-card (click)="onClickComponent()" [color]="_color" tappable>\n  <div class="card-half-overlay"></div>\n  <ion-grid>\n    <ma-weather-content *ngIf="weatherLoaded && locationLoaded && !error.status" [options]="contentOptions"></ma-weather-content>\n    <ion-row align-items-center class="loading-container" *ngIf="!weatherLoaded && !locationLoaded && !error.status">\n      <ion-col align-self-center>\n        <ion-spinner name="crescent" [color]="spinnerColor"></ion-spinner>\n        <br>\n        Loading Data\n      </ion-col>\n    </ion-row>\n    <ion-row align-items-center class="error-container" *ngIf="error.status">\n      <ion-col align-self-center>\n        <ion-row><ion-col><ion-icon name="sad"></ion-icon></ion-col></ion-row>\n        <ion-row><ion-col><h2>{{error.message}}</h2></ion-col></ion-row>\n        <ion-row>\n          <ion-col>\n            <button clear ion-button (click)="loadData()" icon-only color="light"><ion-icon name="refresh"></ion-icon></button>\n          </ion-col>\n        </ion-row>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-card>`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/ma-weather/ma-weather.html"*/,
            host: {
                'class': 'ma-weather-container'
            },
            providers: [__WEBPACK_IMPORTED_MODULE_2__ionic_native_geolocation__["a" /* Geolocation */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_geolocation__["a" /* Geolocation */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["g" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* NavController */]])
    ], MaWeatherController);
    return MaWeatherController;
}());

//# sourceMappingURL=ma-weather.js.map

/***/ }),

/***/ 643:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MaWeatherConfig; });
var MaWeatherConfig = (function () {
    function MaWeatherConfig(options) {
        this.monthsName = ['Jan', 'Feb', 'Mar', 'April', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        this._darkSkyUrl = 'https://api.darksky.net/forecast/';
        this._googleUrl = 'https://maps.googleapis.com/maps/api/geocode/json?sensor=true';
        this._readableMessages = {
            getAddress: 'Could not get address of given coordinates',
            loadWeather: 'Could not get weather details for given coordinates',
            getUserLocation: 'Could not get current location, make sure GPS is on'
        };
        this._darkSkyParams = {
            units: 'si',
        };
        for (var option in options) {
            this[option] = options[option];
        }
    }
    Object.defineProperty(MaWeatherConfig.prototype, "darkSkyUrl", {
        get: function () {
            return this._darkSkyKey ? "" + this._darkSkyUrl + this._darkSkyKey + "/" : '';
        },
        set: function (url) {
            this._darkSkyUrl = url;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MaWeatherConfig.prototype, "darkSkyParams", {
        get: function () {
            var query = '?';
            for (var p in this._darkSkyParams) {
                query += (p + "=" + this._darkSkyParams[p] + "&");
            }
            return query;
        },
        set: function (params) {
            this._darkSkyParams = params;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MaWeatherConfig.prototype, "googleUrl", {
        get: function () {
            return this._googleKey ? this._googleUrl + "&api=" + this._googleKey + "&latlng=" : '';
        },
        set: function (url) {
            this._googleUrl = url;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @description This method will be used to get api key for DarkSky from backend
     */
    MaWeatherConfig.prototype.loadDarkSkyKey = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (true) {
                _this._darkSkyKey = 'b8d4e29e8c714707f345fa0385038646';
                resolve();
            }
            else {
                reject();
            }
        });
    };
    /**
     * @description This method will be used to get api key for Google from backend
     */
    MaWeatherConfig.prototype.loadGoogleKey = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (true) {
                _this._googleKey = 'AIzaSyB1TJcPU4zM-ALaLk7XDG05EHiXYT58MPM';
                resolve();
            }
            else {
                reject();
            }
        });
    };
    MaWeatherConfig.prototype.readableMessages = function (key) {
        return this._readableMessages[key];
    };
    return MaWeatherConfig;
}());

//# sourceMappingURL=ma-weather.config.js.map

/***/ }),

/***/ 644:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MaWeatherContentController; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MaWeatherContentController = (function () {
    function MaWeatherContentController() {
        this._options = {};
    }
    Object.defineProperty(MaWeatherContentController.prototype, "options", {
        set: function (val) {
            this._options = val;
        },
        enumerable: true,
        configurable: true
    });
    MaWeatherContentController.prototype.getReadableTime = function (time) {
        if (time) {
            var d = new Date(time * 1000);
            return d.getHours() + ':' + d.getMinutes();
        }
        else {
            return '';
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], MaWeatherContentController.prototype, "options", null);
    MaWeatherContentController = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'ma-weather-content',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/ma-weather/ma-weather-content.html"*/`<ion-row class="title">\n    <ion-col>\n    <h2 bold large>{{_options.locationName}}</h2>\n    <p>{{_options.dateName}}</p>\n    </ion-col>\n</ion-row>\n\n<ion-row align-items-center>\n    <ion-col col col-4 align-self-center class="temperature">\n        <h1>{{_options.apparentTemperatureMax?.toFixed(0)}}</h1>\n        <h2>{{_options.apparentTemperatureMin?.toFixed(0)}}</h2>\n    </ion-col>\n\n    <ion-col col col-4>\n        <ion-row class="weather-icon-container">\n            <ion-col [ngClass]="_options.icon">\n            </ion-col>\n        </ion-row>\n    </ion-col>\n\n    <ion-col col col-4 class="sun-container" align-self-center>\n        <div class="sun sunrise"></div>\n        {{getReadableTime(_options.sunriseTime)}}\n        <br>\n        <br>\n        <div class="sun sunset"></div>\n        <br>\n        {{getReadableTime(_options.sunsetTime)}}\n    </ion-col>\n</ion-row>\n\n<ion-row class="summary">\n    <ion-col>\n        <p>{{_options.summary}}</p>\n    </ion-col>\n</ion-row>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/ma-weather/ma-weather-content.html"*/
        }),
        __metadata("design:paramtypes", [])
    ], MaWeatherContentController);
    return MaWeatherContentController;
}());

//# sourceMappingURL=ma-weather-content.js.map

/***/ }),

/***/ 645:
/***/ (function(module, exports) {

//# sourceMappingURL=dark-sky-response.model.js.map

/***/ }),

/***/ 652:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 67:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return WorkerModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return WorkersModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SiteVisit; });
var WorkerModel = (function () {
    function WorkerModel(data) {
        this.validSwms = []; // passed certification
        this.claimedSwms = []; // claimed for certification
        if (data) {
            Object.assign(this, data);
        }
    }
    WorkerModel.prototype.hasValidSwm = function (site, swm) {
        return !!this.validSwms.find(function (i) { return i.site === site && i.swm === swm; });
    };
    WorkerModel.prototype.hasClaimedSwm = function (site, swm) {
        return !!this.claimedSwms.find(function (i) { return i.site === site && i.swm === swm; });
    };
    return WorkerModel;
}());

var WorkersModel = (function () {
    function WorkersModel() {
        this.items = [];
    }
    return WorkersModel;
}());

var SiteVisit = (function () {
    function SiteVisit(id, checkInDate, checkOutDate) {
        this.id = id;
        this.checkInDate = checkInDate;
        this.checkOutDate = checkOutDate;
    }
    return SiteVisit;
}());

//# sourceMappingURL=worker.model.js.map

/***/ }),

/***/ 68:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SwmService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_swm_model__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SwmService = (function () {
    function SwmService(api) {
        this.api = api;
        // global instance of the swms status - ie active / editied / generated
        this.swmlist = new __WEBPACK_IMPORTED_MODULE_3__classes_swm_model__["a" /* SwmsModel */]();
        console.log('Hello Swm Provider');
    }
    // this gets the data from the server - just the swm definitions .. .therefore
    // are no live status in this data.
    SwmService.prototype.getData = function () {
        console.log("getData swms");
        // original mock './assets/example_data/swm.json'
        return this.api.get('/v/1/0/swms')
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var swms = _a.swms;
            return ({
                items: swms.map(function (_a) {
                    var id = _a.id, name = _a.name, abstract = _a.abstract, fullText = _a.fullText, created_at = _a.created_at, updated_at = _a.updated_at, tasks = _a.tasks;
                    return ({
                        id: id,
                        name: name,
                        abstract: abstract,
                        description: fullText,
                        // Fields that not provided by backend, using stubs for now
                        image: './assets/images/safety-focus/bigstock-Portrait-of-an-industrial-work-41642668.jpg',
                    });
                })
            });
        })
            .catch(this.handleError);
    };
    SwmService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    SwmService.prototype.updateSwmList = function (swmlist) {
        console.log("updated swmlist in service");
        this.swmlist = swmlist;
        console.log(this.swmlist.items);
    };
    SwmService.prototype.getSwmList = function () {
        console.log("get swm list from service");
        return this.swmlist;
    };
    SwmService.prototype.setRequiredSwms = function (requiredSwms) {
        this.requiredSwms = requiredSwms;
        console.log("set required swms in swmService");
        console.log(this.requiredSwms);
    };
    SwmService.prototype.getRequiredSwms = function () {
        return this.requiredSwms;
    };
    SwmService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__api__["a" /* ApiService */]])
    ], SwmService);
    return SwmService;
}());

//# sourceMappingURL=swm.js.map

/***/ }),

/***/ 686:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 687:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 69:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimesheetService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__sites__ = __webpack_require__(62);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var DEFAULT_TIMEZONE = 10;
var TimesheetService = (function () {
    function TimesheetService(api, sites) {
        this.api = api;
        this.sites = sites;
        this.timesheets = [];
        this.dailyTimesheets = [];
    }
    TimesheetService.prototype.getDailyTimesheetsForSite = function (siteId, filterValidated) {
        if (filterValidated === void 0) { filterValidated = false; }
        return this.dailyTimesheets
            .map(function (day) { return new __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["a" /* DailyTimesheet */](day.date, day.dateLabel, day.timesheets.filter(function (t) {
            return t.site === siteId &&
                (!filterValidated || !t.approved);
        })); })
            .filter(function (day) { return !!day.timesheets.length; });
    };
    TimesheetService.prototype.reset = function () {
        this.timesheets = [];
        this.dailyTimesheets = [];
    };
    TimesheetService.prototype.fetch = function (options) {
        var _this = this;
        console.log("getData timesheets");
        return this.api.get('/v/1/0/timesheet', options)
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var timesheets = _a.timesheets;
            return (timesheets.map(function (data) { return _this.parseTimesheet(data); }));
        })
            .then(function (timesheets) {
            timesheets.forEach(function (t) { return t.isApprovable = !t.approved; });
            timesheets.forEach(function (t) { return _this.roundTimesheet(t); });
            timesheets.sort(function (a, b) { return b.clockOn.getTime() - a.clockOn.getTime(); });
            _this.timesheets = (_a = _this.timesheets).concat.apply(_a, timesheets);
            var newDaySheets = _this.splitDailyTimesheets(timesheets);
            _this.dailyTimesheets = (_b = _this.dailyTimesheets).concat.apply(_b, newDaySheets);
            return _this.dailyTimesheets;
            var _a, _b;
        })
            .catch(this.handleError);
    };
    TimesheetService.prototype.cloneTimesheet = function (timesheet) {
        var id = timesheet.id, user = timesheet.user, approved = timesheet.approved, clockOff = timesheet.clockOff, clockOn = timesheet.clockOn, site = timesheet.site, state = timesheet.state, deleted_at = timesheet.deleted_at;
        var clonedTimesheet = new __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["c" /* TimesheetModel */](id, user, site, this.cloneDate(clockOn), this.cloneDate(clockOff), state, approved, deleted_at);
        clonedTimesheet.extendedHours = timesheet.extendedHours;
        clonedTimesheet.isApprovable = timesheet.isApprovable;
        clonedTimesheet.roundedClockOn = this.cloneDate(timesheet.roundedClockOn);
        clonedTimesheet.roundedClockOff = this.cloneDate(timesheet.roundedClockOff);
        return clonedTimesheet;
    };
    TimesheetService.prototype.fetchHistory = function (timesheet) {
        var _this = this;
        console.log("getData timesheets");
        return this.api.get("/v/1/0/timesheet/" + timesheet.id + "/history")
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (_a) {
            var timesheets = _a.timesheets;
            var result = timesheets.map(function (t) { return _this.parseTimesheet(t); });
            return result;
        }, function (error) {
            console.error(error);
            return [];
        });
    };
    TimesheetService.prototype.approve = function (timesheet) {
        var _this = this;
        return this.api
            .post("/v/1/0/timesheet/" + timesheet.id + "/confirm", {
            checkIn: timesheet.roundedClockOn ? timesheet.roundedClockOn.toISOString() : null,
            checkOut: timesheet.roundedClockOff ? timesheet.roundedClockOff.toISOString() : null,
            state: timesheet.state
        })
            .toPromise()
            .then(function (response) { return response.json(); })
            .then(function (data) { return _this.parseTimesheet(data); });
    };
    TimesheetService.prototype.create = function (timesheet) {
        return this.api
            .post("/v/1/0/timesheet", {
            jobId: timesheet.site,
            userId: timesheet.user,
            checkIn: timesheet.roundedClockOn ? timesheet.roundedClockOn.toISOString() : null,
            checkOut: timesheet.roundedClockOff ? timesheet.roundedClockOff.toISOString() : null,
            state: timesheet.state
        })
            .toPromise()
            .then(function (response) { return response.json(); });
    };
    TimesheetService.prototype.remove = function (timesheet) {
        return this.api
            .delete("/v/1/0/timesheet/" + timesheet.id)
            .toPromise();
    };
    TimesheetService.prototype.roundTimesheet = function (timesheet) {
        var site = this.sites.byId(timesheet.site);
        if (!timesheet.isApprovable) {
            // Do not modify allready approved timesheet
            timesheet.roundedClockOn = this.cloneDate(timesheet.clockOn);
            timesheet.roundedClockOff = this.cloneDate(timesheet.clockOff);
        }
        else if (timesheet.extendedHours) {
            // Don't use site hours - just the round to the 5min mark
            timesheet.roundedClockOn = this.roundNext5Min(timesheet.clockOn);
            timesheet.roundedClockOff = this.roundPrev5Min(timesheet.clockOff);
        }
        else {
            var _a = this.getDefaultTimesForSite(site, timesheet.clockOn), openTime = _a.openTime, closeTime = _a.closeTime;
            timesheet.roundedClockOn = this.roundClockOn(timesheet, openTime);
            timesheet.roundedClockOff = this.roundClockOff(timesheet, closeTime);
            // if clock on > clock off, set them equal
            if (timesheet.roundedClockOn &&
                timesheet.roundedClockOff &&
                timesheet.roundedClockOn.getTime() > timesheet.roundedClockOff.getTime()) {
                timesheet.roundedClockOff = timesheet.roundedClockOn;
            }
        }
    };
    TimesheetService.prototype.parseTimesheetWithTimeLogs = function (data) {
        var _this = this;
        var timesheets = [];
        var originalTimesheet = this.parseTimesheet(data);
        console.log('Original timesheet', originalTimesheet);
        var timeLogs = (data.timeLogs || [])
            .map(function (t) { return _this.parseTimeLog(t); });
        timeLogs.reverse();
        console.log('Timelogs:', timeLogs);
        var lastClockOn = null;
        timeLogs.forEach(function (timeLog) {
            if (timeLog.in_or_out === "in") {
                lastClockOn = timeLog.date_time;
            }
            else if (timeLog.in_or_out === "out") {
                var newTimesheet = _this.cloneTimesheet(originalTimesheet);
                newTimesheet.clockOn = lastClockOn;
                newTimesheet.roundedClockOn = lastClockOn;
                newTimesheet.clockOff = timeLog.date_time;
                newTimesheet.roundedClockOff = timeLog.date_time;
                timesheets.push(newTimesheet);
            }
            else {
                console.error('Invalid timelog type');
            }
        });
        console.log(timesheets.slice().map(function (t) { return _this.cloneTimesheet(t); }));
        return timesheets;
    };
    TimesheetService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        return Promise.reject(error.message || error);
    };
    TimesheetService.prototype.splitDailyTimesheets = function (timesheets) {
        var result = [];
        if (!timesheets.length) {
            return [];
        }
        var day = new __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["a" /* DailyTimesheet */](null, '', []);
        var lastDt = '';
        for (var _i = 0, timesheets_1 = timesheets; _i < timesheets_1.length; _i++) {
            var timesheet = timesheets_1[_i];
            var dt = this.formatDateLabel(timesheet);
            if (dt !== lastDt) {
                if (day.timesheets.length) {
                    result.push(day);
                }
                day = new __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["a" /* DailyTimesheet */](timesheet.clockOn, dt, [timesheet]);
            }
            else {
                day.timesheets.push(timesheet);
            }
            lastDt = dt;
        }
        if (day.timesheets.length) {
            result.push(day);
        }
        return result;
    };
    TimesheetService.prototype.formatDateLabel = function (timesheet) {
        return __WEBPACK_IMPORTED_MODULE_1_moment__(timesheet.clockOn).format('dddd (MMM Do YY)');
    };
    TimesheetService.prototype.roundClockOn = function (timesheet, openTime) {
        if (!timesheet.clockOn) {
            return null;
        }
        if (openTime) {
            if (openTime.getTime() > timesheet.clockOn.getTime() && !timesheet.approved) {
                // site is not open yet, and extended hours not enabled
                return new Date(openTime);
            }
            else {
                // site is open
                return this.roundNext5Min(timesheet.clockOn);
            }
        }
        else {
            return this.roundNext5Min(timesheet.clockOn);
        }
    };
    TimesheetService.prototype.roundClockOff = function (timesheet, closeTime) {
        if (!timesheet.clockOff) {
            return null;
        }
        if (closeTime) {
            if (closeTime.getTime() < timesheet.clockOff.getTime() && !timesheet.approved) {
                // site is not open yet, and extended hours not enabled
                return new Date(closeTime);
            }
            else {
                // site is open
                return this.roundPrev5Min(timesheet.clockOff);
            }
        }
        else {
            return this.roundPrev5Min(timesheet.clockOff);
        }
    };
    TimesheetService.prototype.getDefaultTimesForSite = function (site, day) {
        if (!site) {
            return { openTime: null, closeTime: null };
        }
        return {
            openTime: this.expandDayTime(site.dayStart, day),
            closeTime: this.expandDayTime(site.dayEnd, day),
        };
    };
    /**
     * Convert string like "10:11" to a starting time of current date with a default timezone
     * @param time
     */
    TimesheetService.prototype.expandDayTime = function (time, day) {
        if (!time) {
            return null;
        }
        var matches;
        if (matches = /^(\d+):(\d+)/.exec(time)) {
            var hours = +matches[1];
            var minutes = +matches[2];
            return new Date(__WEBPACK_IMPORTED_MODULE_1_moment__(day).utcOffset(DEFAULT_TIMEZONE).hour(hours).minutes(minutes).format());
        }
        else {
            return null;
        }
    };
    TimesheetService.prototype.roundNext5Min = function (date) {
        if (!date) {
            return null;
        }
        var year = date.getFullYear();
        var month = date.getMonth();
        var day = date.getDate();
        var hour = date.getHours();
        var minutes = date.getMinutes();
        var ofs = minutes % 5;
        if (ofs > 0) {
            minutes = minutes + (5 - ofs);
        }
        return new Date(year, month, day, hour, minutes);
    };
    TimesheetService.prototype.roundPrev5Min = function (date) {
        if (!date) {
            return null;
        }
        var year = date.getFullYear();
        var month = date.getMonth();
        var day = date.getDate();
        var hour = date.getHours();
        var minutes = date.getMinutes();
        var ofs = minutes % 5;
        if (ofs > 0) {
            minutes = minutes - ofs;
        }
        return new Date(year, month, day, hour, minutes);
    };
    TimesheetService.prototype.cloneDate = function (date) { return date ? new Date(date) : null; };
    TimesheetService.prototype.parseTimesheet = function (data) {
        var id = data.id, user = data.user, site = data.site, clockOn = data.clockOn, clockOff = data.clockOff, state = data.state, approved = data.approved, deleted_at = data.deleted_at;
        return new __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["c" /* TimesheetModel */](id, user, site, clockOn ? new Date(clockOn) : null, clockOff ? new Date(clockOff) : null, state, approved, deleted_at ? new Date(deleted_at) : null);
    };
    TimesheetService.prototype.parseTimeLog = function (data) {
        var id = data.id, in_or_out = data.in_or_out, date_time = data.date_time, gps_lat = data.gps_lat, gps_lng = data.gps_lng;
        return new __WEBPACK_IMPORTED_MODULE_2__classes_timesheet_model__["b" /* TimeLog */](id, in_or_out, date_time ? new Date(date_time) : null, gps_lat, gps_lng);
    };
    TimesheetService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_4__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__api__["a" /* ApiService */],
            __WEBPACK_IMPORTED_MODULE_5__sites__["a" /* SiteService */]])
    ], TimesheetService);
    return TimesheetService;
}());

//# sourceMappingURL=timesheet.service.js.map

/***/ }),

/***/ 733:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BackgroundImage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var BackgroundImage = (function () {
    function BackgroundImage(_elementRef, _renderer) {
        this._elementRef = _elementRef;
        this._renderer = _renderer;
        this._src = '';
    }
    Object.defineProperty(BackgroundImage.prototype, "src", {
        set: function (val) {
            this._src = Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular_util_util__["l" /* isPresent */])(val) ? val : '';
        },
        enumerable: true,
        configurable: true
    });
    BackgroundImage.prototype.ngOnChanges = function (changes) {
        this._update();
        // console.log("CHANGES background-image", this._src);
        // console.log(changes['src'].isFirstChange());
    };
    BackgroundImage.prototype._update = function () {
        var _this = this;
        var img = new Image();
        img.addEventListener('load', function () {
            _this._elementRef.nativeElement.style.backgroundImage = 'url(' + _this._src + ')';
            _this._loaded(true);
        });
        img.src = this._src;
        this._loaded(false);
    };
    BackgroundImage.prototype._loaded = function (isLoaded) {
        this._elementRef.nativeElement.classList[isLoaded ? 'add' : 'remove']('img-loaded');
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String)
    ], BackgroundImage.prototype, "class", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["E" /* Input */])(),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [String])
    ], BackgroundImage.prototype, "src", null);
    BackgroundImage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'background-image',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/components/background-image/background-image.html"*/`<span class="bg-overlay"></span>\n<ion-spinner name="bubbles"></ion-spinner>\n<ng-content></ng-content>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/components/background-image/background-image.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* ElementRef */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["W" /* Renderer */]])
    ], BackgroundImage);
    return BackgroundImage;
}());

//# sourceMappingURL=background-image.js.map

/***/ }),

/***/ 91:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PrestartConfigurationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__classes_prestart_configuration_model__ = __webpack_require__(565);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PrestartConfigurationService = (function () {
    function PrestartConfigurationService(api) {
        this.api = api;
        this._prestarts = [];
    }
    Object.defineProperty(PrestartConfigurationService.prototype, "prestarts", {
        get: function () {
            return this._prestarts;
        },
        enumerable: true,
        configurable: true
    });
    PrestartConfigurationService.prototype.getData = function () {
        var _this = this;
        console.log("getData prestart");
        var mapPrestart = function (_a) {
            var site_id = _a.site_id, tasks = _a.tasks, swms = _a.swms, reminders = _a.reminders, issues = _a.issues, backupStaff = _a.backupStaff;
            return new __WEBPACK_IMPORTED_MODULE_3__classes_prestart_configuration_model__["a" /* PrestartConfiguration */](site_id, tasks, swms, reminders, issues, backupStaff);
        };
        return this.api.get('/v/1/0/prestart')
            .toPromise()
            .then(function (response) { return response.json().preStarts.map(mapPrestart) || []; })
            .then(function (prestarts) { return _this._prestarts = prestarts; })
            .catch(this.handleError);
    };
    PrestartConfigurationService.prototype.post = function (configuration) {
        var _this = this;
        return this.api
            .post("/v/1/0/prestart/" + configuration.siteId, configuration)
            .toPromise()
            .then(function () {
            // save updated record locally
            var existingPrestartIndex = _this._prestarts.findIndex(function (i) { return i.siteId === configuration.siteId; });
            if (existingPrestartIndex >= 0) {
                _this._prestarts[existingPrestartIndex] = configuration;
            }
            else {
                _this._prestarts.push(configuration);
            }
        })
            .catch(this.handleError);
    };
    PrestartConfigurationService.prototype.addBackupStaff = function (site, worker) {
        var _this = this;
        return this.api
            .post("/v/1/0/site/" + site + "/backupStaff", { userId: worker })
            .toPromise()
            .then(function () {
            // save updated record locally
            var existingPrestartIndex = _this._prestarts.findIndex(function (i) { return i.siteId === site; });
            if (existingPrestartIndex >= 0) {
                var backupStaff = _this._prestarts[existingPrestartIndex].backupStaff;
                if (backupStaff.indexOf(worker) < 0) {
                    backupStaff.push(worker);
                }
            }
        })
            .catch(this.handleError);
    };
    PrestartConfigurationService.prototype.removeBackupStaff = function (site, worker) {
        var _this = this;
        return this.api
            .delete("/v/1/0/site/" + site + "/backupStaff/" + worker)
            .toPromise()
            .then(function () {
            // save updated record locally
            var existingPrestartIndex = _this._prestarts.findIndex(function (i) { return i.siteId === site; });
            if (existingPrestartIndex >= 0) {
                var backupStaff = _this._prestarts[existingPrestartIndex].backupStaff;
                if (backupStaff.indexOf(worker) < 0) {
                    backupStaff.push(worker);
                }
            }
        })
            .catch(this.handleError);
    };
    PrestartConfigurationService.prototype.getBySiteId = function (siteId) {
        return this._prestarts.find(function (i) { return i.siteId === siteId; });
    };
    PrestartConfigurationService.prototype.handleError = function (error) {
        console.error('An error occurred', error); // for demo purposes only
        this._prestarts = [];
        return Promise.reject(error.message || error);
    };
    PrestartConfigurationService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_2__angular_core__["B" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__api__["a" /* ApiService */]])
    ], PrestartConfigurationService);
    return PrestartConfigurationService;
}());

//# sourceMappingURL=prestart-configuration.js.map

/***/ }),

/***/ 92:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export SwmModel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SwmsModel; });
var SwmModel = (function () {
    function SwmModel() {
    }
    return SwmModel;
}());

var SwmsModel = (function () {
    function SwmsModel() {
        this.items = [];
    }
    return SwmsModel;
}());

//# sourceMappingURL=swm.model.js.map

/***/ }),

/***/ 93:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabsNavigationPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ionic_angular__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__clock_off_clock_off__ = __webpack_require__(444);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__clock_on_clock_on__ = __webpack_require__(564);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__prestart_prestart__ = __webpack_require__(575);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_shared__ = __webpack_require__(30);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var TabsNavigationPage = (function () {
    function TabsNavigationPage(sharedService, alertCtrl, auth) {
        this.sharedService = sharedService;
        this.alertCtrl = alertCtrl;
        this.auth = auth;
        //this.tab1Root = ListingPage;
        this.tab1Root = __WEBPACK_IMPORTED_MODULE_5__prestart_prestart__["a" /* PrestartPage */];
        //this.tab2Root = ProfilePage;
        this.tab2Root = __WEBPACK_IMPORTED_MODULE_4__clock_on_clock_on__["a" /* ClockOnPage */];
        this.tab3Root = __WEBPACK_IMPORTED_MODULE_3__clock_off_clock_off__["a" /* ClockOffPage */];
    }
    TabsNavigationPage.prototype.onPrestartSelect = function () {
        var prev = this.tabRef.previousTab(false);
        this.checkAndGoPrestart(__WEBPACK_IMPORTED_MODULE_5__prestart_prestart__["a" /* PrestartPage */], prev);
    };
    TabsNavigationPage.prototype.checkAndGoPrestart = function (successRoute, cancelRoute) {
        var _this = this;
        if (this.sharedService.getSinglePass()) {
            // we have a ticket for single pass to restricted area after sucessful login
            return;
        }
        var alert = this.alertCtrl.create({
            title: 'Please re-enter your password',
            inputs: [
                {
                    name: 'password',
                    placeholder: 'Password',
                    type: 'password'
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function (data) {
                        if (cancelRoute) {
                            _this.tabRef.select(cancelRoute);
                        }
                    }
                },
                {
                    text: 'Sign On',
                    handler: function (data) {
                        var password = data.password;
                        if (!_this.auth.checkPassword(password)) {
                            if (cancelRoute) {
                                _this.tabRef.select(cancelRoute);
                            }
                        }
                    }
                }
            ]
        });
        alert.present();
    };
    TabsNavigationPage.prototype.siteIsOpen = function () {
        return this.sharedService.siteOpened;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["_9" /* ViewChild */])('tabs'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["m" /* Tabs */])
    ], TabsNavigationPage.prototype, "tabRef", void 0);
    TabsNavigationPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["n" /* Component */])({
            selector: 'tabs-navigation',template:/*ion-inline-start:"/home/duane/dev/willow/knd-master/src/pages/tabs-navigation/tabs-navigation.html"*/`<ion-tabs #tabs>\n  <ion-tab [root]="tab1Root"\n    tabTitle="Prestart"\n    tabIcon="apps"\n    [show]="auth.isSupervisor"\n    (ionSelect)="onPrestartSelect()"></ion-tab>\n  <ion-tab [root]="tab2Root"\n    [enabled]="siteIsOpen()"\n    tabTitle="Sign in"\n    tabIcon="person"></ion-tab>\n  <ion-tab [root]="tab3Root"\n    [enabled]="siteIsOpen()"\n    tabTitle="Sign out"\n    tabIcon="notifications"></ion-tab>\n</ion-tabs>\n`/*ion-inline-end:"/home/duane/dev/willow/knd-master/src/pages/tabs-navigation/tabs-navigation.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__providers_shared__["a" /* SharedService */],
            __WEBPACK_IMPORTED_MODULE_0_ionic_angular__["a" /* AlertController */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth__["a" /* AuthService */]])
    ], TabsNavigationPage);
    return TabsNavigationPage;
}());

//# sourceMappingURL=tabs-navigation.js.map

/***/ })

},[593]);
//# sourceMappingURL=main.js.map